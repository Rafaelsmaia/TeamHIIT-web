(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Im={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function eA(){if(av)return Ql;av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Ql.Fragment=e,Ql.jsx=n,Ql.jsxs=n,Ql}var ov;function tA(){return ov||(ov=1,Im.exports=eA()),Im.exports}var y=tA(),Cm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function nA(){if(lv)return Ce;lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,U={};function j(D,W,ae){this.props=D,this.context=W,this.refs=U,this.updater=ae||P}j.prototype.isReactComponent={},j.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function G(){}G.prototype=j.prototype;function Y(D,W,ae){this.props=D,this.context=W,this.refs=U,this.updater=ae||P}var J=Y.prototype=new G;J.constructor=Y,S(J,j.prototype),J.isPureReactComponent=!0;var oe=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function V(D,W,ae,Z,me,Re){return ae=Re.ref,{$$typeof:r,type:D,key:W,ref:ae!==void 0?ae:null,props:Re}}function R(D,W){return V(D.type,W,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return W[ae]})}var N=/\/+/g;function k(D,W){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):W.toString(36)}function C(){}function Ee(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function fe(D,W,ae,Z,me){var Re=typeof D;(Re==="undefined"||Re==="boolean")&&(D=null);var _e=!1;if(D===null)_e=!0;else switch(Re){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(D.$$typeof){case r:case e:_e=!0;break;case b:return _e=D._init,fe(_e(D._payload),W,ae,Z,me)}}if(_e)return me=me(D),_e=Z===""?"."+k(D,0):Z,oe(me)?(ae="",_e!=null&&(ae=_e.replace(N,"$&/")+"/"),fe(me,W,ae,"",function(nt){return nt})):me!=null&&(I(me)&&(me=R(me,ae+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(N,"$&/")+"/")+_e)),W.push(me)),1;_e=0;var at=Z===""?".":Z+":";if(oe(D))for(var He=0;He<D.length;He++)Z=D[He],Re=at+k(Z,He),_e+=fe(Z,W,ae,Re,me);else if(He=w(D),typeof He=="function")for(D=He.call(D),He=0;!(Z=D.next()).done;)Z=Z.value,Re=at+k(Z,He++),_e+=fe(Z,W,ae,Re,me);else if(Re==="object"){if(typeof D.then=="function")return fe(Ee(D),W,ae,Z,me);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return _e}function Q(D,W,ae){if(D==null)return D;var Z=[],me=0;return fe(D,Z,"","",function(Re){return W.call(ae,Re,me++)}),Z}function se(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ue=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function we(){}return Ce.Children={map:Q,forEach:function(D,W,ae){Q(D,function(){W.apply(this,arguments)},ae)},count:function(D){var W=0;return Q(D,function(){W++}),W},toArray:function(D){return Q(D,function(W){return W})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ce.Component=j,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=Y,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(D){return he.H.useMemoCache(D)}},Ce.cache=function(D){return function(){return D.apply(null,arguments)}},Ce.cloneElement=function(D,W,ae){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=S({},D.props),me=D.key,Re=void 0;if(W!=null)for(_e in W.ref!==void 0&&(Re=void 0),W.key!==void 0&&(me=""+W.key),W)!ge.call(W,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&W.ref===void 0||(Z[_e]=W[_e]);var _e=arguments.length-2;if(_e===1)Z.children=ae;else if(1<_e){for(var at=Array(_e),He=0;He<_e;He++)at[He]=arguments[He+2];Z.children=at}return V(D.type,me,void 0,void 0,Re,Z)},Ce.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ce.createElement=function(D,W,ae){var Z,me={},Re=null;if(W!=null)for(Z in W.key!==void 0&&(Re=""+W.key),W)ge.call(W,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(me[Z]=W[Z]);var _e=arguments.length-2;if(_e===1)me.children=ae;else if(1<_e){for(var at=Array(_e),He=0;He<_e;He++)at[He]=arguments[He+2];me.children=at}if(D&&D.defaultProps)for(Z in _e=D.defaultProps,_e)me[Z]===void 0&&(me[Z]=_e[Z]);return V(D,Re,void 0,void 0,null,me)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(D){return{$$typeof:m,render:D}},Ce.isValidElement=I,Ce.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:se}},Ce.memo=function(D,W){return{$$typeof:g,type:D,compare:W===void 0?null:W}},Ce.startTransition=function(D){var W=he.T,ae={};he.T=ae;try{var Z=D(),me=he.S;me!==null&&me(ae,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(we,ue)}catch(Re){ue(Re)}finally{he.T=W}},Ce.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Ce.use=function(D){return he.H.use(D)},Ce.useActionState=function(D,W,ae){return he.H.useActionState(D,W,ae)},Ce.useCallback=function(D,W){return he.H.useCallback(D,W)},Ce.useContext=function(D){return he.H.useContext(D)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(D,W){return he.H.useDeferredValue(D,W)},Ce.useEffect=function(D,W,ae){var Z=he.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(D,W)},Ce.useId=function(){return he.H.useId()},Ce.useImperativeHandle=function(D,W,ae){return he.H.useImperativeHandle(D,W,ae)},Ce.useInsertionEffect=function(D,W){return he.H.useInsertionEffect(D,W)},Ce.useLayoutEffect=function(D,W){return he.H.useLayoutEffect(D,W)},Ce.useMemo=function(D,W){return he.H.useMemo(D,W)},Ce.useOptimistic=function(D,W){return he.H.useOptimistic(D,W)},Ce.useReducer=function(D,W,ae){return he.H.useReducer(D,W,ae)},Ce.useRef=function(D){return he.H.useRef(D)},Ce.useState=function(D){return he.H.useState(D)},Ce.useSyncExternalStore=function(D,W,ae){return he.H.useSyncExternalStore(D,W,ae)},Ce.useTransition=function(){return he.H.useTransition()},Ce.version="19.1.0",Ce}var uv;function Pp(){return uv||(uv=1,Cm.exports=nA()),Cm.exports}var z=Pp(),Dm={exports:{}},Yl={},km={exports:{}},Om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function rA(){return cv||(cv=1,function(r){function e(Q,se){var ue=Q.length;Q.push(se);e:for(;0<ue;){var we=ue-1>>>1,D=Q[we];if(0<o(D,se))Q[we]=se,Q[ue]=D,ue=we;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],ue=Q.pop();if(ue!==se){Q[0]=ue;e:for(var we=0,D=Q.length,W=D>>>1;we<W;){var ae=2*(we+1)-1,Z=Q[ae],me=ae+1,Re=Q[me];if(0>o(Z,ue))me<D&&0>o(Re,Z)?(Q[we]=Re,Q[me]=ue,we=me):(Q[we]=Z,Q[ae]=ue,we=ae);else if(me<D&&0>o(Re,ue))Q[we]=Re,Q[me]=ue,we=me;else break e}}return se}function o(Q,se){var ue=Q.sortIndex-se.sortIndex;return ue!==0?ue:Q.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],b=1,x=null,w=3,P=!1,S=!1,U=!1,j=!1,G=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function oe(Q){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=Q)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function he(Q){if(U=!1,oe(Q),!S)if(n(p)!==null)S=!0,ge||(ge=!0,k());else{var se=n(g);se!==null&&fe(he,se.startTime-Q)}}var ge=!1,V=-1,R=5,I=-1;function M(){return j?!0:!(r.unstable_now()-I<R)}function N(){if(j=!1,ge){var Q=r.unstable_now();I=Q;var se=!0;try{e:{S=!1,U&&(U=!1,Y(V),V=-1),P=!0;var ue=w;try{t:{for(oe(Q),x=n(p);x!==null&&!(x.expirationTime>Q&&M());){var we=x.callback;if(typeof we=="function"){x.callback=null,w=x.priorityLevel;var D=we(x.expirationTime<=Q);if(Q=r.unstable_now(),typeof D=="function"){x.callback=D,oe(Q),se=!0;break t}x===n(p)&&s(p),oe(Q)}else s(p);x=n(p)}if(x!==null)se=!0;else{var W=n(g);W!==null&&fe(he,W.startTime-Q),se=!1}}break e}finally{x=null,w=ue,P=!1}se=void 0}}finally{se?k():ge=!1}}}var k;if(typeof J=="function")k=function(){J(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ee=C.port2;C.port1.onmessage=N,k=function(){Ee.postMessage(null)}}else k=function(){G(N,0)};function fe(Q,se){V=G(function(){Q(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var ue=w;w=se;try{return Q()}finally{w=ue}},r.unstable_requestPaint=function(){j=!0},r.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ue=w;w=Q;try{return se()}finally{w=ue}},r.unstable_scheduleCallback=function(Q,se,ue){var we=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?we+ue:we):ue=we,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ue+D,Q={id:b++,callback:se,priorityLevel:Q,startTime:ue,expirationTime:D,sortIndex:-1},ue>we?(Q.sortIndex=ue,e(g,Q),n(p)===null&&Q===n(g)&&(U?(Y(V),V=-1):U=!0,fe(he,ue-we))):(Q.sortIndex=D,e(p,Q),S||P||(S=!0,ge||(ge=!0,k()))),Q},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(Q){var se=w;return function(){var ue=w;w=se;try{return Q.apply(this,arguments)}finally{w=ue}}}}(Om)),Om}var hv;function iA(){return hv||(hv=1,km.exports=rA()),km.exports}var Mm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function sA(){if(dv)return Jt;dv=1;var r=Pp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:p,containerInfo:g,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,b)},Jt.flushSync=function(p){var g=h.T,b=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=b,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var b=g.as,x=m(b,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:x,integrity:w,fetchPriority:P}):b==="script"&&s.d.X(p,{crossOrigin:x,integrity:w,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,x=m(b,g.crossOrigin);s.d.L(p,b,{crossOrigin:x,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var b=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,b){return h.H.useFormState(p,g,b)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var fv;function aA(){if(fv)return Mm.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=sA(),Mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mv;function oA(){if(mv)return Yl;mv=1;var r=iA(),e=Pp(),n=aA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function h(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return m(d),t;if(f===l)return m(d),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var E=!1,T=d.child;T;){if(T===a){E=!0,a=d,l=f;break}if(T===l){E=!0,l=d,a=f;break}T=T.sibling}if(!E){for(T=f.child;T;){if(T===a){E=!0,a=f,l=d;break}if(T===l){E=!0,l=f,a=d;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),J=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case S:return"Fragment";case j:return"Profiler";case U:return"StrictMode";case he:return"Suspense";case ge:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case P:return"Portal";case J:return(t.displayName||"Context")+".Provider";case Y:return(t._context.displayName||"Context")+".Consumer";case oe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return i=t.displayName||null,i!==null?i:Ee(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Ee(t(i))}catch{}}return null}var fe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},we=[],D=-1;function W(t){return{current:t}}function ae(t){0>D||(t.current=we[D],we[D]=null,D--)}function Z(t,i){D++,we[D]=t.current,t.current=i}var me=W(null),Re=W(null),_e=W(null),at=W(null);function He(t,i){switch(Z(_e,i),Z(Re,t),Z(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?M_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=M_(i),t=P_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ae(me),Z(me,t)}function nt(){ae(me),ae(Re),ae(_e)}function In(t){t.memoizedState!==null&&Z(at,t);var i=me.current,a=P_(i,t.type);i!==a&&(Z(Re,t),Z(me,a))}function Mr(t){Re.current===t&&(ae(me),ae(Re)),at.current===t&&(ae(at),Hl._currentValue=ue)}var vs=Object.prototype.hasOwnProperty,Es=r.unstable_scheduleCallback,bs=r.unstable_cancelCallback,zo=r.unstable_shouldYield,Bu=r.unstable_requestPaint,Cn=r.unstable_now,Nd=r.unstable_getCurrentPriorityLevel,Bo=r.unstable_ImmediatePriority,ba=r.unstable_UserBlockingPriority,Ts=r.unstable_NormalPriority,Id=r.unstable_LowPriority,Ta=r.unstable_IdlePriority,qo=r.log,qu=r.unstable_setDisableYieldValue,ft=null,Qe=null;function _n(t){if(typeof qo=="function"&&qu(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ft,t)}catch{}}var Wt=Math.clz32?Math.clz32:ws,Hu=Math.log,Cd=Math.LN2;function ws(t){return t>>>=0,t===0?32:31-(Hu(t)/Cd|0)|0}var xs=256,As=4194304;function Kn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function wa(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?d=Kn(l):(E&=T,E!==0?d=Kn(E):a||(a=T&~t,a!==0&&(d=Kn(a))))):(T=l&~f,T!==0?d=Kn(T):E!==0?d=Kn(E):a||(a=l&~t,a!==0&&(d=Kn(a)))),d===0?0:i!==0&&i!==d&&(i&f)===0&&(f=d&-d,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:d}function Ss(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ho(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var t=xs;return xs<<=1,(xs&4194048)===0&&(xs=256),t}function Go(){var t=As;return As<<=1,(As&62914560)===0&&(As=4194304),t}function Pr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Vr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function $o(t,i,a,l,d,f){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=E&~a;0<a;){var ee=31-Wt(a),re=1<<ee;T[ee]=0,O[ee]=-1;var $=F[ee];if($!==null)for(F[ee]=null,ee=0;ee<$.length;ee++){var K=$[ee];K!==null&&(K.lane&=-536870913)}a&=~re}l!==0&&sr(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(E&~i))}function sr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Wt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ko(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Wt(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function Ti(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function wi(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:ev(t.type))}function Fu(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var ot=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ot,wt="__reactProps$"+ot,Dn="__reactContainer$"+ot,Qo="__reactEvents$"+ot,Dd="__reactListeners$"+ot,xi="__reactHandles$"+ot,Gu="__reactResources$"+ot,Rs="__reactMarker$"+ot;function Ai(t){delete t[Ct],delete t[wt],delete t[Qo],delete t[Dd],delete t[xi]}function jr(t){var i=t[Ct];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Dn]||a[Ct]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=U_(t);t!==null;){if(a=t[Ct])return a;t=U_(t)}return i}t=a,a=t.parentNode}return null}function ar(t){if(t=t[Ct]||t[Dn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function or(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function sn(t){var i=t[Gu];return i||(i=t[Gu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function vt(t){t[Rs]=!0}var Yo=new Set,Aa={};function Qn(t,i){Lr(t,i),Lr(t+"Capture",i)}function Lr(t,i){for(Aa[t]=i,t=0;t<i.length;t++)Yo.add(i[t])}var $u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ku={},Ns={};function Qu(t){return vs.call(Ns,t)?!0:vs.call(Ku,t)?!1:$u.test(t)?Ns[t]=!0:(Ku[t]=!0,!1)}function Si(t,i,a){if(Qu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function lr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function qt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var Is,Yu;function Ur(t){if(Is===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Is=i&&i[1]||"",Yu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+t+Yu}var Sa=!1;function Ra(t,i){if(!t||Sa)return"";Sa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(K){var $=K}Reflect.construct(t,[],re)}else{try{re.call()}catch(K){$=K}t.call(re.prototype)}}else{try{throw Error()}catch(K){$=K}(re=t())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],T=f[1];if(E&&T){var O=E.split(`
`),F=T.split(`
`);for(d=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(l===O.length||d===F.length)for(l=O.length-1,d=F.length-1;1<=l&&0<=d&&O[l]!==F[d];)d--;for(;1<=l&&0<=d;l--,d--)if(O[l]!==F[d]){if(l!==1||d!==1)do if(l--,d--,0>d||O[l]!==F[d]){var ee=`
`+O[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=d);break}}}finally{Sa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ur(a):""}function Xo(t){switch(t.tag){case 26:case 27:case 5:return Ur(t.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 15:return Ra(t.type,!1);case 11:return Ra(t.type.render,!1);case 1:return Ra(t.type,!0);case 31:return Ur("Activity");default:return""}}function Na(t){try{var i="";do i+=Xo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function kd(t){var i=Wo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){l=""+E,f.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ia(t){t._valueTracker||(t._valueTracker=kd(t))}function Zo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Wo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Od=/[\n"\\]/g;function xt(t){return t.replace(Od,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function vn(t,i,a,l,d,f,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+an(i)):t.value!==""+an(i)&&(t.value=""+an(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Ri(t,E,an(i)):a!=null?Ri(t,E,an(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+an(T):t.removeAttribute("name")}function Ds(t,i,a,l,d,f,E,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+an(a):"",i=i!=null?""+an(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Ri(t,i,a){i==="number"&&Cs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zr(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function We(t,i,a){if(i!=null&&(i=""+an(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+an(a):""}function ks(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=an(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function kn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Os=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Os.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Jo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&Xu(t,d,l)}else for(var f in i)i.hasOwnProperty(f)&&Xu(t,f,i[f])}function el(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Md=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ca(t){return Pd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Br=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qr=null,Hr=null;function tl(t){var i=ar(t);if(i&&(t=i.stateNode)){var a=t[wt]||null;e:switch(t=i.stateNode,i.type){case"input":if(vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[wt]||null;if(!d)throw Error(s(90));vn(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Zo(l)}break e;case"textarea":We(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&zr(t,!!a.multiple,i,!1)}}}var ur=!1;function Wu(t,i,a){if(ur)return t(i,a);ur=!0;try{var l=t(i);return l}finally{if(ur=!1,(qr!==null||Hr!==null)&&(Fc(),qr&&(i=qr,t=Hr,Hr=qr=null,tl(i),t)))for(i=0;i<t.length;i++)tl(t[i])}}function Ms(t,i){var a=t.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Yn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{Mn=!1}var cr=null,Ni=null,Fr=null;function nl(){if(Fr)return Fr;var t,i=Ni,a=i.length,l,d="value"in cr?cr.value:cr.textContent,f=d.length;for(t=0;t<a&&i[t]===d[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===d[f-l];l++);return Fr=d.slice(t,1<l?1-l:void 0)}function hr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function dr(){return!0}function rl(){return!1}function Vt(t){function i(a,l,d,f,E){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?dr:rl,this.isPropagationStopped=rl,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=Vt($e),Vs=b({},$e,{view:0,detail:0}),Zu=Vt(Vs),ka,Oa,fr,js=b({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fr&&(fr&&t.type==="mousemove"?(ka=t.screenX-fr.screenX,Oa=t.screenY-fr.screenY):Oa=ka=0,fr=t),ka)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),Pn=Vt(js),Ju=b({},js,{dataTransfer:0}),Vd=Vt(Ju),Ls=b({},Vs,{relatedTarget:0}),Ma=Vt(Ls),il=b({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=Vt(il),ec=b({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Va=Vt(ec),jd=b({},$e,{data:0}),sl=Vt(jd),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=nc[t])?!!i[t]:!1}function zs(){return al}var rc=b({},Vs,{key:function(t){if(t.key){var i=Us[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(t){return t.type==="keypress"?hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ja=Vt(rc),ic=b({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ol=Vt(ic),Gr=b({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),sc=Vt(Gr),ac=b({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=Vt(ac),lc=b({},js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),La=Vt(lc),on=b({},$e,{newState:0,oldState:0}),uc=Vt(on),cc=[9,13,27,32],mr=Yn&&"CompositionEvent"in window,c=null;Yn&&"documentMode"in document&&(c=document.documentMode);var _=Yn&&"TextEvent"in window&&!c,v=Yn&&(!mr||c&&8<c&&11>=c),A=" ",q=!1;function X(t,i){switch(t){case"keyup":return cc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ue=!1;function Dt(t,i){switch(t){case"compositionend":return le(i);case"keypress":return i.which!==32?null:(q=!0,A);case"textInput":return t=i.data,t===A&&q?null:t;default:return null}}function ze(t,i){if(Ue)return t==="compositionend"||!mr&&X(t,i)?(t=nl(),Fr=Ni=cr=null,Ue=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!jt[t.type]:i==="textarea"}function $r(t,i,a,l){qr?Hr?Hr.push(l):Hr=[l]:qr=l,i=Xc(i,"onChange"),0<i.length&&(a=new Da("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ht=null,pr=null;function ll(t){I_(t,0)}function hc(t){var i=or(t);if(Zo(i))return t}function Xg(t,i){if(t==="change")return i}var Wg=!1;if(Yn){var Ld;if(Yn){var Ud="oninput"in document;if(!Ud){var Zg=document.createElement("div");Zg.setAttribute("oninput","return;"),Ud=typeof Zg.oninput=="function"}Ld=Ud}else Ld=!1;Wg=Ld&&(!document.documentMode||9<document.documentMode)}function Jg(){Ht&&(Ht.detachEvent("onpropertychange",ey),pr=Ht=null)}function ey(t){if(t.propertyName==="value"&&hc(pr)){var i=[];$r(i,pr,t,On(t)),Wu(ll,i)}}function Cw(t,i,a){t==="focusin"?(Jg(),Ht=i,pr=a,Ht.attachEvent("onpropertychange",ey)):t==="focusout"&&Jg()}function Dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hc(pr)}function kw(t,i){if(t==="click")return hc(i)}function Ow(t,i){if(t==="input"||t==="change")return hc(i)}function Mw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:Mw;function ul(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!vs.call(i,d)||!En(t[d],i[d]))return!1}return!0}function ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ny(t,i){var a=ty(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ty(a)}}function ry(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ry(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function iy(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Cs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Cs(t.document)}return i}function zd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Pw=Yn&&"documentMode"in document&&11>=document.documentMode,Ua=null,Bd=null,cl=null,qd=!1;function sy(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qd||Ua==null||Ua!==Cs(l)||(l=Ua,"selectionStart"in l&&zd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cl&&ul(cl,l)||(cl=l,l=Xc(Bd,"onSelect"),0<l.length&&(i=new Da("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ua)))}function Bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var za={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Hd={},ay={};Yn&&(ay=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function qs(t){if(Hd[t])return Hd[t];if(!za[t])return t;var i=za[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ay)return Hd[t]=i[a];return t}var oy=qs("animationend"),ly=qs("animationiteration"),uy=qs("animationstart"),Vw=qs("transitionrun"),jw=qs("transitionstart"),Lw=qs("transitioncancel"),cy=qs("transitionend"),hy=new Map,Fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fd.push("scrollEnd");function Xn(t,i){hy.set(t,i),Qn(i,[t])}var dy=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=dy.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Na(i)},dy.set(t,i),i)}return{value:t,source:i,stack:Na(i)}}var jn=[],Ba=0,Gd=0;function dc(){for(var t=Ba,i=Gd=Ba=0;i<t;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var d=jn[i];jn[i++]=null;var f=jn[i];if(jn[i++]=null,l!==null&&d!==null){var E=l.pending;E===null?d.next=d:(d.next=E.next,E.next=d),l.pending=d}f!==0&&fy(a,d,f)}}function fc(t,i,a,l){jn[Ba++]=t,jn[Ba++]=i,jn[Ba++]=a,jn[Ba++]=l,Gd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function $d(t,i,a,l){return fc(t,i,a,l),mc(t)}function qa(t,i){return fc(t,null,null,i),mc(t)}function fy(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&i!==null&&(d=31-Wt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[i]:l.push(i),i.lane=a|536870912),f):null}function mc(t){if(50<Pl)throw Pl=0,Jf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ha={};function Uw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,l){return new Uw(t,i,a,l)}function Kd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kr(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function my(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function pc(t,i,a,l,d,f){var E=0;if(l=t,typeof t=="function")Kd(t)&&(E=1);else if(typeof t=="string")E=Bx(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=bn(31,a,i,d),t.elementType=I,t.lanes=f,t;case S:return Hs(a.children,d,f,i);case U:E=8,d|=24;break;case j:return t=bn(12,a,i,d|2),t.elementType=j,t.lanes=f,t;case he:return t=bn(13,a,i,d),t.elementType=he,t.lanes=f,t;case ge:return t=bn(19,a,i,d),t.elementType=ge,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case J:E=10;break e;case Y:E=9;break e;case oe:E=11;break e;case V:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=bn(E,a,i,d),i.elementType=t,i.type=l,i.lanes=f,i}function Hs(t,i,a,l){return t=bn(7,t,l,i),t.lanes=a,t}function Qd(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function Yd(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Fa=[],Ga=0,gc=null,yc=0,Ln=[],Un=0,Fs=null,Qr=1,Yr="";function Gs(t,i){Fa[Ga++]=yc,Fa[Ga++]=gc,gc=t,yc=i}function py(t,i,a){Ln[Un++]=Qr,Ln[Un++]=Yr,Ln[Un++]=Fs,Fs=t;var l=Qr;t=Yr;var d=32-Wt(l)-1;l&=~(1<<d),a+=1;var f=32-Wt(i)+d;if(30<f){var E=d-d%5;f=(l&(1<<E)-1).toString(32),l>>=E,d-=E,Qr=1<<32-Wt(i)+d|a<<d|l,Yr=f+t}else Qr=1<<f|a<<d|l,Yr=t}function Xd(t){t.return!==null&&(Gs(t,1),py(t,1,0))}function Wd(t){for(;t===gc;)gc=Fa[--Ga],Fa[Ga]=null,yc=Fa[--Ga],Fa[Ga]=null;for(;t===Fs;)Fs=Ln[--Un],Ln[Un]=null,Yr=Ln[--Un],Ln[Un]=null,Qr=Ln[--Un],Ln[Un]=null}var ln=null,mt=null,Ge=!1,$s=null,gr=!1,Zd=Error(s(519));function Ks(t){var i=Error(s(418,""));throw fl(Vn(i,t)),Zd}function gy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Ct]=t,i[wt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<jl.length;a++)Ve(jl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Ds(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ia(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),ks(i,l.value,l.defaultValue,l.children),Ia(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||O_(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Wc),i=!0):i=!1,i||Ks(t)}function yy(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:ln=ln.return}}function hl(t){if(t!==ln)return!1;if(!Ge)return yy(t),Ge=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||pm(t.type,t.memoizedProps)),a=!a),a&&mt&&Ks(t),yy(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){mt=Zn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}mt=null}}else i===27?(i=mt,Fi(t.type)?(t=vm,vm=null,mt=t):mt=i):mt=ln?Zn(t.stateNode.nextSibling):null;return!0}function dl(){mt=ln=null,Ge=!1}function _y(){var t=$s;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),$s=null),t}function fl(t){$s===null?$s=[t]:$s.push(t)}var Jd=W(null),Qs=null,Xr=null;function Ii(t,i,a){Z(Jd,i._currentValue),i._currentValue=a}function Wr(t){t._currentValue=Jd.current,ae(Jd)}function ef(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function tf(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var E=d.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=d;for(var O=0;O<i.length;O++)if(T.context===i[O]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),ef(f.return,a,t),l||(E=null);break e}f=T.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=a,f=E.alternate,f!==null&&(f.lanes|=a),ef(E,a,t),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===t){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function ml(t,i,a,l){t=null;for(var d=i,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=d.type;En(d.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(d===at.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Hl):t=[Hl])}d=d.return}t!==null&&tf(i,t,a,l),i.flags|=262144}function _c(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ys(t){Qs=t,Xr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return vy(Qs,t)}function vc(t,i){return Qs===null&&Ys(t),vy(t,i)}function vy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Xr===null){if(t===null)throw Error(s(308));Xr=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Xr=Xr.next=i;return a}var zw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Bw=r.unstable_scheduleCallback,qw=r.unstable_NormalPriority,Ot={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new zw,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&Bw(qw,function(){t.controller.abort()})}var gl=null,rf=0,$a=0,Ka=null;function Hw(t,i){if(gl===null){var a=gl=[];rf=0,$a=am(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return rf++,i.then(Ey,Ey),i}function Ey(){if(--rf===0&&gl!==null){Ka!==null&&(Ka.status="fulfilled");var t=gl;gl=null,$a=0,Ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Fw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var by=Q.S;Q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Hw(t,i),by!==null&&by(t,i)};var Xs=W(null);function sf(){var t=Xs.current;return t!==null?t:rt.pooledCache}function Ec(t,i){i===null?Z(Xs,Xs.current):Z(Xs,i.pool)}function Ty(){var t=sf();return t===null?null:{parent:Ot._currentValue,pool:t}}var yl=Error(s(460)),wy=Error(s(474)),bc=Error(s(542)),af={then:function(){}};function xy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Tc(){}function Ay(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Tc,Tc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ry(t),t;default:if(typeof i.status=="string")i.then(Tc,Tc);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ry(t),t}throw _l=i,yl}}var _l=null;function Sy(){if(_l===null)throw Error(s(459));var t=_l;return _l=null,t}function Ry(t){if(t===yl||t===bc)throw Error(s(483))}var Ci=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Di(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ki(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=mc(t),fy(t,null,a),i}return fc(t,l,i,a),mc(t)}function vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ko(t,a)}}function uf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=E:f=f.next=E,a=a.next}while(a!==null);f===null?d=f=i:f=f.next=i}else d=f=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var cf=!1;function El(){if(cf){var t=Ka;if(t!==null)throw t}}function bl(t,i,a,l){cf=!1;var d=t.updateQueue;Ci=!1;var f=d.firstBaseUpdate,E=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var O=T,F=O.next;O.next=null,E===null?f=F:E.next=F,E=O;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,T=ee.lastBaseUpdate,T!==E&&(T===null?ee.firstBaseUpdate=F:T.next=F,ee.lastBaseUpdate=O))}if(f!==null){var re=d.baseState;E=0,ee=F=O=null,T=f;do{var $=T.lane&-536870913,K=$!==T.lane;if(K?(Be&$)===$:(l&$)===$){$!==0&&$===$a&&(cf=!0),ee!==null&&(ee=ee.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,be=T;$=i;var et=a;switch(be.tag){case 1:if(Se=be.payload,typeof Se=="function"){re=Se.call(et,re,$);break e}re=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=be.payload,$=typeof Se=="function"?Se.call(et,re,$):Se,$==null)break e;re=b({},re,$);break e;case 2:Ci=!0}}$=T.callback,$!==null&&(t.flags|=64,K&&(t.flags|=8192),K=d.callbacks,K===null?d.callbacks=[$]:K.push($))}else K={lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ee===null?(F=ee=K,O=re):ee=ee.next=K,E|=$;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;K=T,T=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);ee===null&&(O=re),d.baseState=O,d.firstBaseUpdate=F,d.lastBaseUpdate=ee,f===null&&(d.shared.lanes=0),zi|=E,t.lanes=E,t.memoizedState=re}}function Ny(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Iy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ny(a[t],i)}var Qa=W(null),wc=W(0);function Cy(t,i){t=ii,Z(wc,t),Z(Qa,i),ii=t|i.baseLanes}function hf(){Z(wc,ii),Z(Qa,Qa.current)}function df(){ii=wc.current,ae(Qa),ae(wc)}var Oi=0,ke=null,Ze=null,At=null,xc=!1,Ya=!1,Ws=!1,Ac=0,Tl=0,Xa=null,Gw=0;function Et(){throw Error(s(321))}function ff(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function mf(t,i,a,l,d,f){return Oi=f,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?f0:m0,Ws=!1,f=a(l,d),Ws=!1,Ya&&(f=ky(i,a,l,d)),Dy(t),f}function Dy(t){Q.H=Dc;var i=Ze!==null&&Ze.next!==null;if(Oi=0,At=Ze=ke=null,xc=!1,Tl=0,Xa=null,i)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&_c(t)&&(Lt=!0))}function ky(t,i,a,l){ke=t;var d=0;do{if(Ya&&(Xa=null),Tl=0,Ya=!1,25<=d)throw Error(s(301));if(d+=1,At=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=Zw,f=i(a,l)}while(Ya);return f}function $w(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?wl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(ke.flags|=1024),i}function pf(){var t=Ac!==0;return Ac=0,t}function gf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function yf(t){if(xc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}xc=!1}Oi=0,At=Ze=ke=null,Ya=!1,Tl=Ac=0,Xa=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ke.memoizedState=At=t:At=At.next=t,At}function St(){if(Ze===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=At===null?ke.memoizedState:At.next;if(i!==null)At=i,Ze=t;else{if(t===null)throw ke.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?ke.memoizedState=At=t:At=At.next=t}return At}function _f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wl(t){var i=Tl;return Tl+=1,Xa===null&&(Xa=[]),t=Ay(Xa,t,i),i=ke,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?f0:m0),t}function Sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wl(t);if(t.$$typeof===J)return Zt(t)}throw Error(s(438,String(t)))}function vf(t){var i=null,a=ke.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_f(),ke.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Zr(t,i){return typeof i=="function"?i(t):i}function Rc(t){var i=St();return Ef(i,Ze,t)}function Ef(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var E=d.next;d.next=f.next,f.next=E}i.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{i=d.next;var T=E=null,O=null,F=i,ee=!1;do{var re=F.lane&-536870913;if(re!==F.lane?(Be&re)===re:(Oi&re)===re){var $=F.revertLane;if($===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),re===$a&&(ee=!0);else if((Oi&$)===$){F=F.next,$===$a&&(ee=!0);continue}else re={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(T=O=re,E=f):O=O.next=re,ke.lanes|=$,zi|=$;re=F.action,Ws&&a(f,re),f=F.hasEagerState?F.eagerState:a(f,re)}else $={lane:re,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(T=O=$,E=f):O=O.next=$,ke.lanes|=re,zi|=re;F=F.next}while(F!==null&&F!==i);if(O===null?E=f:O.next=T,!En(f,t.memoizedState)&&(Lt=!0,ee&&(a=Ka,a!==null)))throw a;t.memoizedState=f,t.baseState=E,t.baseQueue=O,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function bf(t){var i=St(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=i.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do f=t(f,E.action),E=E.next;while(E!==d);En(f,i.memoizedState)||(Lt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Oy(t,i,a){var l=ke,d=St(),f=Ge;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!En((Ze||d).memoizedState,a);E&&(d.memoizedState=a,Lt=!0),d=d.queue;var T=Vy.bind(null,l,d,t);if(xl(2048,8,T,[t]),d.getSnapshot!==i||E||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Wa(9,Nc(),Py.bind(null,l,d,a,i),null),rt===null)throw Error(s(349));f||(Oi&124)!==0||My(l,i,a)}return a}function My(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ke.updateQueue,i===null?(i=_f(),ke.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Py(t,i,a,l){i.value=a,i.getSnapshot=l,jy(i)&&Ly(t)}function Vy(t,i,a){return a(function(){jy(i)&&Ly(t)})}function jy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function Ly(t){var i=qa(t,2);i!==null&&Sn(i,t,2)}function Tf(t){var i=cn();if(typeof t=="function"){var a=t;if(t=a(),Ws){_n(!0);try{a()}finally{_n(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:t},i}function Uy(t,i,a,l){return t.baseState=a,Ef(t,Ze,typeof l=="function"?l:Zr)}function Kw(t,i,a,l,d){if(Cc(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,zy(i,f)):(f.next=a.next,i.pending=a.next=f)}}function zy(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var f=Q.T,E={};Q.T=E;try{var T=a(d,l),O=Q.S;O!==null&&O(E,T),By(t,i,T)}catch(F){wf(t,i,F)}finally{Q.T=f}}else try{f=a(d,l),By(t,i,f)}catch(F){wf(t,i,F)}}function By(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qy(t,i,l)},function(l){return wf(t,i,l)}):qy(t,i,a)}function qy(t,i,a){i.status="fulfilled",i.value=a,Hy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,zy(t,a)))}function wf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Hy(i),i=i.next;while(i!==l)}t.action=null}function Hy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Fy(t,i){return i}function Gy(t,i){if(Ge){var a=rt.formState;if(a!==null){e:{var l=ke;if(Ge){if(mt){t:{for(var d=mt,f=gr;d.nodeType!==8;){if(!f){d=null;break t}if(d=Zn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){mt=Zn(d.nextSibling),l=d.data==="F!";break e}}Ks(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:i},a.queue=l,a=c0.bind(null,ke,l),l.dispatch=a,l=Tf(!1),f=Nf.bind(null,ke,!1,l.queue),l=cn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=Kw.bind(null,ke,d,f,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function $y(t){var i=St();return Ky(i,Ze,t)}function Ky(t,i,a){if(i=Ef(t,i,Fy)[0],t=Rc(Zr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=wl(i)}catch(E){throw E===yl?bc:E}else l=i;i=St();var d=i.queue,f=d.dispatch;return a!==i.memoizedState&&(ke.flags|=2048,Wa(9,Nc(),Qw.bind(null,d,a),null)),[l,f,t]}function Qw(t,i){t.action=i}function Qy(t){var i=St(),a=Ze;if(a!==null)return Ky(i,a,t);St(),i=i.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Wa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=ke.updateQueue,i===null&&(i=_f(),ke.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Nc(){return{destroy:void 0,resource:void 0}}function Yy(){return St().memoizedState}function Ic(t,i,a,l){var d=cn();l=l===void 0?null:l,ke.flags|=t,d.memoizedState=Wa(1|i,Nc(),a,l)}function xl(t,i,a,l){var d=St();l=l===void 0?null:l;var f=d.memoizedState.inst;Ze!==null&&l!==null&&ff(l,Ze.memoizedState.deps)?d.memoizedState=Wa(i,f,a,l):(ke.flags|=t,d.memoizedState=Wa(1|i,f,a,l))}function Xy(t,i){Ic(8390656,8,t,i)}function Wy(t,i){xl(2048,8,t,i)}function Zy(t,i){return xl(4,2,t,i)}function Jy(t,i){return xl(4,4,t,i)}function e0(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function t0(t,i,a){a=a!=null?a.concat([t]):null,xl(4,4,e0.bind(null,i,t),a)}function xf(){}function n0(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&ff(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function r0(t,i){var a=St();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&ff(i,l[1]))return l[0];if(l=t(),Ws){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,i],l}function Af(t,i,a){return a===void 0||(Oi&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=a_(),ke.lanes|=t,zi|=t,a)}function i0(t,i,a,l){return En(a,i)?a:Qa.current!==null?(t=Af(t,a,l),En(t,i)||(Lt=!0),t):(Oi&42)===0?(Lt=!0,t.memoizedState=a):(t=a_(),ke.lanes|=t,zi|=t,i)}function s0(t,i,a,l,d){var f=se.p;se.p=f!==0&&8>f?f:8;var E=Q.T,T={};Q.T=T,Nf(t,!1,i,a);try{var O=d(),F=Q.S;if(F!==null&&F(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ee=Fw(O,l);Al(t,i,ee,An(t))}else Al(t,i,l,An(t))}catch(re){Al(t,i,{then:function(){},status:"rejected",reason:re},An())}finally{se.p=f,Q.T=E}}function Yw(){}function Sf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=a0(t).queue;s0(t,d,i,ue,a===null?Yw:function(){return o0(t),a(l)})}function a0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:ue},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function o0(t){var i=a0(t).next.queue;Al(t,i,{},An())}function Rf(){return Zt(Hl)}function l0(){return St().memoizedState}function u0(){return St().memoizedState}function Xw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Di(a);var l=ki(i,t,a);l!==null&&(Sn(l,i,a),vl(l,i,a)),i={cache:nf()},t.payload=i;return}i=i.return}}function Ww(t,i,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Cc(t)?h0(i,a):(a=$d(t,i,a,l),a!==null&&(Sn(a,t,l),d0(a,i,l)))}function c0(t,i,a){var l=An();Al(t,i,a,l)}function Al(t,i,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cc(t))h0(i,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var E=i.lastRenderedState,T=f(E,a);if(d.hasEagerState=!0,d.eagerState=T,En(T,E))return fc(t,i,d,0),rt===null&&dc(),!1}catch{}finally{}if(a=$d(t,i,d,l),a!==null)return Sn(a,t,l),d0(a,i,l),!0}return!1}function Nf(t,i,a,l){if(l={lane:2,revertLane:am(),action:l,hasEagerState:!1,eagerState:null,next:null},Cc(t)){if(i)throw Error(s(479))}else i=$d(t,a,l,2),i!==null&&Sn(i,t,2)}function Cc(t){var i=t.alternate;return t===ke||i!==null&&i===ke}function h0(t,i){Ya=xc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function d0(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ko(t,a)}}var Dc={readContext:Zt,use:Sc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},f0={readContext:Zt,use:Sc,useCallback:function(t,i){return cn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:Xy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ic(4194308,4,e0.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ic(4194308,4,t,i)},useInsertionEffect:function(t,i){Ic(4,2,t,i)},useMemo:function(t,i){var a=cn();i=i===void 0?null:i;var l=t();if(Ws){_n(!0);try{t()}finally{_n(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=cn();if(a!==void 0){var d=a(i);if(Ws){_n(!0);try{a(i)}finally{_n(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=Ww.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var i=cn();return t={current:t},i.memoizedState=t},useState:function(t){t=Tf(t);var i=t.queue,a=c0.bind(null,ke,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,i){var a=cn();return Af(a,t,i)},useTransition:function(){var t=Tf(!1);return t=s0.bind(null,ke,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=ke,d=cn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(Be&124)!==0||My(l,i,a)}d.memoizedState=a;var f={value:a,getSnapshot:i};return d.queue=f,Xy(Vy.bind(null,l,f,t),[t]),l.flags|=2048,Wa(9,Nc(),Py.bind(null,l,f,a,i),null),a},useId:function(){var t=cn(),i=rt.identifierPrefix;if(Ge){var a=Yr,l=Qr;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Ac++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=Gw++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Rf,useFormState:Gy,useActionState:Gy,useOptimistic:function(t){var i=cn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Nf.bind(null,ke,!0,a),a.dispatch=i,[t,i]},useMemoCache:vf,useCacheRefresh:function(){return cn().memoizedState=Xw.bind(null,ke)}},m0={readContext:Zt,use:Sc,useCallback:n0,useContext:Zt,useEffect:Wy,useImperativeHandle:t0,useInsertionEffect:Zy,useLayoutEffect:Jy,useMemo:r0,useReducer:Rc,useRef:Yy,useState:function(){return Rc(Zr)},useDebugValue:xf,useDeferredValue:function(t,i){var a=St();return i0(a,Ze.memoizedState,t,i)},useTransition:function(){var t=Rc(Zr)[0],i=St().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:Oy,useId:l0,useHostTransitionStatus:Rf,useFormState:$y,useActionState:$y,useOptimistic:function(t,i){var a=St();return Uy(a,Ze,t,i)},useMemoCache:vf,useCacheRefresh:u0},Zw={readContext:Zt,use:Sc,useCallback:n0,useContext:Zt,useEffect:Wy,useImperativeHandle:t0,useInsertionEffect:Zy,useLayoutEffect:Jy,useMemo:r0,useReducer:bf,useRef:Yy,useState:function(){return bf(Zr)},useDebugValue:xf,useDeferredValue:function(t,i){var a=St();return Ze===null?Af(a,t,i):i0(a,Ze.memoizedState,t,i)},useTransition:function(){var t=bf(Zr)[0],i=St().memoizedState;return[typeof t=="boolean"?t:wl(t),i]},useSyncExternalStore:Oy,useId:l0,useHostTransitionStatus:Rf,useFormState:Qy,useActionState:Qy,useOptimistic:function(t,i){var a=St();return Ze!==null?Uy(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:vf,useCacheRefresh:u0},Za=null,Sl=0;function kc(t){var i=Sl;return Sl+=1,Za===null&&(Za=[]),Ay(Za,t,i)}function Rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Oc(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function p0(t){var i=t._init;return i(t._payload)}function g0(t){function i(B,L){if(t){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function a(B,L){if(!t)return null;for(;L!==null;)i(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function d(B,L){return B=Kr(B,L),B.index=0,B.sibling=null,B}function f(B,L,H){return B.index=H,t?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=67108866,L):H):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function E(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function T(B,L,H,te){return L===null||L.tag!==6?(L=Qd(H,B.mode,te),L.return=B,L):(L=d(L,H),L.return=B,L)}function O(B,L,H,te){var pe=H.type;return pe===S?ee(B,L,H.props.children,te,H.key):L!==null&&(L.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&p0(pe)===L.type)?(L=d(L,H.props),Rl(L,H),L.return=B,L):(L=pc(H.type,H.key,H.props,null,B.mode,te),Rl(L,H),L.return=B,L)}function F(B,L,H,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Yd(H,B.mode,te),L.return=B,L):(L=d(L,H.children||[]),L.return=B,L)}function ee(B,L,H,te,pe){return L===null||L.tag!==7?(L=Hs(H,B.mode,te,pe),L.return=B,L):(L=d(L,H),L.return=B,L)}function re(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Qd(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return H=pc(L.type,L.key,L.props,null,B.mode,H),Rl(H,L),H.return=B,H;case P:return L=Yd(L,B.mode,H),L.return=B,L;case R:var te=L._init;return L=te(L._payload),re(B,L,H)}if(fe(L)||k(L))return L=Hs(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return re(B,kc(L),H);if(L.$$typeof===J)return re(B,vc(B,L),H);Oc(B,L)}return null}function $(B,L,H,te){var pe=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:T(B,L,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===pe?O(B,L,H,te):null;case P:return H.key===pe?F(B,L,H,te):null;case R:return pe=H._init,H=pe(H._payload),$(B,L,H,te)}if(fe(H)||k(H))return pe!==null?null:ee(B,L,H,te,null);if(typeof H.then=="function")return $(B,L,kc(H),te);if(H.$$typeof===J)return $(B,L,vc(B,H),te);Oc(B,H)}return null}function K(B,L,H,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(H)||null,T(L,B,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case w:return B=B.get(te.key===null?H:te.key)||null,O(L,B,te,pe);case P:return B=B.get(te.key===null?H:te.key)||null,F(L,B,te,pe);case R:var Me=te._init;return te=Me(te._payload),K(B,L,H,te,pe)}if(fe(te)||k(te))return B=B.get(H)||null,ee(L,B,te,pe,null);if(typeof te.then=="function")return K(B,L,H,kc(te),pe);if(te.$$typeof===J)return K(B,L,H,vc(L,te),pe);Oc(L,te)}return null}function Se(B,L,H,te){for(var pe=null,Me=null,ye=L,Te=L=0,zt=null;ye!==null&&Te<H.length;Te++){ye.index>Te?(zt=ye,ye=null):zt=ye.sibling;var Fe=$(B,ye,H[Te],te);if(Fe===null){ye===null&&(ye=zt);break}t&&ye&&Fe.alternate===null&&i(B,ye),L=f(Fe,L,Te),Me===null?pe=Fe:Me.sibling=Fe,Me=Fe,ye=zt}if(Te===H.length)return a(B,ye),Ge&&Gs(B,Te),pe;if(ye===null){for(;Te<H.length;Te++)ye=re(B,H[Te],te),ye!==null&&(L=f(ye,L,Te),Me===null?pe=ye:Me.sibling=ye,Me=ye);return Ge&&Gs(B,Te),pe}for(ye=l(ye);Te<H.length;Te++)zt=K(ye,B,Te,H[Te],te),zt!==null&&(t&&zt.alternate!==null&&ye.delete(zt.key===null?Te:zt.key),L=f(zt,L,Te),Me===null?pe=zt:Me.sibling=zt,Me=zt);return t&&ye.forEach(function(Yi){return i(B,Yi)}),Ge&&Gs(B,Te),pe}function be(B,L,H,te){if(H==null)throw Error(s(151));for(var pe=null,Me=null,ye=L,Te=L=0,zt=null,Fe=H.next();ye!==null&&!Fe.done;Te++,Fe=H.next()){ye.index>Te?(zt=ye,ye=null):zt=ye.sibling;var Yi=$(B,ye,Fe.value,te);if(Yi===null){ye===null&&(ye=zt);break}t&&ye&&Yi.alternate===null&&i(B,ye),L=f(Yi,L,Te),Me===null?pe=Yi:Me.sibling=Yi,Me=Yi,ye=zt}if(Fe.done)return a(B,ye),Ge&&Gs(B,Te),pe;if(ye===null){for(;!Fe.done;Te++,Fe=H.next())Fe=re(B,Fe.value,te),Fe!==null&&(L=f(Fe,L,Te),Me===null?pe=Fe:Me.sibling=Fe,Me=Fe);return Ge&&Gs(B,Te),pe}for(ye=l(ye);!Fe.done;Te++,Fe=H.next())Fe=K(ye,B,Te,Fe.value,te),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?Te:Fe.key),L=f(Fe,L,Te),Me===null?pe=Fe:Me.sibling=Fe,Me=Fe);return t&&ye.forEach(function(Jx){return i(B,Jx)}),Ge&&Gs(B,Te),pe}function et(B,L,H,te){if(typeof H=="object"&&H!==null&&H.type===S&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var pe=H.key;L!==null;){if(L.key===pe){if(pe=H.type,pe===S){if(L.tag===7){a(B,L.sibling),te=d(L,H.props.children),te.return=B,B=te;break e}}else if(L.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&p0(pe)===L.type){a(B,L.sibling),te=d(L,H.props),Rl(te,H),te.return=B,B=te;break e}a(B,L);break}else i(B,L);L=L.sibling}H.type===S?(te=Hs(H.props.children,B.mode,te,H.key),te.return=B,B=te):(te=pc(H.type,H.key,H.props,null,B.mode,te),Rl(te,H),te.return=B,B=te)}return E(B);case P:e:{for(pe=H.key;L!==null;){if(L.key===pe)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(B,L.sibling),te=d(L,H.children||[]),te.return=B,B=te;break e}else{a(B,L);break}else i(B,L);L=L.sibling}te=Yd(H,B.mode,te),te.return=B,B=te}return E(B);case R:return pe=H._init,H=pe(H._payload),et(B,L,H,te)}if(fe(H))return Se(B,L,H,te);if(k(H)){if(pe=k(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),be(B,L,H,te)}if(typeof H.then=="function")return et(B,L,kc(H),te);if(H.$$typeof===J)return et(B,L,vc(B,H),te);Oc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(B,L.sibling),te=d(L,H),te.return=B,B=te):(a(B,L),te=Qd(H,B.mode,te),te.return=B,B=te),E(B)):a(B,L)}return function(B,L,H,te){try{Sl=0;var pe=et(B,L,H,te);return Za=null,pe}catch(ye){if(ye===yl||ye===bc)throw ye;var Me=bn(29,ye,null,B.mode);return Me.lanes=te,Me.return=B,Me}finally{}}}var Ja=g0(!0),y0=g0(!1),zn=W(null),yr=null;function Mi(t){var i=t.alternate;Z(Mt,Mt.current&1),Z(zn,t),yr===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(yr=t)}function _0(t){if(t.tag===22){if(Z(Mt,Mt.current),Z(zn,t),yr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(yr=t)}}else Pi()}function Pi(){Z(Mt,Mt.current),Z(zn,zn.current)}function Jr(t){ae(zn),yr===t&&(yr=null),ae(Mt)}var Mt=W(0);function Mc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||_m(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function If(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Cf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),d=Di(l);d.payload=i,a!=null&&(d.callback=a),i=ki(t,d,l),i!==null&&(Sn(i,t,l),vl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),d=Di(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=ki(t,d,l),i!==null&&(Sn(i,t,l),vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Di(a);l.tag=2,i!=null&&(l.callback=i),i=ki(t,l,a),i!==null&&(Sn(i,t,a),vl(i,t,a))}};function v0(t,i,a,l,d,f,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,E):i.prototype&&i.prototype.isPureReactComponent?!ul(a,l)||!ul(d,f):!0}function E0(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Cf.enqueueReplaceState(i,i.state,null)}function Zs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var Pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function b0(t){Pc(t)}function T0(t){console.error(t)}function w0(t){Pc(t)}function Vc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function x0(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Df(t,i,a){return a=Di(a),a.tag=3,a.payload={element:null},a.callback=function(){Vc(t,i)},a}function A0(t){return t=Di(t),t.tag=3,t}function S0(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){x0(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){x0(i,a,l),typeof d!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function Jw(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ml(i,a,d,!0),a=zn.current,a!==null){switch(a.tag){case 13:return yr===null?tm():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===af?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),rm(t,l,d)),!1;case 22:return a.flags|=65536,l===af?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),rm(t,l,d)),!1}throw Error(s(435,a.tag))}return rm(t,l,d),tm(),!1}if(Ge)return i=zn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Zd&&(t=Error(s(422),{cause:l}),fl(Vn(t,a)))):(l!==Zd&&(i=Error(s(423),{cause:l}),fl(Vn(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Vn(l,a),d=Df(t.stateNode,l,d),uf(t,d),pt!==4&&(pt=2)),!1;var f=Error(s(520),{cause:l});if(f=Vn(f,a),Ml===null?Ml=[f]:Ml.push(f),pt!==4&&(pt=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Df(a.stateNode,l,t),uf(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bi===null||!Bi.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=A0(d),S0(d,t,a,l),uf(a,d),!1}a=a.return}while(a!==null);return!1}var R0=Error(s(461)),Lt=!1;function Ft(t,i,a,l){i.child=t===null?y0(i,null,a,l):Ja(i,t.child,a,l)}function N0(t,i,a,l,d){a=a.render;var f=i.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return Ys(i),l=mf(t,i,a,E,f,d),T=pf(),t!==null&&!Lt?(gf(t,i,d),ei(t,i,d)):(Ge&&T&&Xd(i),i.flags|=1,Ft(t,i,l,d),i.child)}function I0(t,i,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Kd(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,C0(t,i,f,l,d)):(t=pc(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Uf(t,d)){var E=f.memoizedProps;if(a=a.compare,a=a!==null?a:ul,a(E,l)&&t.ref===i.ref)return ei(t,i,d)}return i.flags|=1,t=Kr(f,l),t.ref=i.ref,t.return=i,i.child=t}function C0(t,i,a,l,d){if(t!==null){var f=t.memoizedProps;if(ul(f,l)&&t.ref===i.ref)if(Lt=!1,i.pendingProps=l=f,Uf(t,d))(t.flags&131072)!==0&&(Lt=!0);else return i.lanes=t.lanes,ei(t,i,d)}return kf(t,i,a,l,d)}function D0(t,i,a){var l=i.pendingProps,d=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(d=i.child=t.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return k0(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ec(i,f!==null?f.cachePool:null),f!==null?Cy(i,f):hf(),_0(i);else return i.lanes=i.childLanes=536870912,k0(t,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Ec(i,f.cachePool),Cy(i,f),Pi(),i.memoizedState=null):(t!==null&&Ec(i,null),hf(),Pi());return Ft(t,i,d,a),i.child}function k0(t,i,a,l){var d=sf();return d=d===null?null:{parent:Ot._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Ec(i,null),hf(),_0(i),t!==null&&ml(t,i,l,!0),null}function jc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function kf(t,i,a,l,d){return Ys(i),a=mf(t,i,a,l,void 0,d),l=pf(),t!==null&&!Lt?(gf(t,i,d),ei(t,i,d)):(Ge&&l&&Xd(i),i.flags|=1,Ft(t,i,a,d),i.child)}function O0(t,i,a,l,d,f){return Ys(i),i.updateQueue=null,a=ky(i,l,a,d),Dy(t),l=pf(),t!==null&&!Lt?(gf(t,i,f),ei(t,i,f)):(Ge&&l&&Xd(i),i.flags|=1,Ft(t,i,a,f),i.child)}function M0(t,i,a,l,d){if(Ys(i),i.stateNode===null){var f=Ha,E=a.contextType;typeof E=="object"&&E!==null&&(f=Zt(E)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},of(i),E=a.contextType,f.context=typeof E=="object"&&E!==null?Zt(E):Ha,f.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(If(i,a,E,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&Cf.enqueueReplaceState(f,f.state,null),bl(i,l,f,d),El(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,O=Zs(a,T);f.props=O;var F=f.context,ee=a.contextType;E=Ha,typeof ee=="object"&&ee!==null&&(E=Zt(ee));var re=a.getDerivedStateFromProps;ee=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,ee||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||F!==E)&&E0(i,f,l,E),Ci=!1;var $=i.memoizedState;f.state=$,bl(i,l,f,d),El(),F=i.memoizedState,T||$!==F||Ci?(typeof re=="function"&&(If(i,a,re,l),F=i.memoizedState),(O=Ci||v0(i,a,O,l,$,F,E))?(ee||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),f.props=l,f.state=F,f.context=E,l=O):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,lf(t,i),E=i.memoizedProps,ee=Zs(a,E),f.props=ee,re=i.pendingProps,$=f.context,F=a.contextType,O=Ha,typeof F=="object"&&F!==null&&(O=Zt(F)),T=a.getDerivedStateFromProps,(F=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==re||$!==O)&&E0(i,f,l,O),Ci=!1,$=i.memoizedState,f.state=$,bl(i,l,f,d),El();var K=i.memoizedState;E!==re||$!==K||Ci||t!==null&&t.dependencies!==null&&_c(t.dependencies)?(typeof T=="function"&&(If(i,a,T,l),K=i.memoizedState),(ee=Ci||v0(i,a,ee,l,$,K,O)||t!==null&&t.dependencies!==null&&_c(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,O)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),f.props=l,f.state=K,f.context=O,l=ee):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,jc(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=Ja(i,t.child,null,d),i.child=Ja(i,null,a,d)):Ft(t,i,a,d),i.memoizedState=f.state,t=i.child):t=ei(t,i,d),t}function P0(t,i,a,l){return dl(),i.flags|=256,Ft(t,i,a,l),i.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(t){return{baseLanes:t,cachePool:Ty()}}function Pf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Bn),t}function V0(t,i,a){var l=i.pendingProps,d=!1,f=(i.flags&128)!==0,E;if((E=f)||(E=t!==null&&t.memoizedState===null?!1:(Mt.current&2)!==0),E&&(d=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Ge){if(d?Mi(i):Pi(),Ge){var T=mt,O;if(O=T){e:{for(O=T,T=gr;O.nodeType!==8;){if(!T){T=null;break e}if(O=Zn(O.nextSibling),O===null){T=null;break e}}T=O}T!==null?(i.memoizedState={dehydrated:T,treeContext:Fs!==null?{id:Qr,overflow:Yr}:null,retryLane:536870912,hydrationErrors:null},O=bn(18,null,null,0),O.stateNode=T,O.return=i,i.child=O,ln=i,mt=null,O=!0):O=!1}O||Ks(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return _m(T)?i.lanes=32:i.lanes=536870912,null;Jr(i)}return T=l.children,l=l.fallback,d?(Pi(),d=i.mode,T=Lc({mode:"hidden",children:T},d),l=Hs(l,d,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,d=i.child,d.memoizedState=Mf(a),d.childLanes=Pf(t,E,a),i.memoizedState=Of,l):(Mi(i),Vf(i,T))}if(O=t.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(f)i.flags&256?(Mi(i),i.flags&=-257,i=jf(t,i,a)):i.memoizedState!==null?(Pi(),i.child=t.child,i.flags|=128,i=null):(Pi(),d=l.fallback,T=i.mode,l=Lc({mode:"visible",children:l.children},T),d=Hs(d,T,a,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,Ja(i,t.child,null,a),l=i.child,l.memoizedState=Mf(a),l.childLanes=Pf(t,E,a),i.memoizedState=Of,i=d);else if(Mi(i),_m(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,fl({value:l,source:null,stack:null}),i=jf(t,i,a)}else if(Lt||ml(t,i,a,!1),E=(a&t.childLanes)!==0,Lt||E){if(E=rt,E!==null&&(l=a&-a,l=(l&42)!==0?1:Ti(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,qa(t,l),Sn(E,t,l),R0;T.data==="$?"||tm(),i=jf(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,mt=Zn(T.nextSibling),ln=i,Ge=!0,$s=null,gr=!1,t!==null&&(Ln[Un++]=Qr,Ln[Un++]=Yr,Ln[Un++]=Fs,Qr=t.id,Yr=t.overflow,Fs=i),i=Vf(i,l.children),i.flags|=4096);return i}return d?(Pi(),d=l.fallback,T=i.mode,O=t.child,F=O.sibling,l=Kr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?d=Kr(F,d):(d=Hs(d,T,a,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,T=t.child.memoizedState,T===null?T=Mf(a):(O=T.cachePool,O!==null?(F=Ot._currentValue,O=O.parent!==F?{parent:F,pool:F}:O):O=Ty(),T={baseLanes:T.baseLanes|a,cachePool:O}),d.memoizedState=T,d.childLanes=Pf(t,E,a),i.memoizedState=Of,l):(Mi(i),a=t.child,t=a.sibling,a=Kr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function Vf(t,i){return i=Lc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Lc(t,i){return t=bn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function jf(t,i,a){return Ja(i,t.child,null,a),t=Vf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function j0(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ef(t.return,i,a)}function Lf(t,i,a,l,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=d)}function L0(t,i,a){var l=i.pendingProps,d=l.revealOrder,f=l.tail;if(Ft(t,i,l.children,a),l=Mt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j0(t,a,i);else if(t.tag===19)j0(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Z(Mt,l),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Mc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Lf(i,!1,d,a,f);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Mc(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Lf(i,!0,a,null,f);break;case"together":Lf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ei(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zi|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ml(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Kr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Kr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Uf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&_c(t)))}function ex(t,i,a){switch(i.tag){case 3:He(i,i.stateNode.containerInfo),Ii(i,Ot,t.memoizedState.cache),dl();break;case 27:case 5:In(i);break;case 4:He(i,i.stateNode.containerInfo);break;case 10:Ii(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Mi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?V0(t,i,a):(Mi(i),t=ei(t,i,a),t!==null?t.sibling:null);Mi(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ml(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return L0(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Z(Mt,Mt.current),l)break;return null;case 22:case 23:return i.lanes=0,D0(t,i,a);case 24:Ii(i,Ot,t.memoizedState.cache)}return ei(t,i,a)}function U0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Lt=!0;else{if(!Uf(t,a)&&(i.flags&128)===0)return Lt=!1,ex(t,i,a);Lt=(t.flags&131072)!==0}else Lt=!1,Ge&&(i.flags&1048576)!==0&&py(i,yc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,d=l._init;if(l=d(l._payload),i.type=l,typeof l=="function")Kd(l)?(t=Zs(l,t),i.tag=1,i=M0(null,i,l,t,a)):(i.tag=0,i=kf(null,i,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===oe){i.tag=11,i=N0(null,i,l,t,a);break e}else if(d===V){i.tag=14,i=I0(null,i,l,t,a);break e}}throw i=Ee(l)||l,Error(s(306,i,""))}}return i;case 0:return kf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=Zs(l,i.pendingProps),M0(t,i,l,d,a);case 3:e:{if(He(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;d=f.element,lf(t,i),bl(i,l,null,a);var E=i.memoizedState;if(l=E.cache,Ii(i,Ot,l),l!==f.cache&&tf(i,[Ot],a,!0),El(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=P0(t,i,l,a);break e}else if(l!==d){d=Vn(Error(s(424)),i),fl(d),i=P0(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(mt=Zn(t.firstChild),ln=i,Ge=!0,$s=null,gr=!0,a=y0(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(dl(),l===d){i=ei(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return jc(t,i),t===null?(a=H_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ge||(a=i.type,t=i.pendingProps,l=Zc(_e.current).createElement(a),l[Ct]=i,l[wt]=t,$t(l,a,t),vt(l),i.stateNode=l):i.memoizedState=H_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return In(i),t===null&&Ge&&(l=i.stateNode=z_(i.type,i.pendingProps,_e.current),ln=i,gr=!0,d=mt,Fi(i.type)?(vm=d,mt=Zn(l.firstChild)):mt=d),Ft(t,i,i.pendingProps.children,a),jc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Ge&&((d=l=mt)&&(l=Nx(l,i.type,i.pendingProps,gr),l!==null?(i.stateNode=l,ln=i,mt=Zn(l.firstChild),gr=!1,d=!0):d=!1),d||Ks(i)),In(i),d=i.type,f=i.pendingProps,E=t!==null?t.memoizedProps:null,l=f.children,pm(d,f)?l=null:E!==null&&pm(d,E)&&(i.flags|=32),i.memoizedState!==null&&(d=mf(t,i,$w,null,null,a),Hl._currentValue=d),jc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Ge&&((t=a=mt)&&(a=Ix(a,i.pendingProps,gr),a!==null?(i.stateNode=a,ln=i,mt=null,t=!0):t=!1),t||Ks(i)),null;case 13:return V0(t,i,a);case 4:return He(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ja(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return N0(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ii(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,Ys(i),d=Zt(d),l=l(d),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return I0(t,i,i.type,i.pendingProps,a);case 15:return C0(t,i,i.type,i.pendingProps,a);case 19:return L0(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=Lc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Kr(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return D0(t,i,a);case 24:return Ys(i),l=Zt(Ot),t===null?(d=sf(),d===null&&(d=rt,f=nf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),i.memoizedState={parent:l,cache:d},of(i),Ii(i,Ot,d)):((t.lanes&a)!==0&&(lf(t,i),bl(i,null,null,a),El()),d=t.memoizedState,f=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),Ii(i,Ot,l)):(l=f.cache,Ii(i,Ot,l),l!==d.cache&&tf(i,[Ot],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ti(t){t.flags|=4}function z0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Q_(i)){if(i=zn.current,i!==null&&((Be&4194048)===Be?yr!==null:(Be&62914560)!==Be&&(Be&536870912)===0||i!==yr))throw _l=af,wy;t.flags|=8192}}function Uc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Go():536870912,t.lanes|=i,ro|=i)}function Nl(t,i){if(!Ge)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ht(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function tx(t,i,a){var l=i.pendingProps;switch(Wd(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(i),null;case 1:return ht(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Wr(Ot),nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(hl(i)?ti(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,_y())),ht(i),null;case 26:return a=i.memoizedState,t===null?(ti(i),a!==null?(ht(i),z0(i,a)):(ht(i),i.flags&=-16777217)):a?a!==t.memoizedState?(ti(i),ht(i),z0(i,a)):(ht(i),i.flags&=-16777217):(t.memoizedProps!==l&&ti(i),ht(i),i.flags&=-16777217),null;case 27:Mr(i),a=_e.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ti(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}t=me.current,hl(i)?gy(i):(t=z_(d,l,a),i.stateNode=t,ti(i))}return ht(i),null;case 5:if(Mr(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ti(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ht(i),null}if(t=me.current,hl(i))gy(i);else{switch(d=Zc(_e.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[Ct]=i,t[wt]=l;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch($t(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&ti(i)}}return ht(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ti(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=_e.current,hl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=ln,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[Ct]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||O_(t.nodeValue,a)),t||Ks(i)}else t=Zc(t).createTextNode(l),t[Ct]=i,i.stateNode=t}return ht(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=hl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ct]=i}else dl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ht(i),d=!1}else d=_y(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(Jr(i),i):(Jr(i),null)}if(Jr(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Uc(i,i.updateQueue),ht(i),null;case 4:return nt(),t===null&&cm(i.stateNode.containerInfo),ht(i),null;case 10:return Wr(i.type),ht(i),null;case 19:if(ae(Mt),d=i.memoizedState,d===null)return ht(i),null;if(l=(i.flags&128)!==0,f=d.rendering,f===null)if(l)Nl(d,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=Mc(t),f!==null){for(i.flags|=128,Nl(d,!1),t=f.updateQueue,i.updateQueue=t,Uc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)my(a,t),a=a.sibling;return Z(Mt,Mt.current&1|2),i.child}t=t.sibling}d.tail!==null&&Cn()>qc&&(i.flags|=128,l=!0,Nl(d,!1),i.lanes=4194304)}else{if(!l)if(t=Mc(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Uc(i,t),Nl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Ge)return ht(i),null}else 2*Cn()-d.renderingStartTime>qc&&a!==536870912&&(i.flags|=128,l=!0,Nl(d,!1),i.lanes=4194304);d.isBackwards?(f.sibling=i.child,i.child=f):(t=d.last,t!==null?t.sibling=f:i.child=f,d.last=f)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Cn(),i.sibling=null,t=Mt.current,Z(Mt,l?t&1|2:t&1),i):(ht(i),null);case 22:case 23:return Jr(i),df(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ht(i),i.subtreeFlags&6&&(i.flags|=8192)):ht(i),a=i.updateQueue,a!==null&&Uc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ae(Xs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Wr(Ot),ht(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function nx(t,i){switch(Wd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Wr(Ot),nt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Mr(i),null;case 13:if(Jr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));dl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ae(Mt),null;case 4:return nt(),null;case 10:return Wr(i.type),null;case 22:case 23:return Jr(i),df(),t!==null&&ae(Xs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Wr(Ot),null;case 25:return null;default:return null}}function B0(t,i){switch(Wd(i),i.tag){case 3:Wr(Ot),nt();break;case 26:case 27:case 5:Mr(i);break;case 4:nt();break;case 13:Jr(i);break;case 19:ae(Mt);break;case 10:Wr(i.type);break;case 22:case 23:Jr(i),df(),t!==null&&ae(Xs);break;case 24:Wr(Ot)}}function Il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,E=a.inst;l=f(),E.destroy=l}a=a.next}while(a!==d)}}catch(T){tt(i,i.return,T)}}function Vi(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,d=i;var O=a,F=T;try{F()}catch(ee){tt(d,O,ee)}}}l=l.next}while(l!==f)}}catch(ee){tt(i,i.return,ee)}}function q0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Iy(i,a)}catch(l){tt(t,t.return,l)}}}function H0(t,i,a){a.props=Zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,i,l)}}function Cl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){tt(t,i,d)}}function _r(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){tt(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){tt(t,i,d)}else a.current=null}function F0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){tt(t,t.return,d)}}function zf(t,i,a){try{var l=t.stateNode;wx(l,t.type,a,i),l[wt]=i}catch(d){tt(t,t.return,d)}}function G0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fi(t.type)||t.tag===4}function Bf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Wc));else if(l!==4&&(l===27&&Fi(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(qf(t,i,a),t=t.sibling;t!==null;)qf(t,i,a),t=t.sibling}function zc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fi(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(zc(t,i,a),t=t.sibling;t!==null;)zc(t,i,a),t=t.sibling}function $0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);$t(i,l,a),i[Ct]=t,i[wt]=a}catch(f){tt(t,t.return,f)}}var ni=!1,bt=!1,Hf=!1,K0=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function rx(t,i){if(t=t.containerInfo,fm=ih,t=iy(t),zd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var E=0,T=-1,O=-1,F=0,ee=0,re=t,$=null;t:for(;;){for(var K;re!==a||d!==0&&re.nodeType!==3||(T=E+d),re!==f||l!==0&&re.nodeType!==3||(O=E+l),re.nodeType===3&&(E+=re.nodeValue.length),(K=re.firstChild)!==null;)$=re,re=K;for(;;){if(re===t)break t;if($===a&&++F===d&&(T=E),$===f&&++ee===l&&(O=E),(K=re.nextSibling)!==null)break;re=$,$=re.parentNode}re=K}a=T===-1||O===-1?null:{start:T,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:t,selectionRange:a},ih=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Se=Zs(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Se,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){tt(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)ym(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ym(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function Q0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(t,a),l&4&&Il(5,a);break;case 1:if(ji(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(E){tt(a,a.return,E)}else{var d=Zs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(a,a.return,E)}}l&64&&q0(a),l&512&&Cl(a,a.return);break;case 3:if(ji(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Iy(t,i)}catch(E){tt(a,a.return,E)}}break;case 27:i===null&&l&4&&$0(a);case 26:case 5:ji(t,a),i===null&&l&4&&F0(a),l&512&&Cl(a,a.return);break;case 12:ji(t,a);break;case 13:ji(t,a),l&4&&W0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=dx.bind(null,a),Cx(t,a))));break;case 22:if(l=a.memoizedState!==null||ni,!l){i=i!==null&&i.memoizedState!==null||bt,d=ni;var f=bt;ni=l,(bt=i)&&!f?Li(t,a,(a.subtreeFlags&8772)!==0):ji(t,a),ni=d,bt=f}break;case 30:break;default:ji(t,a)}}function Y0(t){var i=t.alternate;i!==null&&(t.alternate=null,Y0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ai(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,hn=!1;function ri(t,i,a){for(a=a.child;a!==null;)X0(t,i,a),a=a.sibling}function X0(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:bt||_r(a,i),ri(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:bt||_r(a,i);var l=lt,d=hn;Fi(a.type)&&(lt=a.stateNode,hn=!1),ri(t,i,a),Ul(a.stateNode),lt=l,hn=d;break;case 5:bt||_r(a,i);case 6:if(l=lt,d=hn,lt=null,ri(t,i,a),lt=l,hn=d,lt!==null)if(hn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){tt(a,i,f)}else try{lt.removeChild(a.stateNode)}catch(f){tt(a,i,f)}break;case 18:lt!==null&&(hn?(t=lt,L_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Kl(t)):L_(lt,a.stateNode));break;case 4:l=lt,d=hn,lt=a.stateNode.containerInfo,hn=!0,ri(t,i,a),lt=l,hn=d;break;case 0:case 11:case 14:case 15:bt||Vi(2,a,i),bt||Vi(4,a,i),ri(t,i,a);break;case 1:bt||(_r(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&H0(a,i,l)),ri(t,i,a);break;case 21:ri(t,i,a);break;case 22:bt=(l=bt)||a.memoizedState!==null,ri(t,i,a),bt=l;break;default:ri(t,i,a)}}function W0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kl(t)}catch(a){tt(i,i.return,a)}}function ix(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new K0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new K0),i;default:throw Error(s(435,t.tag))}}function Ff(t,i){var a=ix(t);i.forEach(function(l){var d=fx.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function Tn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Fi(T.type)){lt=T.stateNode,hn=!1;break e}break;case 5:lt=T.stateNode,hn=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(lt===null)throw Error(s(160));X0(f,E,d),lt=null,hn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Z0(i,t),i=i.sibling}var Wn=null;function Z0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(i,t),wn(t),l&4&&(Vi(3,t,t.return),Il(3,t),Vi(5,t,t.return));break;case 1:Tn(i,t),wn(t),l&512&&(bt||a===null||_r(a,a.return)),l&64&&ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Wn;if(Tn(i,t),wn(t),l&512&&(bt||a===null||_r(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Rs]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),$t(f,l,a),f[Ct]=t,vt(f),l=f;break e;case"link":var E=$_("link","href",d).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(f=E[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}f=d.createElement(l),$t(f,l,a),d.head.appendChild(f);break;case"meta":if(E=$_("meta","content",d).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(f=E[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}f=d.createElement(l),$t(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ct]=t,vt(f),l=f}t.stateNode=l}else K_(d,t.type,t.stateNode);else t.stateNode=G_(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?K_(d,t.type,t.stateNode):G_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(i,t),wn(t),l&512&&(bt||a===null||_r(a,a.return)),a!==null&&l&4&&zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(i,t),wn(t),l&512&&(bt||a===null||_r(a,a.return)),t.flags&32){d=t.stateNode;try{kn(d,"")}catch(K){tt(t,t.return,K)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,zf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Hf=!0);break;case 6:if(Tn(i,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){tt(t,t.return,K)}}break;case 3:if(th=null,d=Wn,Wn=Jc(i.containerInfo),Tn(i,t),Wn=d,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Kl(i.containerInfo)}catch(K){tt(t,t.return,K)}Hf&&(Hf=!1,J0(t));break;case 4:l=Wn,Wn=Jc(t.stateNode.containerInfo),Tn(i,t),wn(t),Wn=l;break;case 12:Tn(i,t),wn(t);break;case 13:Tn(i,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xf=Cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ff(t,l)));break;case 22:d=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=ni,ee=bt;if(ni=F||d,bt=ee||O,Tn(i,t),bt=ee,ni=F,wn(t),l&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||O||ni||bt||Js(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(f=O.stateNode,d)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=O.stateNode;var re=O.memoizedProps.style,$=re!=null&&re.hasOwnProperty("display")?re.display:null;T.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){tt(O,O.return,K)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(K){tt(O,O.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ff(t,a))));break;case 19:Tn(i,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ff(t,l)));break;case 30:break;case 21:break;default:Tn(i,t),wn(t)}}function wn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(G0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=Bf(t);zc(t,f,d);break;case 5:var E=a.stateNode;a.flags&32&&(kn(E,""),a.flags&=-33);var T=Bf(t);zc(t,T,E);break;case 3:case 4:var O=a.stateNode.containerInfo,F=Bf(t);qf(t,F,O);break;default:throw Error(s(161))}}catch(ee){tt(t,t.return,ee)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function J0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;J0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ji(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Q0(t,i.alternate,i),i=i.sibling}function Js(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vi(4,i,i.return),Js(i);break;case 1:_r(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&H0(i,i.return,a),Js(i);break;case 27:Ul(i.stateNode);case 26:case 5:_r(i,i.return),Js(i);break;case 22:i.memoizedState===null&&Js(i);break;case 30:Js(i);break;default:Js(i)}t=t.sibling}}function Li(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,f=i,E=f.flags;switch(f.tag){case 0:case 11:case 15:Li(d,f,a),Il(4,f);break;case 1:if(Li(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){tt(l,l.return,F)}if(l=f,d=l.updateQueue,d!==null){var T=l.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)Ny(O[d],T)}catch(F){tt(l,l.return,F)}}a&&E&64&&q0(f),Cl(f,f.return);break;case 27:$0(f);case 26:case 5:Li(d,f,a),a&&l===null&&E&4&&F0(f),Cl(f,f.return);break;case 12:Li(d,f,a);break;case 13:Li(d,f,a),a&&E&4&&W0(d,f);break;case 22:f.memoizedState===null&&Li(d,f,a),Cl(f,f.return);break;case 30:break;default:Li(d,f,a)}i=i.sibling}}function Gf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function $f(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function vr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)e_(t,i,a,l),i=i.sibling}function e_(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:vr(t,i,a,l),d&2048&&Il(9,i);break;case 1:vr(t,i,a,l);break;case 3:vr(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(d&2048){vr(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,E=f.id,T=f.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){tt(i,i.return,O)}}else vr(t,i,a,l);break;case 13:vr(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,E=i.alternate,i.memoizedState!==null?f._visibility&2?vr(t,i,a,l):Dl(t,i):f._visibility&2?vr(t,i,a,l):(f._visibility|=2,eo(t,i,a,l,(i.subtreeFlags&10256)!==0)),d&2048&&Gf(E,i);break;case 24:vr(t,i,a,l),d&2048&&$f(i.alternate,i);break;default:vr(t,i,a,l)}}function eo(t,i,a,l,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,E=i,T=a,O=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:eo(f,E,T,O,d),Il(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?eo(f,E,T,O,d):Dl(f,E):(ee._visibility|=2,eo(f,E,T,O,d)),d&&F&2048&&Gf(E.alternate,E);break;case 24:eo(f,E,T,O,d),d&&F&2048&&$f(E.alternate,E);break;default:eo(f,E,T,O,d)}i=i.sibling}}function Dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Dl(a,l),d&2048&&Gf(l.alternate,l);break;case 24:Dl(a,l),d&2048&&$f(l.alternate,l);break;default:Dl(a,l)}i=i.sibling}}var kl=8192;function to(t){if(t.subtreeFlags&kl)for(t=t.child;t!==null;)t_(t),t=t.sibling}function t_(t){switch(t.tag){case 26:to(t),t.flags&kl&&t.memoizedState!==null&&Hx(Wn,t.memoizedState,t.memoizedProps);break;case 5:to(t);break;case 3:case 4:var i=Wn;Wn=Jc(t.stateNode.containerInfo),to(t),Wn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=kl,kl=16777216,to(t),kl=i):to(t));break;default:to(t)}}function n_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,i_(l,t)}n_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)r_(t),t=t.sibling}function r_(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Vi(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Bc(t)):Ol(t);break;default:Ol(t)}}function Bc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,i_(l,t)}n_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vi(8,i,i.return),Bc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bc(i));break;default:Bc(i)}t=t.sibling}}function i_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Vi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var d=l.sibling,f=l.return;if(Y0(l),l===a){Ut=null;break e}if(d!==null){d.return=f,Ut=d;break e}Ut=f}}}var sx={getCacheForType:function(t){var i=Zt(Ot),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},ax=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Pe=null,Be=0,Xe=0,xn=null,Ui=!1,no=!1,Kf=!1,ii=0,pt=0,zi=0,ea=0,Qf=0,Bn=0,ro=0,Ml=null,dn=null,Yf=!1,Xf=0,qc=1/0,Hc=null,Bi=null,Gt=0,qi=null,io=null,so=0,Wf=0,Zf=null,s_=null,Pl=0,Jf=null;function An(){if((Ye&2)!==0&&Be!==0)return Be&-Be;if(Q.T!==null){var t=$a;return t!==0?t:am()}return wi()}function a_(){Bn===0&&(Bn=(Be&536870912)===0||Ge?Fo():536870912);var t=zn.current;return t!==null&&(t.flags|=32),Bn}function Sn(t,i,a){(t===rt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(ao(t,0),Hi(t,Be,Bn,!1)),Vr(t,a),((Ye&2)===0||t!==rt)&&(t===rt&&((Ye&2)===0&&(ea|=a),pt===4&&Hi(t,Be,Bn,!1)),Er(t))}function o_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Ss(t,i),d=l?ux(t,i):nm(t,i,!0),f=l;do{if(d===0){no&&!l&&Hi(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!ox(a)){d=nm(t,i,!1),f=!1;continue}if(d===2){if(f=i,t.errorRecoveryDisabledLanes&f)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=t;d=Ml;var O=T.current.memoizedState.isDehydrated;if(O&&(ao(T,E).flags|=256),E=nm(T,E,!1),E!==2){if(Kf&&!O){T.errorRecoveryDisabledLanes|=f,ea|=f,d=4;break e}f=dn,dn=d,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}d=E}if(f=!1,d!==2)continue}}if(d===1){ao(t,0),Hi(t,i,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hi(l,i,Bn,!Ui);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(d=Xf+300-Cn(),10<d)){if(Hi(l,i,Bn,!Ui),wa(l,0,!0)!==0)break e;l.timeoutHandle=V_(l_.bind(null,l,a,dn,Hc,Yf,i,Bn,ea,ro,Ui,f,2,-0,0),d);break e}l_(l,a,dn,Hc,Yf,i,Bn,ea,ro,Ui,f,0,-0,0)}}break}while(!0);Er(t)}function l_(t,i,a,l,d,f,E,T,O,F,ee,re,$,K){if(t.timeoutHandle=-1,re=i.subtreeFlags,(re&8192||(re&16785408)===16785408)&&(ql={stylesheets:null,count:0,unsuspend:qx},t_(i),re=Fx(),re!==null)){t.cancelPendingCommit=re(p_.bind(null,t,i,f,a,l,d,E,T,O,ee,1,$,K)),Hi(t,f,E,!F);return}p_(t,i,f,a,l,d,E,T,O)}function ox(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!En(f(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hi(t,i,a,l){i&=~Qf,i&=~ea,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var f=31-Wt(d),E=1<<f;l[f]=-1,d&=~E}a!==0&&sr(t,a,i)}function Fc(){return(Ye&6)===0?(Vl(0),!1):!0}function em(){if(Pe!==null){if(Xe===0)var t=Pe.return;else t=Pe,Xr=Qs=null,yf(t),Za=null,Sl=0,t=Pe;for(;t!==null;)B0(t.alternate,t),t=t.return;Pe=null}}function ao(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ax(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),em(),rt=t,Pe=a=Kr(t.current,null),Be=i,Xe=0,xn=null,Ui=!1,no=Ss(t,i),Kf=!1,ro=Bn=Qf=ea=zi=pt=0,dn=Ml=null,Yf=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-Wt(l),f=1<<d;i|=t[d],l&=~f}return ii=i,dc(),a}function u_(t,i){ke=null,Q.H=Dc,i===yl||i===bc?(i=Sy(),Xe=3):i===wy?(i=Sy(),Xe=4):Xe=i===R0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,Pe===null&&(pt=1,Vc(t,Vn(i,t.current)))}function c_(){var t=Q.H;return Q.H=Dc,t===null?Dc:t}function h_(){var t=Q.A;return Q.A=sx,t}function tm(){pt=4,Ui||(Be&4194048)!==Be&&zn.current!==null||(no=!0),(zi&134217727)===0&&(ea&134217727)===0||rt===null||Hi(rt,Be,Bn,!1)}function nm(t,i,a){var l=Ye;Ye|=2;var d=c_(),f=h_();(rt!==t||Be!==i)&&(Hc=null,ao(t,i)),i=!1;var E=pt;e:do try{if(Xe!==0&&Pe!==null){var T=Pe,O=xn;switch(Xe){case 8:em(),E=6;break e;case 3:case 2:case 9:case 6:zn.current===null&&(i=!0);var F=Xe;if(Xe=0,xn=null,oo(t,T,O,F),a&&no){E=0;break e}break;default:F=Xe,Xe=0,xn=null,oo(t,T,O,F)}}lx(),E=pt;break}catch(ee){u_(t,ee)}while(!0);return i&&t.shellSuspendCounter++,Xr=Qs=null,Ye=l,Q.H=d,Q.A=f,Pe===null&&(rt=null,Be=0,dc()),E}function lx(){for(;Pe!==null;)d_(Pe)}function ux(t,i){var a=Ye;Ye|=2;var l=c_(),d=h_();rt!==t||Be!==i?(Hc=null,qc=Cn()+500,ao(t,i)):no=Ss(t,i);e:do try{if(Xe!==0&&Pe!==null){i=Pe;var f=xn;t:switch(Xe){case 1:Xe=0,xn=null,oo(t,i,f,1);break;case 2:case 9:if(xy(f)){Xe=0,xn=null,f_(i);break}i=function(){Xe!==2&&Xe!==9||rt!==t||(Xe=7),Er(t)},f.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:xy(f)?(Xe=0,xn=null,f_(i)):(Xe=0,xn=null,oo(t,i,f,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var T=Pe;if(!E||Q_(E)){Xe=0,xn=null;var O=T.sibling;if(O!==null)Pe=O;else{var F=T.return;F!==null?(Pe=F,Gc(F)):Pe=null}break t}}Xe=0,xn=null,oo(t,i,f,5);break;case 6:Xe=0,xn=null,oo(t,i,f,6);break;case 8:em(),pt=6;break e;default:throw Error(s(462))}}cx();break}catch(ee){u_(t,ee)}while(!0);return Xr=Qs=null,Q.H=l,Q.A=d,Ye=a,Pe!==null?0:(rt=null,Be=0,dc(),pt)}function cx(){for(;Pe!==null&&!zo();)d_(Pe)}function d_(t){var i=U0(t.alternate,t,ii);t.memoizedProps=t.pendingProps,i===null?Gc(t):Pe=i}function f_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=O0(a,i,i.pendingProps,i.type,void 0,Be);break;case 11:i=O0(a,i,i.pendingProps,i.type.render,i.ref,Be);break;case 5:yf(i);default:B0(a,i),i=Pe=my(i,ii),i=U0(a,i,ii)}t.memoizedProps=t.pendingProps,i===null?Gc(t):Pe=i}function oo(t,i,a,l){Xr=Qs=null,yf(i),Za=null,Sl=0;var d=i.return;try{if(Jw(t,d,i,a,Be)){pt=1,Vc(t,Vn(a,t.current)),Pe=null;return}}catch(f){if(d!==null)throw Pe=d,f;pt=1,Vc(t,Vn(a,t.current)),Pe=null;return}i.flags&32768?(Ge||l===1?t=!0:no||(Be&536870912)!==0?t=!1:(Ui=t=!0,(l===2||l===9||l===3||l===6)&&(l=zn.current,l!==null&&l.tag===13&&(l.flags|=16384))),m_(i,t)):Gc(i)}function Gc(t){var i=t;do{if((i.flags&32768)!==0){m_(i,Ui);return}t=i.return;var a=tx(i.alternate,i,ii);if(a!==null){Pe=a;return}if(i=i.sibling,i!==null){Pe=i;return}Pe=i=t}while(i!==null);pt===0&&(pt=5)}function m_(t,i){do{var a=nx(t.alternate,t);if(a!==null){a.flags&=32767,Pe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=a}while(t!==null);pt=6,Pe=null}function p_(t,i,a,l,d,f,E,T,O){t.cancelPendingCommit=null;do $c();while(Gt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Gd,$o(t,a,f,E,T,O),t===rt&&(Pe=rt=null,Be=0),io=i,qi=t,so=a,Wf=f,Zf=d,s_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,mx(Ts,function(){return E_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=se.p,se.p=2,E=Ye,Ye|=4;try{rx(t,i,a)}finally{Ye=E,se.p=d,Q.T=l}}Gt=1,g_(),y_(),__()}}function g_(){if(Gt===1){Gt=0;var t=qi,i=io,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var d=Ye;Ye|=4;try{Z0(i,t);var f=mm,E=iy(t.containerInfo),T=f.focusedElem,O=f.selectionRange;if(E!==T&&T&&T.ownerDocument&&ry(T.ownerDocument.documentElement,T)){if(O!==null&&zd(T)){var F=O.start,ee=O.end;if(ee===void 0&&(ee=F),"selectionStart"in T)T.selectionStart=F,T.selectionEnd=Math.min(ee,T.value.length);else{var re=T.ownerDocument||document,$=re&&re.defaultView||window;if($.getSelection){var K=$.getSelection(),Se=T.textContent.length,be=Math.min(O.start,Se),et=O.end===void 0?be:Math.min(O.end,Se);!K.extend&&be>et&&(E=et,et=be,be=E);var B=ny(T,be),L=ny(T,et);if(B&&L&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var H=re.createRange();H.setStart(B.node,B.offset),K.removeAllRanges(),be>et?(K.addRange(H),K.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),K.addRange(H))}}}}for(re=[],K=T;K=K.parentNode;)K.nodeType===1&&re.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<re.length;T++){var te=re[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}ih=!!fm,mm=fm=null}finally{Ye=d,se.p=l,Q.T=a}}t.current=i,Gt=2}}function y_(){if(Gt===2){Gt=0;var t=qi,i=io,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var d=Ye;Ye|=4;try{Q0(t,i.alternate,i)}finally{Ye=d,se.p=l,Q.T=a}}Gt=3}}function __(){if(Gt===4||Gt===3){Gt=0,Bu();var t=qi,i=io,a=so,l=s_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Gt=5:(Gt=0,io=qi=null,v_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Bi=null),xa(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ft,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,d=se.p,se.p=2,Q.T=null;try{for(var f=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];f(T.value,{componentStack:T.stack})}}finally{Q.T=i,se.p=d}}(so&3)!==0&&$c(),Er(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===Jf?Pl++:(Pl=0,Jf=t):Pl=0,Vl(0)}}function v_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function $c(t){return g_(),y_(),__(),E_()}function E_(){if(Gt!==5)return!1;var t=qi,i=Wf;Wf=0;var a=xa(so),l=Q.T,d=se.p;try{se.p=32>a?32:a,Q.T=null,a=Zf,Zf=null;var f=qi,E=so;if(Gt=0,io=qi=null,so=0,(Ye&6)!==0)throw Error(s(331));var T=Ye;if(Ye|=4,r_(f.current),e_(f,f.current,E,a),Ye=T,Vl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ft,f)}catch{}return!0}finally{se.p=d,Q.T=l,v_(t,i)}}function b_(t,i,a){i=Vn(a,i),i=Df(t.stateNode,i,2),t=ki(t,i,2),t!==null&&(Vr(t,2),Er(t))}function tt(t,i,a){if(t.tag===3)b_(t,t,a);else for(;i!==null;){if(i.tag===3){b_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bi===null||!Bi.has(l))){t=Vn(a,t),a=A0(2),l=ki(i,a,2),l!==null&&(S0(a,l,i,t),Vr(l,2),Er(l));break}}i=i.return}}function rm(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ax;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(Kf=!0,d.add(a),t=hx.bind(null,t,i,a),i.then(t,t))}function hx(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(Be&a)===a&&(pt===4||pt===3&&(Be&62914560)===Be&&300>Cn()-Xf?(Ye&2)===0&&ao(t,0):Qf|=a,ro===Be&&(ro=0)),Er(t)}function T_(t,i){i===0&&(i=Go()),t=qa(t,i),t!==null&&(Vr(t,i),Er(t))}function dx(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),T_(t,a)}function fx(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),T_(t,a)}function mx(t,i){return Es(t,i)}var Kc=null,lo=null,im=!1,Qc=!1,sm=!1,ta=0;function Er(t){t!==lo&&t.next===null&&(lo===null?Kc=lo=t:lo=lo.next=t),Qc=!0,im||(im=!0,gx())}function Vl(t,i){if(!sm&&Qc){sm=!0;do for(var a=!1,l=Kc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var E=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Wt(42|t)+1)-1,f&=d&~(E&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,S_(l,f))}else f=Be,f=wa(l,l===rt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ss(l,f)||(a=!0,S_(l,f));l=l.next}while(a);sm=!1}}function px(){w_()}function w_(){Qc=im=!1;var t=0;ta!==0&&(xx()&&(t=ta),ta=0);for(var i=Cn(),a=null,l=Kc;l!==null;){var d=l.next,f=x_(l,i);f===0?(l.next=null,a===null?Kc=d:a.next=d,d===null&&(lo=a)):(a=l,(t!==0||(f&3)!==0)&&(Qc=!0)),l=d}Vl(t)}function x_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var E=31-Wt(f),T=1<<E,O=d[E];O===-1?((T&a)===0||(T&l)!==0)&&(d[E]=Ho(T,i)):O<=i&&(t.expiredLanes|=T),f&=~T}if(i=rt,a=Be,a=wa(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ss(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&bs(l),xa(a)){case 2:case 8:a=ba;break;case 32:a=Ts;break;case 268435456:a=Ta;break;default:a=Ts}return l=A_.bind(null,t),a=Es(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&bs(l),t.callbackPriority=2,t.callbackNode=null,2}function A_(t,i){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if($c()&&t.callbackNode!==a)return null;var l=Be;return l=wa(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(o_(t,l,i),x_(t,Cn()),t.callbackNode!=null&&t.callbackNode===a?A_.bind(null,t):null)}function S_(t,i){if($c())return null;o_(t,i,!0)}function gx(){Sx(function(){(Ye&6)!==0?Es(Bo,px):w_()})}function am(){return ta===0&&(ta=Fo()),ta}function R_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ca(""+t)}function N_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function yx(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var f=R_((d[wt]||null).action),E=l.submitter;E&&(i=(i=E[wt]||null)?R_(i.formAction):E.getAttribute("formAction"),i!==null&&(f=i,E=null));var T=new Da("action","action",null,l,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ta!==0){var O=E?N_(d,E):new FormData(d);Sf(a,{pending:!0,data:O,method:d.method,action:f},null,O)}}else typeof f=="function"&&(T.preventDefault(),O=E?N_(d,E):new FormData(d),Sf(a,{pending:!0,data:O,method:d.method,action:f},f,O))},currentTarget:d}]})}}for(var om=0;om<Fd.length;om++){var lm=Fd[om],_x=lm.toLowerCase(),vx=lm[0].toUpperCase()+lm.slice(1);Xn(_x,"on"+vx)}Xn(oy,"onAnimationEnd"),Xn(ly,"onAnimationIteration"),Xn(uy,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Vw,"onTransitionRun"),Xn(jw,"onTransitionStart"),Xn(Lw,"onTransitionCancel"),Xn(cy,"onTransitionEnd"),Lr("onMouseEnter",["mouseout","mouseover"]),Lr("onMouseLeave",["mouseout","mouseover"]),Lr("onPointerEnter",["pointerout","pointerover"]),Lr("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ex=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jl));function I_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var E=l.length-1;0<=E;E--){var T=l[E],O=T.instance,F=T.currentTarget;if(T=T.listener,O!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=F;try{f(d)}catch(ee){Pc(ee)}d.currentTarget=null,f=O}else for(E=0;E<l.length;E++){if(T=l[E],O=T.instance,F=T.currentTarget,T=T.listener,O!==f&&d.isPropagationStopped())break e;f=T,d.currentTarget=F;try{f(d)}catch(ee){Pc(ee)}d.currentTarget=null,f=O}}}}function Ve(t,i){var a=i[Qo];a===void 0&&(a=i[Qo]=new Set);var l=t+"__bubble";a.has(l)||(C_(i,t,2,!1),a.add(l))}function um(t,i,a){var l=0;i&&(l|=4),C_(a,t,l,i)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function cm(t){if(!t[Yc]){t[Yc]=!0,Yo.forEach(function(a){a!=="selectionchange"&&(Ex.has(a)||um(a,!1,t),um(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Yc]||(i[Yc]=!0,um("selectionchange",!1,i))}}function C_(t,i,a,l){switch(ev(i)){case 2:var d=Kx;break;case 8:d=Qx;break;default:d=xm}a=d.bind(null,i,a,t),d=void 0,!Mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function hm(t,i,a,l,d){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===d)break;if(E===4)for(E=l.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;T!==null;){if(E=jr(T),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){l=f=E;continue e}T=T.parentNode}}l=l.return}Wu(function(){var F=f,ee=On(a),re=[];e:{var $=hy.get(t);if($!==void 0){var K=Da,Se=t;switch(t){case"keypress":if(hr(a)===0)break e;case"keydown":case"keyup":K=ja;break;case"focusin":Se="focus",K=Ma;break;case"focusout":Se="blur",K=Ma;break;case"beforeblur":case"afterblur":K=Ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=sc;break;case oy:case ly:case uy:K=Pa;break;case cy:K=oc;break;case"scroll":case"scrollend":K=Zu;break;case"wheel":K=La;break;case"copy":case"cut":case"paste":K=Va;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ol;break;case"toggle":case"beforetoggle":K=uc}var be=(i&4)!==0,et=!be&&(t==="scroll"||t==="scrollend"),B=be?$!==null?$+"Capture":null:$;be=[];for(var L=F,H;L!==null;){var te=L;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||B===null||(te=Ms(L,B),te!=null&&be.push(Ll(L,te,H))),et)break;L=L.return}0<be.length&&($=new K($,Se,null,a,ee),re.push({event:$,listeners:be}))}}if((i&7)===0){e:{if($=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",$&&a!==Br&&(Se=a.relatedTarget||a.fromElement)&&(jr(Se)||Se[Dn]))break e;if((K||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Se=a.relatedTarget||a.toElement,K=F,Se=Se?jr(Se):null,Se!==null&&(et=u(Se),be=Se.tag,Se!==et||be!==5&&be!==27&&be!==6)&&(Se=null)):(K=null,Se=F),K!==Se)){if(be=Pn,te="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(be=ol,te="onPointerLeave",B="onPointerEnter",L="pointer"),et=K==null?$:or(K),H=Se==null?$:or(Se),$=new be(te,L+"leave",K,a,ee),$.target=et,$.relatedTarget=H,te=null,jr(ee)===F&&(be=new be(B,L+"enter",Se,a,ee),be.target=H,be.relatedTarget=et,te=be),et=te,K&&Se)t:{for(be=K,B=Se,L=0,H=be;H;H=uo(H))L++;for(H=0,te=B;te;te=uo(te))H++;for(;0<L-H;)be=uo(be),L--;for(;0<H-L;)B=uo(B),H--;for(;L--;){if(be===B||B!==null&&be===B.alternate)break t;be=uo(be),B=uo(B)}be=null}else be=null;K!==null&&D_(re,$,K,be,!1),Se!==null&&et!==null&&D_(re,et,Se,be,!0)}}e:{if($=F?or(F):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var pe=Xg;else if(kt($))if(Wg)pe=Ow;else{pe=Dw;var Me=Cw}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?F&&el(F.elementType)&&(pe=Xg):pe=kw;if(pe&&(pe=pe(t,F))){$r(re,pe,a,ee);break e}Me&&Me(t,$,F),t==="focusout"&&F&&$.type==="number"&&F.memoizedProps.value!=null&&Ri($,"number",$.value)}switch(Me=F?or(F):window,t){case"focusin":(kt(Me)||Me.contentEditable==="true")&&(Ua=Me,Bd=F,cl=null);break;case"focusout":cl=Bd=Ua=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,sy(re,a,ee);break;case"selectionchange":if(Pw)break;case"keydown":case"keyup":sy(re,a,ee)}var ye;if(mr)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Ue?X(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(Ue||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Ue&&(ye=nl()):(cr=ee,Ni="value"in cr?cr.value:cr.textContent,Ue=!0)),Me=Xc(F,Te),0<Me.length&&(Te=new sl(Te,t,null,a,ee),re.push({event:Te,listeners:Me}),ye?Te.data=ye:(ye=le(a),ye!==null&&(Te.data=ye)))),(ye=_?Dt(t,a):ze(t,a))&&(Te=Xc(F,"onBeforeInput"),0<Te.length&&(Me=new sl("onBeforeInput","beforeinput",null,a,ee),re.push({event:Me,listeners:Te}),Me.data=ye)),yx(re,t,F,a,ee)}I_(re,i)})}function Ll(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Xc(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Ms(t,a),d!=null&&l.unshift(Ll(t,d,f)),d=Ms(t,i),d!=null&&l.push(Ll(t,d,f))),t.tag===3)return l;t=t.return}return[]}function uo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function D_(t,i,a,l,d){for(var f=i._reactName,E=[];a!==null&&a!==l;){var T=a,O=T.alternate,F=T.stateNode;if(T=T.tag,O!==null&&O===l)break;T!==5&&T!==26&&T!==27||F===null||(O=F,d?(F=Ms(a,f),F!=null&&E.unshift(Ll(a,F,O))):d||(F=Ms(a,f),F!=null&&E.push(Ll(a,F,O)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var bx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function k_(t){return(typeof t=="string"?t:""+t).replace(bx,`
`).replace(Tx,"")}function O_(t,i){return i=k_(i),k_(t)===i}function Wc(){}function Je(t,i,a,l,d,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||kn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&kn(t,""+l);break;case"className":lr(t,"class",l);break;case"tabIndex":lr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(t,a,l);break;case"style":Jo(t,l,f);break;case"data":if(i!=="object"){lr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",d.name,d,null),Je(t,i,"formEncType",d.formEncType,d,null),Je(t,i,"formMethod",d.formMethod,d,null),Je(t,i,"formTarget",d.formTarget,d,null)):(Je(t,i,"encType",d.encType,d,null),Je(t,i,"method",d.method,d,null),Je(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ca(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Wc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ca(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Si(t,"popover",l);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Si(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Md.get(a)||a,Si(t,a,l))}}function dm(t,i,a,l,d,f){switch(a){case"style":Jo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?kn(t,l):(typeof l=="number"||typeof l=="bigint")&&kn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),f=t[wt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Si(t,a,l)}}}function $t(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var E=a[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,f,E,a,null)}}d&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=f=E=d=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":d=ee;break;case"type":E=ee;break;case"checked":O=ee;break;case"defaultChecked":F=ee;break;case"value":f=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:Je(t,i,l,ee,a,null)}}Ds(t,f,T,O,F,E,d,!1),Ia(t);return;case"select":Ve("invalid",t),l=E=f=null;for(d in a)if(a.hasOwnProperty(d)&&(T=a[d],T!=null))switch(d){case"value":f=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Je(t,i,d,T,a,null)}i=f,a=E,t.multiple=!!l,i!=null?zr(t,!!l,i,!1):a!=null&&zr(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),f=d=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":d=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Je(t,i,E,T,a,null)}ks(t,l,d,f),Ia(t);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,O,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<jl.length;l++)Ve(jl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,F,l,a,null)}return;default:if(el(i)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&dm(t,i,ee,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Je(t,i,T,l,a,null))}function wx(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,E=null,T=null,O=null,F=null,ee=null;for(K in a){var re=a[K];if(a.hasOwnProperty(K)&&re!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":O=re;default:l.hasOwnProperty(K)||Je(t,i,K,null,l,re)}}for(var $ in l){var K=l[$];if(re=a[$],l.hasOwnProperty($)&&(K!=null||re!=null))switch($){case"type":f=K;break;case"name":d=K;break;case"checked":F=K;break;case"defaultChecked":ee=K;break;case"value":E=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==re&&Je(t,i,$,K,l,re)}}vn(t,E,T,O,F,ee,f,d);return;case"select":K=E=T=$=null;for(f in a)if(O=a[f],a.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":K=O;default:l.hasOwnProperty(f)||Je(t,i,f,null,l,O)}for(d in l)if(f=l[d],O=a[d],l.hasOwnProperty(d)&&(f!=null||O!=null))switch(d){case"value":$=f;break;case"defaultValue":T=f;break;case"multiple":E=f;default:f!==O&&Je(t,i,d,f,l,O)}i=T,a=E,l=K,$!=null?zr(t,!!a,$,!1):!!l!=!!a&&(i!=null?zr(t,!!a,i,!0):zr(t,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(T in a)if(d=a[T],a.hasOwnProperty(T)&&d!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(t,i,T,null,l,d)}for(E in l)if(d=l[E],f=a[E],l.hasOwnProperty(E)&&(d!=null||f!=null))switch(E){case"value":$=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&Je(t,i,E,d,l,f)}We(t,$,K);return;case"option":for(var Se in a)if($=a[Se],a.hasOwnProperty(Se)&&$!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Je(t,i,Se,null,l,$)}for(O in l)if($=l[O],K=a[O],l.hasOwnProperty(O)&&$!==K&&($!=null||K!=null))switch(O){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Je(t,i,O,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)$=a[be],a.hasOwnProperty(be)&&$!=null&&!l.hasOwnProperty(be)&&Je(t,i,be,null,l,$);for(F in l)if($=l[F],K=a[F],l.hasOwnProperty(F)&&$!==K&&($!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Je(t,i,F,$,l,K)}return;default:if(el(i)){for(var et in a)$=a[et],a.hasOwnProperty(et)&&$!==void 0&&!l.hasOwnProperty(et)&&dm(t,i,et,void 0,l,$);for(ee in l)$=l[ee],K=a[ee],!l.hasOwnProperty(ee)||$===K||$===void 0&&K===void 0||dm(t,i,ee,$,l,K);return}}for(var B in a)$=a[B],a.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&Je(t,i,B,null,l,$);for(re in l)$=l[re],K=a[re],!l.hasOwnProperty(re)||$===K||$==null&&K==null||Je(t,i,re,$,l,K)}var fm=null,mm=null;function Zc(t){return t.nodeType===9?t:t.ownerDocument}function M_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function P_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function pm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gm=null;function xx(){var t=window.event;return t&&t.type==="popstate"?t===gm?!1:(gm=t,!0):(gm=null,!1)}var V_=typeof setTimeout=="function"?setTimeout:void 0,Ax=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,Sx=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(t){return j_.resolve(null).then(t).catch(Rx)}:V_;function Rx(t){setTimeout(function(){throw t})}function Fi(t){return t==="head"}function L_(t,i){var a=i,l=0,d=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Ul(E.documentElement),a&2&&Ul(E.body),a&4)for(a=E.head,Ul(a),E=a.firstChild;E;){var T=E.nextSibling,O=E.nodeName;E[Rs]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(d===0){t.removeChild(f),Kl(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Kl(i)}function ym(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),Ai(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Nx(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Rs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Zn(t.nextSibling),t===null)break}return null}function Ix(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Zn(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Cx(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var vm=null;function U_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function z_(t,i,a){switch(i=Zc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ul(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ai(t)}var qn=new Map,B_=new Set;function Jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var si=se.d;se.d={f:Dx,r:kx,D:Ox,C:Mx,L:Px,m:Vx,X:Lx,S:jx,M:Ux};function Dx(){var t=si.f(),i=Fc();return t||i}function kx(t){var i=ar(t);i!==null&&i.tag===5&&i.type==="form"?o0(i):si.r(t)}var co=typeof document>"u"?null:document;function q_(t,i,a){var l=co;if(l&&typeof i=="string"&&i){var d=xt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),B_.has(d)||(B_.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),$t(i,"link",t),vt(i),l.head.appendChild(i)))}}function Ox(t){si.D(t),q_("dns-prefetch",t,null)}function Mx(t,i){si.C(t,i),q_("preconnect",t,i)}function Px(t,i,a){si.L(t,i,a);var l=co;if(l&&t&&i){var d='link[rel="preload"][as="'+xt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+xt(a.imageSizes)+'"]')):d+='[href="'+xt(t)+'"]';var f=d;switch(i){case"style":f=ho(t);break;case"script":f=fo(t)}qn.has(f)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qn.set(f,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(zl(f))||i==="script"&&l.querySelector(Bl(f))||(i=l.createElement("link"),$t(i,"link",t),vt(i),l.head.appendChild(i)))}}function Vx(t,i){si.m(t,i);var a=co;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=fo(t)}if(!qn.has(f)&&(t=b({rel:"modulepreload",href:t},i),qn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(f)))return}l=a.createElement("link"),$t(l,"link",t),vt(l),a.head.appendChild(l)}}}function jx(t,i,a){si.S(t,i,a);var l=co;if(l&&t){var d=sn(l).hoistableStyles,f=ho(t);i=i||"default";var E=d.get(f);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(zl(f)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qn.get(f))&&Em(t,a);var O=E=l.createElement("link");vt(O),$t(O,"link",t),O._p=new Promise(function(F,ee){O.onload=F,O.onerror=ee}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,eh(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:T},d.set(f,E)}}}function Lx(t,i){si.X(t,i);var a=co;if(a&&t){var l=sn(a).hoistableScripts,d=fo(t),f=l.get(d);f||(f=a.querySelector(Bl(d)),f||(t=b({src:t,async:!0},i),(i=qn.get(d))&&bm(t,i),f=a.createElement("script"),vt(f),$t(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Ux(t,i){si.M(t,i);var a=co;if(a&&t){var l=sn(a).hoistableScripts,d=fo(t),f=l.get(d);f||(f=a.querySelector(Bl(d)),f||(t=b({src:t,async:!0,type:"module"},i),(i=qn.get(d))&&bm(t,i),f=a.createElement("script"),vt(f),$t(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function H_(t,i,a,l){var d=(d=_e.current)?Jc(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ho(a.href),a=sn(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ho(a.href);var f=sn(d).hoistableStyles,E=f.get(t);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,E),(f=d.querySelector(zl(t)))&&!f._p&&(E.instance=f,E.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),f||zx(d,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=fo(a),a=sn(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ho(t){return'href="'+xt(t)+'"'}function zl(t){return'link[rel="stylesheet"]['+t+"]"}function F_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function zx(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),$t(i,"link",a),vt(i),t.head.appendChild(i))}function fo(t){return'[src="'+xt(t)+'"]'}function Bl(t){return"script[async]"+t}function G_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return i.instance=l,vt(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),vt(l),$t(l,"style",d),eh(l,a.precedence,t),i.instance=l;case"stylesheet":d=ho(a.href);var f=t.querySelector(zl(d));if(f)return i.state.loading|=4,i.instance=f,vt(f),f;l=F_(a),(d=qn.get(d))&&Em(l,d),f=(t.ownerDocument||t).createElement("link"),vt(f);var E=f;return E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),$t(f,"link",l),i.state.loading|=4,eh(f,a.precedence,t),i.instance=f;case"script":return f=fo(a.src),(d=t.querySelector(Bl(f)))?(i.instance=d,vt(d),d):(l=a,(d=qn.get(f))&&(l=b({},a),bm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),vt(d),$t(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,eh(l,a.precedence,t));return i.instance}function eh(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===i)f=T;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function bm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var th=null;function $_(t,i,a){if(th===null){var l=new Map,d=th=new Map;d.set(a,l)}else d=th,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[Rs]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(i)||"";E=t+E;var T=l.get(E);T?T.push(f):l.set(E,[f])}}return l}function K_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Bx(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ql=null;function qx(){}function Hx(t,i,a){if(ql===null)throw Error(s(475));var l=ql;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=ho(a.href),f=t.querySelector(zl(d));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=nh.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,vt(f);return}f=t.ownerDocument||t,a=F_(a),(d=qn.get(d))&&Em(a,d),f=f.createElement("link"),vt(f);var E=f;E._p=new Promise(function(T,O){E.onload=T,E.onerror=O}),$t(f,"link",a),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=nh.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Fx(){if(ql===null)throw Error(s(475));var t=ql;return t.stylesheets&&t.count===0&&Tm(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Tm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function nh(){if(this.count--,this.count===0){if(this.stylesheets)Tm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var rh=null;function Tm(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,rh=new Map,i.forEach(Gx,t),rh=null,nh.call(t))}function Gx(t,i){if(!(i.state.loading&4)){var a=rh.get(t);if(a)var l=a.get(null);else{a=new Map,rh.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var E=d[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}d=i.instance,E=d.getAttribute("data-precedence"),f=a.get(E)||l,f===l&&a.set(null,d),a.set(E,d),this.count++,l=nh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Hl={$$typeof:J,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function $x(t,i,a,l,d,f,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pr(0),this.hiddenUpdates=Pr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Y_(t,i,a,l,d,f,E,T,O,F,ee,re){return t=new $x(t,i,a,E,T,O,F,re),i=1,f===!0&&(i|=24),f=bn(3,null,null,i),t.current=f,f.stateNode=t,i=nf(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},of(f),t}function X_(t){return t?(t=Ha,t):Ha}function W_(t,i,a,l,d,f){d=X_(d),l.context===null?l.context=d:l.pendingContext=d,l=Di(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=ki(t,l,i),a!==null&&(Sn(a,t,i),vl(a,t,i))}function Z_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function wm(t,i){Z_(t,i),(t=t.alternate)&&Z_(t,i)}function J_(t){if(t.tag===13){var i=qa(t,67108864);i!==null&&Sn(i,t,67108864),wm(t,67108864)}}var ih=!0;function Kx(t,i,a,l){var d=Q.T;Q.T=null;var f=se.p;try{se.p=2,xm(t,i,a,l)}finally{se.p=f,Q.T=d}}function Qx(t,i,a,l){var d=Q.T;Q.T=null;var f=se.p;try{se.p=8,xm(t,i,a,l)}finally{se.p=f,Q.T=d}}function xm(t,i,a,l){if(ih){var d=Am(l);if(d===null)hm(t,i,l,sh,a),tv(t,l);else if(Xx(d,t,i,a,l))l.stopPropagation();else if(tv(t,l),i&4&&-1<Yx.indexOf(t)){for(;d!==null;){var f=ar(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Kn(f.pendingLanes);if(E!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var O=1<<31-Wt(E);T.entanglements[1]|=O,E&=~O}Er(f),(Ye&6)===0&&(qc=Cn()+500,Vl(0))}}break;case 13:T=qa(f,2),T!==null&&Sn(T,f,2),Fc(),wm(f,2)}if(f=Am(l),f===null&&hm(t,i,l,sh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else hm(t,i,l,null,a)}}function Am(t){return t=On(t),Sm(t)}var sh=null;function Sm(t){if(sh=null,t=jr(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=h(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return sh=t,null}function ev(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nd()){case Bo:return 2;case ba:return 8;case Ts:case Id:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var Rm=!1,Gi=null,$i=null,Ki=null,Fl=new Map,Gl=new Map,Qi=[],Yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tv(t,i){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Fl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(i.pointerId)}}function $l(t,i,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},i!==null&&(i=ar(i),i!==null&&J_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function Xx(t,i,a,l,d){switch(i){case"focusin":return Gi=$l(Gi,t,i,a,l,d),!0;case"dragenter":return $i=$l($i,t,i,a,l,d),!0;case"mouseover":return Ki=$l(Ki,t,i,a,l,d),!0;case"pointerover":var f=d.pointerId;return Fl.set(f,$l(Fl.get(f)||null,t,i,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Gl.set(f,$l(Gl.get(f)||null,t,i,a,l,d)),!0}return!1}function nv(t){var i=jr(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){t.blockedOn=i,Fu(t.priority,function(){if(a.tag===13){var l=An();l=Ti(l);var d=qa(a,l);d!==null&&Sn(d,a,l),wm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ah(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Br=l,a.target.dispatchEvent(l),Br=null}else return i=ar(a),i!==null&&J_(i),t.blockedOn=a,!1;i.shift()}return!0}function rv(t,i,a){ah(t)&&a.delete(i)}function Wx(){Rm=!1,Gi!==null&&ah(Gi)&&(Gi=null),$i!==null&&ah($i)&&($i=null),Ki!==null&&ah(Ki)&&(Ki=null),Fl.forEach(rv),Gl.forEach(rv)}function oh(t,i){t.blockedOn===i&&(t.blockedOn=null,Rm||(Rm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wx)))}var lh=null;function iv(t){lh!==t&&(lh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lh===t&&(lh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Sm(l||a)===null)continue;break}var f=ar(a);f!==null&&(t.splice(i,3),i-=3,Sf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Kl(t){function i(O){return oh(O,t)}Gi!==null&&oh(Gi,t),$i!==null&&oh($i,t),Ki!==null&&oh(Ki,t),Fl.forEach(i),Gl.forEach(i);for(var a=0;a<Qi.length;a++){var l=Qi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qi.length&&(a=Qi[0],a.blockedOn===null);)nv(a),a.blockedOn===null&&Qi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],E=d[wt]||null;if(typeof f=="function")E||iv(a);else if(E){var T=null;if(f&&f.hasAttribute("formAction")){if(d=f,E=f[wt]||null)T=E.formAction;else if(Sm(d)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),iv(a)}}}function Nm(t){this._internalRoot=t}uh.prototype.render=Nm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();W_(a,l,t,i,null,null)},uh.prototype.unmount=Nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;W_(t.current,2,null,t,null,null),Fc(),i[Dn]=null}};function uh(t){this._internalRoot=t}uh.prototype.unstable_scheduleHydration=function(t){if(t){var i=wi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qi.length&&i!==0&&i<Qi[a].priority;a++);Qi.splice(a,0,t),a===0&&nv(t)}};var sv=e.version;if(sv!=="19.1.0")throw Error(s(527,sv,"19.1.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Zx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{ft=ch.inject(Zx),Qe=ch}catch{}}return Yl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=b0,f=T0,E=w0,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Y_(t,1,!1,null,null,a,l,d,f,E,T,null),t[Dn]=i.current,cm(t),new Nm(i)},Yl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",f=b0,E=T0,T=w0,O=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=Y_(t,1,!0,i,a??null,l,d,f,E,T,O,F),i.context=X_(null),a=i.current,l=An(),l=Ti(l),d=Di(l),d.callback=null,ki(a,d,l),a=l,i.current.lanes=a,Vr(i,a),Er(i),t[Dn]=i.current,cm(t),new uh(i)},Yl.version="19.1.0",Yl}var pv;function lA(){if(pv)return Dm.exports;pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dm.exports=oA(),Dm.exports}var uA=lA(),Xl={},gv;function cA(){if(gv)return Xl;gv=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.parse=h,Xl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,P){const S=new u,U=w.length;if(U<2)return S;const j=(P==null?void 0:P.decode)||b;let G=0;do{const Y=w.indexOf("=",G);if(Y===-1)break;const J=w.indexOf(";",G),oe=J===-1?U:J;if(Y>oe){G=w.lastIndexOf(";",Y-1)+1;continue}const he=m(w,G,Y),ge=p(w,Y,he),V=w.slice(he,ge);if(S[V]===void 0){let R=m(w,Y+1,oe),I=p(w,oe,R);const M=j(w.slice(R,I));S[V]=M}G=oe+1}while(G<U);return S}function m(w,P,S){do{const U=w.charCodeAt(P);if(U!==32&&U!==9)return P}while(++P<S);return S}function p(w,P,S){for(;P>S;){const U=w.charCodeAt(--P);if(U!==32&&U!==9)return P+1}return S}function g(w,P,S){const U=(S==null?void 0:S.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const j=U(P);if(!e.test(j))throw new TypeError(`argument val is invalid: ${P}`);let G=w+"="+j;if(!S)return G;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);G+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);G+="; Domain="+S.domain}if(S.path){if(!s.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);G+="; Path="+S.path}if(S.expires){if(!x(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);G+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(G+="; HttpOnly"),S.secure&&(G+="; Secure"),S.partitioned&&(G+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return G}function b(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function x(w){return o.call(w)==="[object Date]"}return Xl}cA();var yv="popstate";function hA(r={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ga(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Zm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:mu(u))}function s(o,u){Gn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return fA(e,n,s,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dA(){return Math.random().toString(36).substring(2,10)}function _v(r,e){return{usr:r.state,key:r.key,idx:e}}function Zm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ga(e):e,state:n,key:e&&e.key||s||dA()}}function mu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ga(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function fA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function x(){m="POP";let j=b(),G=j==null?null:j-g;g=j,p&&p({action:m,location:U.location,delta:G})}function w(j,G){m="PUSH";let Y=Zm(U.location,j,G);n&&n(Y,j),g=b()+1;let J=_v(Y,g),oe=U.createHref(Y);try{h.pushState(J,"",oe)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(oe)}u&&p&&p({action:m,location:U.location,delta:1})}function P(j,G){m="REPLACE";let Y=Zm(U.location,j,G);n&&n(Y,j),g=b();let J=_v(Y,g),oe=U.createHref(Y);h.replaceState(J,"",oe),u&&p&&p({action:m,location:U.location,delta:0})}function S(j){return mA(j)}let U={get action(){return m},get location(){return r(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(yv,x),p=j,()=>{o.removeEventListener(yv,x),p=null}},createHref(j){return e(o,j)},createURL:S,encodeLocation(j){let G=S(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:w,replace:P,go(j){return h.go(j)}};return U}function mA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:mu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function hb(r,e,n="/"){return pA(r,e,n,!1)}function pA(r,e,n,s){let o=typeof e=="string"?ga(e):e,u=fi(o.pathname||"/",n);if(u==null)return null;let h=db(r);gA(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=RA(u);m=AA(h[p],g,s)}return m}function db(r,e=[],n=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ut(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=ci([s,p.relativePath]),b=n.concat(p);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),db(u.children,e,b,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:wA(g,u.index),routesMeta:b})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of fb(u.path))o(u,h,p)}),e}function fb(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=fb(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function gA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:xA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var yA=/^:[\w-]+$/,_A=3,vA=2,EA=1,bA=10,TA=-2,vv=r=>r==="*";function wA(r,e){let n=r.split("/"),s=n.length;return n.some(vv)&&(s+=TA),e&&(s+=vA),n.filter(o=>!vv(o)).reduce((o,u)=>o+(yA.test(u)?_A:u===""?EA:bA),s)}function xA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function AA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",x=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},b),w=p.route;if(!x&&g&&n&&!s[s.length-1].route.index&&(x=Mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!x)return null;Object.assign(o,x.params),h.push({params:o,pathname:ci([u,x.pathname]),pathnameBase:DA(ci([u,x.pathnameBase])),route:w}),x.pathnameBase!=="/"&&(u=ci([u,x.pathnameBase]))}return h}function Mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=SA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:b,isOptional:x},w)=>{if(b==="*"){let S=m[w]||"";h=u.slice(0,u.length-S.length).replace(/(.)\/+$/,"$1")}const P=m[w];return x&&!P?g[b]=void 0:g[b]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function SA(r,e=!1,n=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function RA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function NA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ga(r):r;return{pathname:n?n.startsWith("/")?n:IA(n,e):e,search:kA(s),hash:OA(o)}}function IA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Vp(r){let e=CA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function jp(r,e,n,s=!1){let o;typeof r=="string"?o=ga(r):(o={...r},ut(!o.pathname||!o.pathname.includes("?"),Pm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Pm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Pm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let x=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),x-=1;o.pathname=w.join("/")}m=x>=0?e[x]:"/"}let p=NA(o,m),g=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||b)&&(p.pathname+="/"),p}var ci=r=>r.join("/").replace(/\/\/+/g,"/"),DA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),kA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,OA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function MA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var mb=["POST","PUT","PATCH","DELETE"];new Set(mb);var PA=["GET",...mb];new Set(PA);var ko=z.createContext(null);ko.displayName="DataRouter";var td=z.createContext(null);td.displayName="DataRouterState";var pb=z.createContext({isTransitioning:!1});pb.displayName="ViewTransition";var VA=z.createContext(new Map);VA.displayName="Fetchers";var jA=z.createContext(null);jA.displayName="Await";var rr=z.createContext(null);rr.displayName="Navigation";var Su=z.createContext(null);Su.displayName="Location";var ir=z.createContext({outlet:null,matches:[],isDataRoute:!1});ir.displayName="Route";var Lp=z.createContext(null);Lp.displayName="RouteError";function LA(r,{relative:e}={}){ut(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(rr),{hash:o,pathname:u,search:h}=Ru(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ci([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Oo(){return z.useContext(Su)!=null}function vi(){return ut(Oo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Su).location}var gb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yb(r){z.useContext(rr).static||z.useLayoutEffect(r)}function ms(){let{isDataRoute:r}=z.useContext(ir);return r?ZA():UA()}function UA(){ut(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(ko),{basename:e,navigator:n}=z.useContext(rr),{matches:s}=z.useContext(ir),{pathname:o}=vi(),u=JSON.stringify(Vp(s)),h=z.useRef(!1);return yb(()=>{h.current=!0}),z.useCallback((p,g={})=>{if(Gn(h.current,gb),!h.current)return;if(typeof p=="number"){n.go(p);return}let b=jp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ci([e,b.pathname])),(g.replace?n.replace:n.push)(b,g.state,g)},[e,n,u,o,r])}z.createContext(null);function zA(){let{matches:r}=z.useContext(ir),e=r[r.length-1];return e?e.params:{}}function Ru(r,{relative:e}={}){let{matches:n}=z.useContext(ir),{pathname:s}=vi(),o=JSON.stringify(Vp(n));return z.useMemo(()=>jp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function BA(r,e){return _b(r,e)}function _b(r,e,n,s){var G;ut(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=z.useContext(rr),{matches:u}=z.useContext(ir),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",b=h&&h.route;{let Y=b&&b.path||"";vb(p,!b||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let x=vi(),w;if(e){let Y=typeof e=="string"?ga(e):e;ut(g==="/"||((G=Y.pathname)==null?void 0:G.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),w=Y}else w=x;let P=w.pathname||"/",S=P;if(g!=="/"){let Y=g.replace(/^\//,"").split("/");S="/"+P.replace(/^\//,"").split("/").slice(Y.length).join("/")}let U=hb(r,{pathname:S});Gn(b||U!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Gn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=$A(U&&U.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:ci([g,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?g:ci([g,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,s);return e&&j?z.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function qA(){let r=WA(),e=MA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var HA=z.createElement(qA,null),FA=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(ir.Provider,{value:this.props.routeContext},z.createElement(Lp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GA({routeContext:r,match:e,children:n}){let s=z.useContext(ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ir.Provider,{value:r},n)}function $A(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ut(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:b,errors:x}=n,w=g.route.loader&&!b.hasOwnProperty(g.route.id)&&(!x||x[g.route.id]===void 0);if(g.route.lazy||w){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,b)=>{let x,w=!1,P=null,S=null;n&&(x=u&&g.route.id?u[g.route.id]:void 0,P=g.route.errorElement||HA,h&&(m<0&&b===0?(vb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):m===b&&(w=!0,S=g.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,b+1)),j=()=>{let G;return x?G=P:w?G=S:g.route.Component?G=z.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,z.createElement(GA,{match:g,routeContext:{outlet:p,matches:U,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?z.createElement(FA,{location:n.location,revalidation:n.revalidation,component:P,error:x,children:j(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):j()},null)}function Up(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KA(r){let e=z.useContext(ko);return ut(e,Up(r)),e}function QA(r){let e=z.useContext(td);return ut(e,Up(r)),e}function YA(r){let e=z.useContext(ir);return ut(e,Up(r)),e}function zp(r){let e=YA(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function XA(){return zp("useRouteId")}function WA(){var s;let r=z.useContext(Lp),e=QA("useRouteError"),n=zp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function ZA(){let{router:r}=KA("useNavigate"),e=zp("useNavigate"),n=z.useRef(!1);return yb(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Gn(n.current,gb),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Ev={};function vb(r,e,n){!e&&!Ev[r]&&(Ev[r]=!0,Gn(!1,n))}z.memo(JA);function JA({routes:r,future:e,state:n}){return _b(r,void 0,n,e)}function Eb({to:r,replace:e,state:n,relative:s}){ut(Oo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(rr);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(ir),{pathname:h}=vi(),m=ms(),p=jp(r,Vp(u),h,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Jn(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ut(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ga(n));let{pathname:p="/",search:g="",hash:b="",state:x=null,key:w="default"}=n,P=z.useMemo(()=>{let S=fi(p,h);return S==null?null:{location:{pathname:S,search:g,hash:b,state:x,key:w},navigationType:s}},[h,p,g,b,x,w,s]);return Gn(P!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:z.createElement(rr.Provider,{value:m},z.createElement(Su.Provider,{children:e,value:P}))}function tS({children:r,location:e}){return BA(Jm(r),e)}function Jm(r,e=[]){let n=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Jm(s.props.children,u));return}ut(s.type===Jn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Jm(s.props.children,u)),n.push(h)}),n}var bh="get",Th="application/x-www-form-urlencoded";function nd(r){return r!=null&&typeof r.tagName=="string"}function nS(r){return nd(r)&&r.tagName.toLowerCase()==="button"}function rS(r){return nd(r)&&r.tagName.toLowerCase()==="form"}function iS(r){return nd(r)&&r.tagName.toLowerCase()==="input"}function sS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function aS(r,e){return r.button===0&&(!e||e==="_self")&&!sS(r)}var hh=null;function oS(){if(hh===null)try{new FormData(document.createElement("form"),0),hh=!1}catch{hh=!0}return hh}var lS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vm(r){return r!=null&&!lS.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):r}function uS(r,e){let n,s,o,u,h;if(rS(r)){let m=r.getAttribute("action");s=m?fi(m,e):null,n=r.getAttribute("method")||bh,o=Vm(r.getAttribute("enctype"))||Th,u=new FormData(r)}else if(nS(r)||iS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?fi(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||bh,o=Vm(r.getAttribute("formenctype"))||Vm(m.getAttribute("enctype"))||Th,u=new FormData(m,r),!oS()){let{name:g,type:b,value:x}=r;if(b==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,x)}}else{if(nd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bh,s=null,o=Th,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Bp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function cS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function dS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await cS(u,n);return h.links?h.links():[]}return[]}));return gS(s.flat(1).filter(hS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bv(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var b;return n[g].pathname!==p.pathname||((b=n[g].route.path)==null?void 0:b.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var x;let b=s.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function fS(r,e,{includeHydrateFallback:n}={}){return mS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function mS(r){return[...new Set(r)]}function pS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function gS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(pS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yS=new Set([100,101,204,205]);function _S(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&fi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function bb(){let r=z.useContext(ko);return Bp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function vS(){let r=z.useContext(td);return Bp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var qp=z.createContext(void 0);qp.displayName="FrameworkContext";function Tb(){let r=z.useContext(qp);return Bp(r,"You must render this element inside a <HydratedRouter> element"),r}function ES(r,e){let n=z.useContext(qp),[s,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:b,onTouchStart:x}=e,w=z.useRef(null);z.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let U=G=>{G.forEach(Y=>{h(Y.isIntersecting)})},j=new IntersectionObserver(U,{threshold:.5});return w.current&&j.observe(w.current),()=>{j.disconnect()}}},[r]),z.useEffect(()=>{if(s){let U=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(U)}}},[s]);let P=()=>{o(!0)},S=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Wl(m,P),onBlur:Wl(p,S),onMouseEnter:Wl(g,P),onMouseLeave:Wl(b,S),onTouchStart:Wl(x,P)}]:[!1,w,{}]}function Wl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function bS({page:r,...e}){let{router:n}=bb(),s=z.useMemo(()=>hb(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?z.createElement(wS,{page:r,matches:s,...e}):null}function TS(r){let{manifest:e,routeModules:n}=Tb(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return dS(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function wS({page:r,matches:e,...n}){let s=vi(),{manifest:o,routeModules:u}=Tb(),{basename:h}=bb(),{loaderData:m,matches:p}=vS(),g=z.useMemo(()=>bv(r,e,p,o,s,"data"),[r,e,p,o,s]),b=z.useMemo(()=>bv(r,e,p,o,s,"assets"),[r,e,p,o,s]),x=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let S=new Set,U=!1;if(e.forEach(G=>{var J;let Y=o.routes[G.route.id];!Y||!Y.hasLoader||(!g.some(oe=>oe.route.id===G.route.id)&&G.route.id in m&&((J=u[G.route.id])!=null&&J.shouldRevalidate)||Y.hasClientLoader?U=!0:S.add(G.route.id))}),S.size===0)return[];let j=_S(r,h);return U&&S.size>0&&j.searchParams.set("_routes",e.filter(G=>S.has(G.route.id)).map(G=>G.route.id).join(",")),[j.pathname+j.search]},[h,m,s,o,g,e,r,u]),w=z.useMemo(()=>fS(b,o),[b,o]),P=TS(b);return z.createElement(z.Fragment,null,x.map(S=>z.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>z.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),P.map(({key:S,link:U})=>z.createElement("link",{key:S,...U})))}function xS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var wb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wb&&(window.__reactRouterVersion="7.6.3")}catch{}function AS({basename:r,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=hA({window:n,v5Compat:!0}));let o=s.current,[u,h]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(eS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ab=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:b,viewTransition:x,...w},P){let{basename:S}=z.useContext(rr),U=typeof g=="string"&&xb.test(g),j,G=!1;if(typeof g=="string"&&U&&(j=g,wb))try{let I=new URL(window.location.href),M=g.startsWith("//")?new URL(I.protocol+g):new URL(g),N=fi(M.pathname,S);M.origin===I.origin&&N!=null?g=N+M.search+M.hash:G=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=LA(g,{relative:o}),[J,oe,he]=ES(s,w),ge=IS(g,{replace:h,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:x});function V(I){e&&e(I),I.defaultPrevented||ge(I)}let R=z.createElement("a",{...w,...he,href:j||Y,onClick:G||u?e:V,ref:xS(P,oe),target:p,"data-discover":!U&&n==="render"?"true":void 0});return J&&!U?z.createElement(z.Fragment,null,R,z.createElement(bS,{page:Y})):R});Ab.displayName="Link";var SS=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},b){let x=Ru(h,{relative:g.relative}),w=vi(),P=z.useContext(td),{navigator:S,basename:U}=z.useContext(rr),j=P!=null&&MS(x)&&m===!0,G=S.encodeLocation?S.encodeLocation(x).pathname:x.pathname,Y=w.pathname,J=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),J=J?J.toLowerCase():null,G=G.toLowerCase()),J&&U&&(J=fi(J,U)||J);const oe=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let he=Y===G||!o&&Y.startsWith(G)&&Y.charAt(oe)==="/",ge=J!=null&&(J===G||!o&&J.startsWith(G)&&J.charAt(G.length)==="/"),V={isActive:he,isPending:ge,isTransitioning:j},R=he?e:void 0,I;typeof s=="function"?I=s(V):I=[s,he?"active":null,ge?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(V):u;return z.createElement(Ab,{...g,"aria-current":R,className:I,ref:b,style:M,to:h,viewTransition:m},typeof p=="function"?p(V):p)});SS.displayName="NavLink";var RS=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=bh,action:m,onSubmit:p,relative:g,preventScrollReset:b,viewTransition:x,...w},P)=>{let S=kS(),U=OS(m,{relative:g}),j=h.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&xb.test(m),Y=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let oe=J.nativeEvent.submitter,he=(oe==null?void 0:oe.getAttribute("formmethod"))||h;S(oe||J.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:b,viewTransition:x})};return z.createElement("form",{ref:P,method:j,action:U,onSubmit:s?p:Y,...w,"data-discover":!G&&r==="render"?"true":void 0})});RS.displayName="Form";function NS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Sb(r){let e=z.useContext(ko);return ut(e,NS(r)),e}function IS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=ms(),p=vi(),g=Ru(r,{relative:u});return z.useCallback(b=>{if(aS(b,e)){b.preventDefault();let x=n!==void 0?n:mu(p)===mu(g);m(r,{replace:x,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,r,o,u,h])}var CS=0,DS=()=>`__${String(++CS)}__`;function kS(){let{router:r}=Sb("useSubmit"),{basename:e}=z.useContext(rr),n=XA();return z.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=uS(s,e);if(o.navigate===!1){let b=o.fetcherKey||DS();await r.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function OS(r,{relative:e}={}){let{basename:n}=z.useContext(rr),s=z.useContext(ir);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ru(r||".",{relative:e})},h=vi();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(x=>x).forEach(x=>m.append("index",x));let b=m.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ci([n,u.pathname])),mu(u)}function MS(r,e={}){let n=z.useContext(pb);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Sb("useViewTransitionState"),o=Ru(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=fi(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=fi(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Mh(o.pathname,h)!=null||Mh(o.pathname,u)!=null}[...yS];/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Tv=r=>{const e=VS(r);return e.charAt(0).toUpperCase()+e.slice(1)},Rb=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),jS=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=z.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>z.createElement("svg",{ref:p,...LS,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Rb("lucide",o),...!u&&!jS(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,b])=>z.createElement(g,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(r,e)=>{const n=z.forwardRef(({className:s,...o},u)=>z.createElement(US,{ref:u,iconNode:e,className:Rb(`lucide-${PS(Tv(r))}`,`lucide-${r}`,s),...o}));return n.displayName=Tv(r),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nb=De("arrow-left",zS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ib=De("award",BS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],HS=De("bookmark",qS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ep=De("calendar",FS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$S=De("camera",GS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],QS=De("chevron-down",KS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],XS=De("chevron-left",YS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Cb=De("chevron-right",WS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],JS=De("circle-alert",ZS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Db=De("circle-check-big",e2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],n2=De("circle-plus",t2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],vo=De("clock",r2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],_o=De("crown",i2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],wv=De("flame",s2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],xv=De("house",a2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],l2=De("info",o2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],tp=De("lock",u2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],np=De("log-out",c2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],d2=De("mail",h2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],m2=De("medal",f2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],g2=De("menu",p2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],rp=De("message-circle",y2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],v2=De("pen-line",_2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],b2=De("phone",E2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Av=De("play",T2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],x2=De("search",w2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],kb=De("send",A2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Sv=De("settings",S2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],N2=De("share-2",R2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],C2=De("smile",I2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wh=De("star",D2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ip=De("target",k2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],M2=De("thumbs-up",O2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P2=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],V2=De("timer",P2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ob=De("trending-up",j2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],U2=De("triangle-alert",L2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Ph=De("trophy",z2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Tr=De("user",B2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rv=De("users",q2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mb=De("x",H2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Pb=De("zap",F2),G2=()=>{};var Nv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$2=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},jb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,b=u>>2,x=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,P=g&63;p||(P=64,h||(w=64)),s.push(n[b],n[x],n[w],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Vb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):$2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const x=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||x==null)throw new K2;const w=u<<2|m>>4;if(s.push(w),g!==64){const P=m<<4&240|g>>2;if(s.push(P),x!==64){const S=g<<6&192|x;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class K2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Q2=function(r){const e=Vb(r);return jb.encodeByteArray(e,!0)},Vh=function(r){return Q2(r).replace(/\./g,"")},Lb=function(r){try{return jb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=()=>Y2().__FIREBASE_DEFAULTS__,W2=()=>{if(typeof process>"u"||typeof Nv>"u")return;const r=Nv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Z2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Lb(r[1]);return e&&JSON.parse(e)},rd=()=>{try{return G2()||X2()||W2()||Z2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ub=r=>{var e,n;return(n=(e=rd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},zb=r=>{const e=Ub(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Bb=()=>{var r;return(r=rd())===null||r===void 0?void 0:r.config},qb=r=>{var e;return(e=rd())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Hp(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Vh(JSON.stringify(n)),Vh(JSON.stringify(h)),""].join(".")}const ou={};function eR(){const r={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?r.emulator.push(e):r.prod.push(e);return r}function tR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Iv=!1;function Fp(r,e){if(typeof window>"u"||typeof document>"u"||!ps(window.location.host)||ou[r]===e||ou[r]||Iv)return;ou[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=eR().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Iv=!0,h()},w}function b(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=tR(s),P=n("text"),S=document.getElementById(P)||document.createElement("span"),U=n("learnmore"),j=document.getElementById(U)||document.createElement("a"),G=n("preprendIcon"),Y=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const J=w.element;m(J),b(j,U);const oe=g();p(Y,G),J.append(Y,S,j,oe),document.body.appendChild(J)}u?(S.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function rR(){var r;const e=(r=rd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function aR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oR(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lR(){return!rR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function cR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="FirebaseError";class kr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=hR,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?dR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new kr(o,m,s)}}function dR(r,e){return r.replace(fR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fR=/\{\$([^}]+)}/g;function mR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ua(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(Cv(u)&&Cv(h)){if(!ua(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Cv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eu(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function tu(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function pR(r,e){const n=new gR(r,e);return n.subscribe.bind(n)}class gR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");yR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=jm),o.error===void 0&&(o.error=jm),o.complete===void 0&&(o.complete=jm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(r){return r&&r._delegate?r._delegate:r}class as{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new J2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ER(e))try{this.getOrInitializeService({instanceIdentifier:na})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=na){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=na){return this.instances.has(e)}getOptions(e=na){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=na){return this.component?this.component.multipleInstances?e:na:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(r){return r===na?void 0:r}function ER(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _R(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const TR={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},wR=je.INFO,xR={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},AR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=xR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gp{constructor(e){this.name=e,this._logLevel=wR,this._logHandler=AR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const SR=(r,e)=>e.some(n=>r instanceof n);let Dv,kv;function RR(){return Dv||(Dv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NR(){return kv||(kv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fb=new WeakMap,sp=new WeakMap,Gb=new WeakMap,Lm=new WeakMap,$p=new WeakMap;function IR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(ns(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&Fb.set(n,r)}).catch(()=>{}),$p.set(e,r),e}function CR(r){if(sp.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});sp.set(r,e)}let ap={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return sp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Gb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function DR(r){ap=r(ap)}function kR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Um(this),e,...n);return Gb.set(s,e.sort?e.sort():[e]),ns(s)}:NR().includes(r)?function(...e){return r.apply(Um(this),e),ns(Fb.get(this))}:function(...e){return ns(r.apply(Um(this),e))}}function OR(r){return typeof r=="function"?kR(r):(r instanceof IDBTransaction&&CR(r),SR(r,RR())?new Proxy(r,ap):r)}function ns(r){if(r instanceof IDBRequest)return IR(r);if(Lm.has(r))return Lm.get(r);const e=OR(r);return e!==r&&(Lm.set(r,e),$p.set(e,r)),e}const Um=r=>$p.get(r);function MR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ns(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ns(h.result),p.oldVersion,p.newVersion,ns(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const PR=["get","getKey","getAll","getAllKeys","count"],VR=["put","add","delete","clear"],zm=new Map;function Ov(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zm.get(e))return zm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=VR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||PR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return zm.set(e,u),u}DR(r=>({...r,get:(e,n,s)=>Ov(e,n)||r.get(e,n,s),has:(e,n)=>!!Ov(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const op="@firebase/app",Mv="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Gp("@firebase/app"),UR="@firebase/app-compat",zR="@firebase/analytics-compat",BR="@firebase/analytics",qR="@firebase/app-check-compat",HR="@firebase/app-check",FR="@firebase/auth",GR="@firebase/auth-compat",$R="@firebase/database",KR="@firebase/data-connect",QR="@firebase/database-compat",YR="@firebase/functions",XR="@firebase/functions-compat",WR="@firebase/installations",ZR="@firebase/installations-compat",JR="@firebase/messaging",eN="@firebase/messaging-compat",tN="@firebase/performance",nN="@firebase/performance-compat",rN="@firebase/remote-config",iN="@firebase/remote-config-compat",sN="@firebase/storage",aN="@firebase/storage-compat",oN="@firebase/firestore",lN="@firebase/ai",uN="@firebase/firestore-compat",cN="firebase",hN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",dN={[op]:"fire-core",[UR]:"fire-core-compat",[BR]:"fire-analytics",[zR]:"fire-analytics-compat",[HR]:"fire-app-check",[qR]:"fire-app-check-compat",[FR]:"fire-auth",[GR]:"fire-auth-compat",[$R]:"fire-rtdb",[KR]:"fire-data-connect",[QR]:"fire-rtdb-compat",[YR]:"fire-fn",[XR]:"fire-fn-compat",[WR]:"fire-iid",[ZR]:"fire-iid-compat",[JR]:"fire-fcm",[eN]:"fire-fcm-compat",[tN]:"fire-perf",[nN]:"fire-perf-compat",[rN]:"fire-rc",[iN]:"fire-rc-compat",[sN]:"fire-gcs",[aN]:"fire-gcs-compat",[oN]:"fire-fst",[uN]:"fire-fst-compat",[lN]:"fire-vertex","fire-js":"fire-js",[cN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map,fN=new Map,up=new Map;function Pv(r,e){try{r.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ca(r){const e=r.name;if(up.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;up.set(e,r);for(const n of jh.values())Pv(n,r);for(const n of fN.values())Pv(n,r);return!0}function id(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function pn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new Nu("app","Firebase",mN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new as("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=hN;function $b(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:lp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=Bb()),!n)throw rs.create("no-options");const u=jh.get(o);if(u){if(ua(n,u.options)&&ua(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const h=new bR(o);for(const p of up.values())h.addComponent(p);const m=new pN(n,s,h);return jh.set(o,m),m}function Kp(r=lp){const e=jh.get(r);if(!e&&r===lp&&Bb())return $b();if(!e)throw rs.create("no-app",{appName:r});return e}function xr(r,e,n){var s;let o=(s=dN[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(m.join(" "));return}ca(new as(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="firebase-heartbeat-database",yN=1,pu="firebase-heartbeat-store";let Bm=null;function Kb(){return Bm||(Bm=MR(gN,yN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(pu)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),Bm}async function _N(r){try{const n=(await Kb()).transaction(pu),s=await n.objectStore(pu).get(Qb(r));return await n.done,s}catch(e){if(e instanceof kr)mi.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(n.message)}}}async function Vv(r,e){try{const s=(await Kb()).transaction(pu,"readwrite");await s.objectStore(pu).put(e,Qb(r)),await s.done}catch(n){if(n instanceof kr)mi.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mi.warn(s.message)}}}function Qb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=1024,EN=30;class bN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=jv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>EN){const h=xN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){mi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=jv(),{heartbeatsToSend:s,unsentEntries:o}=TN(this._heartbeatsCache.heartbeats),u=Vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return mi.warn(n),""}}}function jv(){return new Date().toISOString().substring(0,10)}function TN(r,e=vN){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),Lv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Lv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class wN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?cR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _N(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Lv(r){return Vh(JSON.stringify({version:2,heartbeats:r})).length}function xN(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(r){ca(new as("platform-logger",e=>new jR(e),"PRIVATE")),ca(new as("heartbeat",e=>new bN(e),"PRIVATE")),xr(op,Mv,r),xr(op,Mv,"esm2017"),xr("fire-js","")}AN("");function Qp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function Yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SN=Yb,Xb=new Nu("auth","Firebase",Yb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new Gp("@firebase/auth");function RN(r,...e){Lh.logLevel<=je.WARN&&Lh.warn(`Auth (${ya}): ${r}`,...e)}function xh(r,...e){Lh.logLevel<=je.ERROR&&Lh.error(`Auth (${ya}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...e){throw Xp(r,...e)}function tr(r,...e){return Xp(r,...e)}function Yp(r,e,n){const s=Object.assign(Object.assign({},SN()),{[e]:n});return new Nu("auth","Firebase",s).create(e,{appName:r.name})}function hi(r){return Yp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NN(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&$n(r,"argument-error"),Yp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Xb.create(r,...e)}function xe(r,e,...n){if(!r)throw Xp(e,...n)}function li(r){const e="INTERNAL ASSERTION FAILED: "+r;throw xh(e),new Error(e)}function pi(r,e){r||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function IN(){return Uv()==="http:"||Uv()==="https:"}function Uv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IN()||sR()||"connection"in navigator)?navigator.onLine:!0}function DN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pi(n>e,"Short delay should be less than long delay!"),this.isMobile=nR()||aR()}get(){return CN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(r,e){pi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MN=new Cu(3e4,6e4);function Ei(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Or(r,e,n,s,o={}){return Zb(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Iu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return iR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&ps(r.emulatorConfig.host)&&(g.credentials="include"),Wb.fetch()(await Jb(r,r.config.apiHost,n,m),g)})}async function Zb(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},kN),e);try{const o=new VN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw dh(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw dh(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw dh(r,"user-disabled",h);const b=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Yp(r,b,g);$n(r,b)}}catch(o){if(o instanceof kr)throw o;$n(r,"network-request-failed",{message:String(o)})}}async function Du(r,e,n,s,o={}){const u=await Or(r,e,n,s,o);return"mfaPendingCredential"in u&&$n(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Jb(r,e,n,s){const o=`${e}${n}?${s}`,u=r,h=u.config.emulator?Wp(r.config,o):`${r.config.apiScheme}://${o}`;return ON.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function PN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(tr(this.auth,"network-request-failed")),MN.get())})}}function dh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=tr(r,e,s);return o.customData._tokenResponse=n,o}function zv(r){return r!==void 0&&r.enterprise!==void 0}class jN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LN(r,e){return Or(r,"GET","/v2/recaptchaConfig",Ei(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN(r,e){return Or(r,"POST","/v1/accounts:delete",e)}async function Uh(r,e){return Or(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zN(r,e=!1){const n=ct(r),s=await n.getIdToken(e),o=Zp(s);xe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:lu(qm(o.auth_time)),issuedAtTime:lu(qm(o.iat)),expirationTime:lu(qm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function qm(r){return Number(r)*1e3}function Zp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return xh("JWT malformed, contained fewer than 3 sections"),null;try{const o=Lb(n);return o?JSON.parse(o):(xh("Failed to decode base64 JWT payload"),null)}catch(o){return xh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Bv(r){const e=Zp(r);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof kr&&BN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function BN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await xo(r,Uh(n,{idToken:s}));xe(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?e1(u.providerUserInfo):[],m=FN(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),b=p?g:!1,x={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new hp(u.createdAt,u.lastLoginAt),isAnonymous:b};Object.assign(r,x)}async function HN(r){const e=ct(r);await zh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function e1(r){return r.map(e=>{var{providerId:n}=e,s=Qp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(r,e){const n=await Zb(r,{},async()=>{const s=Iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await Jb(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&ps(r.emulatorConfig.host)&&(p.credentials="include"),Wb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $N(r,e){return Or(r,"POST","/v2/accounts:revokeToken",Ei(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Bv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const n=Bv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await GN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Eo;return s&&(xe(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(xe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(xe(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(r,e){xe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new hp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await xo(this,this.stsTokenManager.getToken(this.auth,e));return xe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zN(this,e)}reload(){return HN(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await zh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await xo(this,UN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,p,g,b;const x=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,S=(h=n.photoURL)!==null&&h!==void 0?h:void 0,U=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Y=(b=n.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:J,emailVerified:oe,isAnonymous:he,providerData:ge,stsTokenManager:V}=n;xe(J&&V,e,"internal-error");const R=Eo.fromJSON(this.name,V);xe(typeof J=="string",e,"internal-error"),Xi(x,e.name),Xi(w,e.name),xe(typeof oe=="boolean",e,"internal-error"),xe(typeof he=="boolean",e,"internal-error"),Xi(P,e.name),Xi(S,e.name),Xi(U,e.name),Xi(j,e.name),Xi(G,e.name),Xi(Y,e.name);const I=new er({uid:J,auth:e,email:w,emailVerified:oe,displayName:x,isAnonymous:he,photoURL:S,phoneNumber:P,tenantId:U,stsTokenManager:R,createdAt:G,lastLoginAt:Y});return ge&&Array.isArray(ge)&&(I.providerData=ge.map(M=>Object.assign({},M))),j&&(I._redirectEventId=j),I}static async _fromIdTokenResponse(e,n,s=!1){const o=new Eo;o.updateFromServerResponse(n);const u=new er({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await zh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];xe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?e1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Eo;m.updateFromIdToken(s);const p=new er({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;function ui(r){pi(r instanceof Function,"Expected a class definition");let e=qv.get(r);return e?(pi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,qv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}t1.type="NONE";const Hv=t1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(r,e,n){return`firebase:${r}:${e}:${n}`}class bo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=Ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Uh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new bo(ui(Hv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ui(Hv);const h=Ah(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const b=await g._get(h);if(b){let x;if(typeof b=="string"){const w=await Uh(e,{idToken:b}).catch(()=>{});if(!w)break;x=await er._fromGetAccountInfoResponse(e,w,b)}else x=er._fromJSON(e,b);g!==u&&(m=x),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new bo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new bo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(s1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(n1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(o1(e))return"Blackberry";if(l1(e))return"Webos";if(r1(e))return"Safari";if((e.includes("chrome/")||i1(e))&&!e.includes("edge/"))return"Chrome";if(a1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function n1(r=rn()){return/firefox\//i.test(r)}function r1(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function i1(r=rn()){return/crios\//i.test(r)}function s1(r=rn()){return/iemobile/i.test(r)}function a1(r=rn()){return/android/i.test(r)}function o1(r=rn()){return/blackberry/i.test(r)}function l1(r=rn()){return/webos/i.test(r)}function Jp(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function KN(r=rn()){var e;return Jp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QN(){return oR()&&document.documentMode===10}function u1(r=rn()){return Jp(r)||a1(r)||l1(r)||o1(r)||/windows phone/i.test(r)||s1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(r,e=[]){let n;switch(r){case"Browser":n=Fv(rn());break;case"Worker":n=`${Fv(rn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ya}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(r,e={}){return Or(r,"GET","/v2/passwordPolicy",Ei(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=6;class ZN{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:WN,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gv(this),this.idTokenSubscription=new Gv(this),this.beforeStateQueue=new YN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Uh(this,{idToken:e}),s=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(pn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(hi(this));const n=e?ct(e):null;return n&&xe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XN(this),n=new ZN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await $N(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;xe(n,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=c1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function bi(r){return ct(r)}class Gv{constructor(e){this.auth=e,this.observer=null,this.addObserver=pR(n=>this.observer=n)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eI(r){sd=r}function h1(r){return sd.loadJS(r)}function tI(){return sd.recaptchaEnterpriseScript}function nI(){return sd.gapiScript}function rI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class iI{constructor(){this.enterprise=new sI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class sI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const aI="recaptcha-enterprise",d1="NO_RECAPTCHA";class oI{constructor(e){this.type=aI,this.auth=bi(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{LN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new jN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;zv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(d1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new iI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&zv(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=tI();p.length!==0&&(p+=m),h1(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function $v(r,e,n,s=!1,o=!1){const u=new oI(r);let h;if(o)h=d1;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Bh(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await $v(r,e,n,n==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await $v(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(r,e){const n=id(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ua(u,e??{}))return o;$n(o,"already-initialized")}return n.initialize({options:e})}function uI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function cI(r,e,n){const s=bi(r);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=f1(e),{host:h,port:m}=hI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(ua(g,s.config.emulator)&&ua(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,ps(h)?(Hp(`${u}//${h}${p}`),Fp("Auth",!0)):dI()}function f1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function hI(r){const e=f1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Kv(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Kv(h)}}}function Kv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function dI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function fI(r,e){return Or(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(r,e){return Du(r,"POST","/v1/accounts:signInWithPassword",Ei(r,e))}async function pI(r,e){return Or(r,"POST","/v1/accounts:sendOobCode",Ei(r,e))}async function gI(r,e){return pI(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(r,e){return Du(r,"POST","/v1/accounts:signInWithEmailLink",Ei(r,e))}async function _I(r,e){return Du(r,"POST","/v1/accounts:signInWithEmailLink",Ei(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu extends eg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new gu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new gu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bh(e,n,"signInWithPassword",mI);case"emailLink":return yI(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bh(e,s,"signUpPassword",fI);case"emailLink":return _I(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(r,e){return Du(r,"POST","/v1/accounts:signInWithIdp",Ei(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="http://localhost";class ha extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Qp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ha(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,To(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:vI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bI(r){const e=eu(tu(r)).link,n=e?eu(tu(e)).deep_link_id:null,s=eu(tu(r)).deep_link_id;return(s?eu(tu(s)).link:null)||s||n||e||r}class tg{constructor(e){var n,s,o,u,h,m;const p=eu(tu(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,b=(s=p.oobCode)!==null&&s!==void 0?s:null,x=EI((o=p.mode)!==null&&o!==void 0?o:null);xe(g&&b&&x,"argument-error"),this.apiKey=g,this.operation=x,this.code=b,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=bI(e);try{return new tg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return gu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=tg.parseLink(n);return xe(s,"argument-error"),gu._fromEmailAndCode(e,s.code,s.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku extends ng{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends ku{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends ku{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return oi.credential(n,s)}catch{return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com";oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends ku{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends ku{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ji.credential(n,s)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(r,e){return Du(r,"POST","/v1/accounts:signUp",Ei(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await er._fromIdTokenResponse(e,s,o),h=Qv(s);return new da({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Qv(s);return new da({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends kr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new qh(e,n,s,o)}}function m1(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(r,u,e,s):u})}async function wI(r,e,n=!1){const s=await xo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return da._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(r,e,n=!1){const{auth:s}=r;if(pn(s.app))return Promise.reject(hi(s));const o="reauthenticate";try{const u=await xo(r,m1(s,o,e,r),n);xe(u.idToken,s,"internal-error");const h=Zp(u.idToken);xe(h,s,"internal-error");const{sub:m}=h;return xe(r.uid===m,s,"user-mismatch"),da._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&$n(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(r,e,n=!1){if(pn(r.app))return Promise.reject(hi(r));const s="signIn",o=await m1(r,s,e),u=await da._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function AI(r,e){return p1(bi(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(r){const e=bi(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SI(r,e,n){const s=bi(r);await Bh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",gI)}async function RI(r,e,n){if(pn(r.app))return Promise.reject(hi(r));const s=bi(r),h=await Bh(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",TI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&g1(r),p}),m=await da._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function NI(r,e,n){return pn(r.app)?Promise.reject(hi(r)):AI(ct(r),Mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&g1(r),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(r,e){return Or(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y1(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ct(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await xo(s,II(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function CI(r,e,n,s){return ct(r).onIdTokenChanged(e,n,s)}function DI(r,e,n){return ct(r).beforeAuthStateChanged(e,n)}function ad(r,e,n,s){return ct(r).onAuthStateChanged(e,n,s)}function _1(r){return ct(r).signOut()}const Hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Hh,"1"),this.storage.removeItem(Hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=1e3,OI=10;class E1 extends v1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=u1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);QN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},kI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}E1.type="LOCAL";const MI=E1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends v1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b1.type="SESSION";const T1=b1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new od(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await PI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}od.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=rg("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(x){const w=x;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ar(){return window}function jI(r){Ar().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(){return typeof Ar().WorkerGlobalScope<"u"&&typeof Ar().importScripts=="function"}async function LI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zI(){return w1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="firebaseLocalStorageDb",BI=1,Fh="firebaseLocalStorage",A1="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(r,e){return r.transaction([Fh],e?"readwrite":"readonly").objectStore(Fh)}function qI(){const r=indexedDB.deleteDatabase(x1);return new Ou(r).toPromise()}function dp(){const r=indexedDB.open(x1,BI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Fh,{keyPath:A1})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Fh)?e(s):(s.close(),await qI(),e(await dp()))})})}async function Yv(r,e,n){const s=ld(r,!0).put({[A1]:e,value:n});return new Ou(s).toPromise()}async function HI(r,e){const n=ld(r,!1).get(e),s=await new Ou(n).toPromise();return s===void 0?null:s.value}function Xv(r,e){const n=ld(r,!0).delete(e);return new Ou(n).toPromise()}const FI=800,GI=3;class S1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>GI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return w1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=od._getInstance(zI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await LI(),!this.activeServiceWorker)return;this.sender=new VI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dp();return await Yv(e,Hh,"1"),await Xv(e,Hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Yv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>HI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ld(o,!1).getAll();return new Ou(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S1.type="LOCAL";const $I=S1;new Cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(r,e){return e?ui(e):(xe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KI(r){return p1(r.auth,new ig(r),r.bypassAuthState)}function QI(r){const{auth:e,user:n}=r;return xe(n,e,"internal-error"),xI(n,new ig(r),r.bypassAuthState)}async function YI(r){const{auth:e,user:n}=r;return xe(n,e,"internal-error"),wI(n,new ig(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KI;case"linkViaPopup":case"linkViaRedirect":return YI;case"reauthViaPopup":case"reauthViaRedirect":return QI;default:$n(this.auth,"internal-error")}}resolve(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new Cu(2e3,1e4);async function WI(r,e,n){if(pn(r.app))return Promise.reject(tr(r,"operation-not-supported-in-this-environment"));const s=bi(r);NN(r,e,ng);const o=R1(s,n);return new ia(s,"signInViaPopup",e,o).executeNotNull()}class ia extends N1{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){pi(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(tr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XI.get())};e()}}ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="pendingRedirect",Sh=new Map;class JI extends N1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Sh.get(this.auth._key());if(!e){try{const s=await eC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Sh.set(this.auth._key(),e)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eC(r,e){const n=rC(e),s=nC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function tC(r,e){Sh.set(r._key(),e)}function nC(r){return ui(r._redirectPersistence)}function rC(r){return Ah(ZI,r.config.apiKey,r.name)}async function iC(r,e,n=!1){if(pn(r.app))return Promise.reject(hi(r));const s=bi(r),o=R1(s,e),h=await new JI(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=10*60*1e3;class aC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!I1(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(tr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Wv(e))}saveEventToCache(e){this.cachedEventUids.add(Wv(e)),this.lastProcessedEventTime=Date.now()}}function Wv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function I1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(r,e={}){return Or(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function hC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lC(r);for(const n of e)try{if(dC(n))return}catch{}$n(r,"unauthorized-domain")}function dC(r){const e=cp(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!cC.test(n))return!1;if(uC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new Cu(3e4,6e4);function Zv(){const r=Ar().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mC(r){return new Promise((e,n)=>{var s,o,u;function h(){Zv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zv(),n(tr(r,"network-request-failed"))},timeout:fC.get()})}if(!((o=(s=Ar().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ar().gapi)===null||u===void 0)&&u.load)h();else{const m=rI("iframefcb");return Ar()[m]=()=>{gapi.load?h():n(tr(r,"network-request-failed"))},h1(`${nI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function pC(r){return Rh=Rh||mC(r),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new Cu(5e3,15e3),yC="__/auth/iframe",_C="emulator/auth/iframe",vC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bC(r){const e=r.config;xe(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Wp(e,_C):`https://${r.config.authDomain}/${yC}`,s={apiKey:e.apiKey,appName:r.name,v:ya},o=EC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Iu(s).slice(1)}`}async function TC(r){const e=await pC(r),n=Ar().gapi;return xe(n,r,"internal-error"),e.open({where:document.body,url:bC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=tr(r,"network-request-failed"),m=Ar().setTimeout(()=>{u(h)},gC.get());function p(){Ar().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xC=500,AC=600,SC="_blank",RC="http://localhost";class Jv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(r,e,n,s=xC,o=AC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},wC),{width:s.toString(),height:o.toString(),top:u,left:h}),g=rn().toLowerCase();n&&(m=i1(g)?SC:n),n1(g)&&(e=e||RC,p.scrollbars="yes");const b=Object.entries(p).reduce((w,[P,S])=>`${w}${P}=${S},`,"");if(KN(g)&&m!=="_self")return IC(e||"",m),new Jv(null);const x=window.open(e||"",m,b);xe(x,r,"popup-blocked");try{x.focus()}catch{}return new Jv(x)}function IC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="__/auth/handler",DC="emulator/auth/handler",kC=encodeURIComponent("fac");async function eE(r,e,n,s,o,u){xe(r.config.authDomain,r,"auth-domain-config-required"),xe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ya,eventId:o};if(e instanceof ng){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",mR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,x]of Object.entries({}))h[b]=x}if(e instanceof ku){const b=e.getScopes().filter(x=>x!=="");b.length>0&&(h.scopes=b.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await r._getAppCheckToken(),g=p?`#${kC}=${encodeURIComponent(p)}`:"";return`${OC(r)}?${Iu(m).slice(1)}${g}`}function OC({config:r}){return r.emulator?Wp(r,DC):`https://${r.authDomain}/${CC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class MC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T1,this._completeRedirectFn=iC,this._overrideRedirectResult=tC}async _openPopup(e,n,s,o){var u;pi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await eE(e,n,s,cp(),o);return NC(e,h,rg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await eE(e,n,s,cp(),o);return jI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await TC(e),s=new aC(e);return n.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Hm,{type:Hm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Hm];h!==void 0&&n(!!h),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return u1()||r1()||Jp()}}const PC=MC;var tE="@firebase/auth",nE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LC(r){ca(new as("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;xe(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:c1(r)},g=new JN(s,o,u,p);return uI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ca(new as("auth-internal",e=>{const n=bi(e.getProvider("auth").getImmediate());return(s=>new VC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),xr(tE,nE,jC(r)),xr(tE,nE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=5*60,zC=qb("authIdTokenMaxAge")||UC;let rE=null;const BC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zC)return;const o=n==null?void 0:n.token;rE!==o&&(rE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function _a(r=Kp()){const e=id(r,"auth");if(e.isInitialized())return e.getImmediate();const n=lI(r,{popupRedirectResolver:PC,persistence:[$I,MI,T1]}),s=qb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=BC(u.toString());DI(n,h,()=>h(n.currentUser)),CI(n,m=>h(m))}}const o=Ub("auth");return o&&cI(n,`http://${o}`),n}function qC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}eI({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=tr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",qC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LC("Browser");function Sr(){const r=ms(),[e,n]=z.useState(!1),[s,o]=z.useState(!1),[u,h]=z.useState(null),m=_a(),p=z.useRef(null);z.useEffect(()=>ad(m,S=>{h(S)}),[m]),z.useEffect(()=>{const P=S=>{p.current&&!p.current.contains(S.target)&&o(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const g=async()=>{try{await _1(m),o(!1),r("/auth")}catch(P){console.error("Erro ao fazer logout: ",P)}},b=()=>{n(!e)},x=()=>{o(!s)},w=P=>{switch(o(!1),P){case"profile":r("/profile");break;case"journey":r("/jornada-hiit");break;case"settings":console.log("Navegar para Gerenciar Conta");break;case"logout":g();break}};return y.jsx("header",{className:"bg-gray-900 text-white shadow-lg fixed top-0 left-0 right-0 z-50",children:y.jsxs("div",{className:"container mx-auto px-6",children:[y.jsxs("div",{className:"flex justify-between items-center py-4",children:[y.jsx("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>r("/dashboard"),children:y.jsx("img",{src:"/fina.png",alt:"Team HIIT Logo",className:"h-8"})}),y.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[y.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:[y.jsx(xv,{className:"w-4 h-4"}),y.jsx("span",{children:"Dashboard"})]}),y.jsxs("button",{onClick:()=>r(u?"/community":"/auth"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:[y.jsx(Rv,{className:"w-4 h-4"}),y.jsx("span",{children:"Comunidade"})]}),u&&y.jsxs("div",{className:"relative",ref:p,children:[y.jsxs("button",{onClick:x,className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:[u.photoURL?y.jsx("img",{src:u.photoURL,alt:"Foto de Perfil",className:"w-6 h-6 rounded-full object-cover"}):y.jsx(Tr,{className:"w-4 h-4"}),y.jsx("span",{children:u.displayName||"Usurio"}),y.jsx(QS,{className:`w-4 h-4 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&y.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[y.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:u.photoURL?y.jsx("img",{src:u.photoURL,alt:"Foto de Perfil",className:"w-8 h-8 rounded-full object-cover"}):y.jsx(Tr,{className:"w-4 h-4 text-white"})}),y.jsx("span",{className:"font-medium text-gray-900",children:u.displayName||"Usurio"})]})}),y.jsxs("button",{onClick:()=>w("profile"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[y.jsx(Tr,{className:"w-4 h-4 text-gray-500"}),y.jsx("span",{className:"text-gray-700",children:"Meu perfil"})]}),y.jsxs("button",{onClick:()=>w("journey"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[y.jsx(Ph,{className:"w-4 h-4 text-gray-500"}),y.jsx("span",{className:"text-gray-700",children:"Jornada HIIT"})]}),y.jsxs("button",{onClick:()=>w("settings"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[y.jsx(Sv,{className:"w-4 h-4 text-gray-500"}),y.jsx("span",{className:"text-gray-700",children:"Gerenciar conta"})]}),y.jsx("div",{className:"border-t border-gray-100 mt-2 pt-2",children:y.jsxs("button",{onClick:()=>w("logout"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[y.jsx(np,{className:"w-4 h-4 text-red-500"}),y.jsx("span",{className:"text-red-600",children:"Sair"})]})})]})]}),!u&&y.jsxs("button",{onClick:()=>r("/auth"),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200",children:[y.jsx(Tr,{className:"w-4 h-4"}),y.jsx("span",{children:"Entrar"})]})]}),y.jsx("button",{onClick:b,className:"md:hidden p-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:e?y.jsx(Mb,{className:"w-6 h-6"}):y.jsx(g2,{className:"w-6 h-6"})})]}),e&&y.jsx("div",{className:"md:hidden py-4 border-t border-gray-700",children:y.jsxs("nav",{className:"space-y-2",children:[y.jsxs("button",{onClick:()=>{r("/dashboard"),n(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[y.jsx(xv,{className:"w-5 h-5"}),y.jsx("span",{children:"Dashboard"})]}),y.jsxs("button",{onClick:()=>{r(u?"/community":"/auth"),n(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[y.jsx(Rv,{className:"w-5 h-5"}),y.jsx("span",{children:"Comunidade"})]}),u&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:()=>{r("/profile"),n(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[u.photoURL?y.jsx("img",{src:u.photoURL,alt:"Foto de Perfil",className:"w-8 h-8 rounded-full object-cover"}):y.jsx(Tr,{className:"w-5 h-5"}),y.jsx("span",{children:"Meu perfil"})]}),y.jsxs("button",{onClick:()=>{r("/jornada-hiit"),n(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[y.jsx(Ph,{className:"w-5 h-5"}),y.jsx("span",{children:"Jornada HIIT"})]}),y.jsxs("button",{onClick:()=>{n(!1),console.log("Navegar para Gerenciar Conta")},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[y.jsx(Sv,{className:"w-5 h-5"}),y.jsx("span",{children:"Gerenciar conta"})]}),y.jsxs("button",{onClick:()=>{g(),n(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200 text-left",children:[y.jsx(np,{className:"w-5 h-5"}),y.jsx("span",{children:"Sair"})]})]}),!u&&y.jsxs("button",{onClick:()=>{r("/auth"),n(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200 text-left",children:[y.jsx(Tr,{className:"w-5 h-5"}),y.jsx("span",{children:"Entrar"})]})]})})]})})}const C1=z.createContext(),D1=()=>{const r=z.useContext(C1);if(!r)throw new Error("useToast must be used within a ToastProvider");return r},HC=({children:r})=>{const[e,n]=z.useState([]),s=z.useCallback((h,m="info",p=5e3)=>{const g=Date.now()+Math.random(),b={id:g,message:h,type:m,duration:p};return n(x=>[...x,b]),p>0&&setTimeout(()=>{n(x=>x.filter(w=>w.id!==g))},p),g},[]),o=z.useCallback(h=>{n(m=>m.filter(p=>p.id!==h))},[]),u={addToast:s,removeToast:o,ToastContainer:()=>y.jsx(FC,{toasts:e,removeToast:o})};return y.jsx(C1.Provider,{value:u,children:r})},FC=({toasts:r,removeToast:e})=>r.length===0?null:y.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(n=>y.jsx(GC,{toast:n,onClose:()=>e(n.id)},n.id))}),GC=({toast:r,onClose:e})=>{const n=()=>{switch(r.type){case"success":return y.jsx(Db,{className:"w-5 h-5 text-green-500"});case"error":return y.jsx(JS,{className:"w-5 h-5 text-red-500"});case"warning":return y.jsx(U2,{className:"w-5 h-5 text-yellow-500"});default:return y.jsx(l2,{className:"w-5 h-5 text-blue-500"})}},s=()=>{switch(r.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}};return y.jsxs("div",{className:`flex items-center p-4 rounded-lg border shadow-lg min-w-80 ${s()}`,children:[n(),y.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 flex-1",children:r.message}),y.jsx("button",{onClick:e,className:"ml-3 text-gray-400 hover:text-gray-600",children:y.jsx(Mb,{className:"w-4 h-4"})})]})};function $C(){const[r,e]=z.useState([]),[n,s]=z.useState(""),[o,u]=z.useState(0),[h,m]=z.useState(!0),p=ms(),{addToast:g,ToastContainer:b}=D1();z.useEffect(()=>{(async()=>{try{const U=document.createElement("script");U.src="/trainings.js",U.onload=()=>{if(window.trainingsData&&window.trainingsData.sections)e(window.trainingsData.sections),m(!1);else throw new Error("Dados dos treinos no encontrados")},U.onerror=()=>{throw new Error("Erro ao carregar arquivo de treinos")},document.head.appendChild(U)}catch(U){console.error("Erro ao carregar treinos:",U),s(`Erro ao carregar treinos: ${U.message}`),g("Erro ao carregar treinos","error"),m(!1)}})()},[]);const x=S=>{switch(S.toLowerCase()){case"fora":case"especfico":return"from-blue-500 to-blue-600";case"cardio":case"hiit":case"desafio":return"from-red-500 to-orange-500";case"guia":case"suporte":return"from-green-500 to-teal-500";default:return"from-purple-500 to-pink-500"}},w=[y.jsxs("div",{className:"relative overflow-hidden",style:{height:"800px"},children:[y.jsx("img",{src:"/BANNER PRINCIPAL/TREINOS-GRATIS.png",alt:"Team HIIT - Treinos Grtis",className:"w-full h-full object-cover object-center",style:{objectPosition:"center center"}}),y.jsx("div",{className:"absolute inset-0 bg-black/10"})]},"slide1"),y.jsxs("div",{className:"relative overflow-hidden",style:{height:"800px"},children:[y.jsx("img",{src:"/BANNER PRINCIPAL/Indique-um-amigo.png",alt:"Team HIIT - Indique um Amigo",className:"w-full h-full object-cover object-center",style:{objectPosition:"center center"}}),y.jsx("div",{className:"absolute inset-0 bg-black/10"})]},"slide2")],P=()=>r.reduce((S,U)=>S+U.trainings.length,0);return h?y.jsxs("div",{className:"min-h-screen bg-gray-50",children:[y.jsx(Sr,{}),y.jsx("div",{className:"container mx-auto px-4 py-8",children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((S,U)=>y.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[y.jsx("div",{className:"skeleton h-48 rounded-lg mb-4"}),y.jsx("div",{className:"skeleton h-6 rounded mb-2"}),y.jsx("div",{className:"skeleton h-4 rounded mb-4"}),y.jsx("div",{className:"skeleton h-10 rounded"})]},U))})})]}):y.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[y.jsx(Sr,{}),y.jsx(b,{}),y.jsx("div",{className:"w-full mb-8 animate-fade-in-up pt-20",children:y.jsxs("div",{className:"relative overflow-hidden",style:{height:"800px"},children:[y.jsx("div",{className:"flex transition-transform duration-500 ease-in-out h-full",style:{transform:`translateX(-${o*100}%)`},children:w.map((S,U)=>y.jsx("div",{className:"w-full flex-shrink-0 h-full",children:S},U))}),y.jsx("button",{onClick:()=>u(o===0?w.length-1:o-1),className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 hover:scale-110 backdrop-blur-sm z-10",children:""}),y.jsx("button",{onClick:()=>u(o===w.length-1?0:o+1),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 hover:scale-110 backdrop-blur-sm z-10",children:""}),y.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10",children:w.map((S,U)=>y.jsx("button",{onClick:()=>u(U),className:`w-3 h-3 rounded-full transition-all duration-300 ${U===o?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`},U))})]})}),y.jsxs("div",{className:"container mx-auto px-6 py-8",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-100",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mb-4",children:y.jsx(Ob,{className:"w-6 h-6 text-white"})}),y.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:P()}),y.jsx("p",{className:"text-gray-400",children:"Treinos Disponveis"})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-200",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-green-500 to-teal-500 rounded-full mb-4",children:y.jsx(Ib,{className:"w-6 h-6 text-white"})}),y.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"12"}),y.jsx("p",{className:"text-gray-400",children:"Treinos Concludos"})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-300",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mb-4",children:y.jsx(Pb,{className:"w-6 h-6 text-white"})}),y.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"2,847"}),y.jsx("p",{className:"text-gray-400",children:"Calorias Queimadas"})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-400",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-4",children:y.jsx(vo,{className:"w-6 h-6 text-white"})}),y.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"48h"}),y.jsx("p",{className:"text-gray-400",children:"Tempo Total"})]})]}),n&&y.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:n}),r.map((S,U)=>y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:S.title==="CANAIS DE SUPORTE"?"CRONOGRAMAS SEMANAIS":S.title}),S.description&&y.jsx("p",{className:"text-gray-400 mb-6",children:S.description}),S.trainings.length>0?y.jsx("div",{className:"overflow-x-auto pb-4 md:overflow-visible",children:y.jsx("div",{className:"flex gap-8 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-8",children:S.trainings.map((j,G)=>y.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer transform transition-transform duration-300 hover:scale-105 hover:shadow-xl flex-shrink-0 w-72 md:w-auto flex flex-col aspect-[3/4]",onClick:()=>p(`/trainings/${j.id}`),children:[y.jsx("div",{className:"relative flex-1",children:y.jsx("img",{src:`/${j.imageUrl}`,alt:j.title,className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"p-4 bg-white",children:[y.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:j.title}),y.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[y.jsx(vo,{className:"w-4 h-4 mr-1"}),y.jsx("span",{children:j.duration}),y.jsx("span",{className:"mx-2",children:""}),y.jsx("span",{children:j.level})]}),y.jsx("div",{className:"flex flex-wrap gap-2",children:j.categories.slice(0,2).map(Y=>y.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full text-white 
                                bg-gradient-to-r ${x(Y)}
                              `,children:Y},Y))})]})]},j.id))})}):y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:y.jsx(x2,{className:"w-8 h-8 text-gray-400"})}),y.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Nenhum treino encontrado"}),y.jsx("p",{className:"text-gray-600",children:"Nenhum treino disponvel nesta categoria no momento."})]})]},S.id))]})]})}var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,k1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function I(){}I.prototype=R.prototype,V.D=R.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(M,N,k){for(var C=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)C[Ee-2]=arguments[Ee];return R.prototype[N].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,I){I||(I=0);var M=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)M[N]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(N=0;16>N;++N)M[N]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=V.g[0],I=V.g[1],N=V.g[2];var k=V.g[3],C=R+(k^I&(N^k))+M[0]+3614090360&4294967295;R=I+(C<<7&4294967295|C>>>25),C=k+(N^R&(I^N))+M[1]+3905402710&4294967295,k=R+(C<<12&4294967295|C>>>20),C=N+(I^k&(R^I))+M[2]+606105819&4294967295,N=k+(C<<17&4294967295|C>>>15),C=I+(R^N&(k^R))+M[3]+3250441966&4294967295,I=N+(C<<22&4294967295|C>>>10),C=R+(k^I&(N^k))+M[4]+4118548399&4294967295,R=I+(C<<7&4294967295|C>>>25),C=k+(N^R&(I^N))+M[5]+1200080426&4294967295,k=R+(C<<12&4294967295|C>>>20),C=N+(I^k&(R^I))+M[6]+2821735955&4294967295,N=k+(C<<17&4294967295|C>>>15),C=I+(R^N&(k^R))+M[7]+4249261313&4294967295,I=N+(C<<22&4294967295|C>>>10),C=R+(k^I&(N^k))+M[8]+1770035416&4294967295,R=I+(C<<7&4294967295|C>>>25),C=k+(N^R&(I^N))+M[9]+2336552879&4294967295,k=R+(C<<12&4294967295|C>>>20),C=N+(I^k&(R^I))+M[10]+4294925233&4294967295,N=k+(C<<17&4294967295|C>>>15),C=I+(R^N&(k^R))+M[11]+2304563134&4294967295,I=N+(C<<22&4294967295|C>>>10),C=R+(k^I&(N^k))+M[12]+1804603682&4294967295,R=I+(C<<7&4294967295|C>>>25),C=k+(N^R&(I^N))+M[13]+4254626195&4294967295,k=R+(C<<12&4294967295|C>>>20),C=N+(I^k&(R^I))+M[14]+2792965006&4294967295,N=k+(C<<17&4294967295|C>>>15),C=I+(R^N&(k^R))+M[15]+1236535329&4294967295,I=N+(C<<22&4294967295|C>>>10),C=R+(N^k&(I^N))+M[1]+4129170786&4294967295,R=I+(C<<5&4294967295|C>>>27),C=k+(I^N&(R^I))+M[6]+3225465664&4294967295,k=R+(C<<9&4294967295|C>>>23),C=N+(R^I&(k^R))+M[11]+643717713&4294967295,N=k+(C<<14&4294967295|C>>>18),C=I+(k^R&(N^k))+M[0]+3921069994&4294967295,I=N+(C<<20&4294967295|C>>>12),C=R+(N^k&(I^N))+M[5]+3593408605&4294967295,R=I+(C<<5&4294967295|C>>>27),C=k+(I^N&(R^I))+M[10]+38016083&4294967295,k=R+(C<<9&4294967295|C>>>23),C=N+(R^I&(k^R))+M[15]+3634488961&4294967295,N=k+(C<<14&4294967295|C>>>18),C=I+(k^R&(N^k))+M[4]+3889429448&4294967295,I=N+(C<<20&4294967295|C>>>12),C=R+(N^k&(I^N))+M[9]+568446438&4294967295,R=I+(C<<5&4294967295|C>>>27),C=k+(I^N&(R^I))+M[14]+3275163606&4294967295,k=R+(C<<9&4294967295|C>>>23),C=N+(R^I&(k^R))+M[3]+4107603335&4294967295,N=k+(C<<14&4294967295|C>>>18),C=I+(k^R&(N^k))+M[8]+1163531501&4294967295,I=N+(C<<20&4294967295|C>>>12),C=R+(N^k&(I^N))+M[13]+2850285829&4294967295,R=I+(C<<5&4294967295|C>>>27),C=k+(I^N&(R^I))+M[2]+4243563512&4294967295,k=R+(C<<9&4294967295|C>>>23),C=N+(R^I&(k^R))+M[7]+1735328473&4294967295,N=k+(C<<14&4294967295|C>>>18),C=I+(k^R&(N^k))+M[12]+2368359562&4294967295,I=N+(C<<20&4294967295|C>>>12),C=R+(I^N^k)+M[5]+4294588738&4294967295,R=I+(C<<4&4294967295|C>>>28),C=k+(R^I^N)+M[8]+2272392833&4294967295,k=R+(C<<11&4294967295|C>>>21),C=N+(k^R^I)+M[11]+1839030562&4294967295,N=k+(C<<16&4294967295|C>>>16),C=I+(N^k^R)+M[14]+4259657740&4294967295,I=N+(C<<23&4294967295|C>>>9),C=R+(I^N^k)+M[1]+2763975236&4294967295,R=I+(C<<4&4294967295|C>>>28),C=k+(R^I^N)+M[4]+1272893353&4294967295,k=R+(C<<11&4294967295|C>>>21),C=N+(k^R^I)+M[7]+4139469664&4294967295,N=k+(C<<16&4294967295|C>>>16),C=I+(N^k^R)+M[10]+3200236656&4294967295,I=N+(C<<23&4294967295|C>>>9),C=R+(I^N^k)+M[13]+681279174&4294967295,R=I+(C<<4&4294967295|C>>>28),C=k+(R^I^N)+M[0]+3936430074&4294967295,k=R+(C<<11&4294967295|C>>>21),C=N+(k^R^I)+M[3]+3572445317&4294967295,N=k+(C<<16&4294967295|C>>>16),C=I+(N^k^R)+M[6]+76029189&4294967295,I=N+(C<<23&4294967295|C>>>9),C=R+(I^N^k)+M[9]+3654602809&4294967295,R=I+(C<<4&4294967295|C>>>28),C=k+(R^I^N)+M[12]+3873151461&4294967295,k=R+(C<<11&4294967295|C>>>21),C=N+(k^R^I)+M[15]+530742520&4294967295,N=k+(C<<16&4294967295|C>>>16),C=I+(N^k^R)+M[2]+3299628645&4294967295,I=N+(C<<23&4294967295|C>>>9),C=R+(N^(I|~k))+M[0]+4096336452&4294967295,R=I+(C<<6&4294967295|C>>>26),C=k+(I^(R|~N))+M[7]+1126891415&4294967295,k=R+(C<<10&4294967295|C>>>22),C=N+(R^(k|~I))+M[14]+2878612391&4294967295,N=k+(C<<15&4294967295|C>>>17),C=I+(k^(N|~R))+M[5]+4237533241&4294967295,I=N+(C<<21&4294967295|C>>>11),C=R+(N^(I|~k))+M[12]+1700485571&4294967295,R=I+(C<<6&4294967295|C>>>26),C=k+(I^(R|~N))+M[3]+2399980690&4294967295,k=R+(C<<10&4294967295|C>>>22),C=N+(R^(k|~I))+M[10]+4293915773&4294967295,N=k+(C<<15&4294967295|C>>>17),C=I+(k^(N|~R))+M[1]+2240044497&4294967295,I=N+(C<<21&4294967295|C>>>11),C=R+(N^(I|~k))+M[8]+1873313359&4294967295,R=I+(C<<6&4294967295|C>>>26),C=k+(I^(R|~N))+M[15]+4264355552&4294967295,k=R+(C<<10&4294967295|C>>>22),C=N+(R^(k|~I))+M[6]+2734768916&4294967295,N=k+(C<<15&4294967295|C>>>17),C=I+(k^(N|~R))+M[13]+1309151649&4294967295,I=N+(C<<21&4294967295|C>>>11),C=R+(N^(I|~k))+M[4]+4149444226&4294967295,R=I+(C<<6&4294967295|C>>>26),C=k+(I^(R|~N))+M[11]+3174756917&4294967295,k=R+(C<<10&4294967295|C>>>22),C=N+(R^(k|~I))+M[2]+718787259&4294967295,N=k+(C<<15&4294967295|C>>>17),C=I+(k^(N|~R))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+k&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var I=R-this.blockSize,M=this.B,N=this.h,k=0;k<R;){if(N==0)for(;k<=I;)o(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<R;)if(M[N++]=V.charCodeAt(k++),N==this.blockSize){o(this,M),N=0;break}}else for(;k<R;)if(M[N++]=V[k++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var I=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=I&255,I/=256;for(this.u(V),V=Array(16),R=I=0;4>R;++R)for(var M=0;32>M;M+=8)V[I++]=this.g[R]>>>M&255;return V};function u(V,R){var I=m;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=R(V)}function h(V,R){this.h=R;for(var I=[],M=!0,N=V.length-1;0<=N;N--){var k=V[N]|0;M&&k==R||(I[N]=k,M=!1)}this.g=I}var m={};function p(V){return-128<=V&&128>V?u(V,function(R){return new h([R|0],0>R?-1:0)}):new h([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return x;if(0>V)return j(g(-V));for(var R=[],I=1,M=0;V>=I;M++)R[M]=V/I|0,I*=4294967296;return new h(R,0)}function b(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return j(b(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),M=x,N=0;N<V.length;N+=8){var k=Math.min(8,V.length-N),C=parseInt(V.substring(N,N+k),R);8>k?(k=g(Math.pow(R,k)),M=M.j(k).add(g(C))):(M=M.j(I),M=M.add(g(C)))}return M}var x=p(0),w=p(1),P=p(16777216);r=h.prototype,r.m=function(){if(U(this))return-j(this).m();for(var V=0,R=1,I=0;I<this.g.length;I++){var M=this.i(I);V+=(0<=M?M:4294967296+M)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(S(this))return"0";if(U(this))return"-"+j(this).toString(V);for(var R=g(Math.pow(V,6)),I=this,M="";;){var N=oe(I,R).g;I=G(I,N.j(R));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=N,S(I))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function S(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function U(V){return V.h==-1}r.l=function(V){return V=G(this,V),U(V)?-1:S(V)?0:1};function j(V){for(var R=V.g.length,I=[],M=0;M<R;M++)I[M]=~V.g[M];return new h(I,~V.h).add(w)}r.abs=function(){return U(this)?j(this):this},r.add=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],M=0,N=0;N<=R;N++){var k=M+(this.i(N)&65535)+(V.i(N)&65535),C=(k>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);M=C>>>16,k&=65535,C&=65535,I[N]=C<<16|k}return new h(I,I[I.length-1]&-2147483648?-1:0)};function G(V,R){return V.add(j(R))}r.j=function(V){if(S(this)||S(V))return x;if(U(this))return U(V)?j(this).j(j(V)):j(j(this).j(V));if(U(V))return j(this.j(j(V)));if(0>this.l(P)&&0>V.l(P))return g(this.m()*V.m());for(var R=this.g.length+V.g.length,I=[],M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var N=0;N<V.g.length;N++){var k=this.i(M)>>>16,C=this.i(M)&65535,Ee=V.i(N)>>>16,fe=V.i(N)&65535;I[2*M+2*N]+=C*fe,Y(I,2*M+2*N),I[2*M+2*N+1]+=k*fe,Y(I,2*M+2*N+1),I[2*M+2*N+1]+=C*Ee,Y(I,2*M+2*N+1),I[2*M+2*N+2]+=k*Ee,Y(I,2*M+2*N+2)}for(M=0;M<R;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=R;M<2*R;M++)I[M]=0;return new h(I,0)};function Y(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function J(V,R){this.g=V,this.h=R}function oe(V,R){if(S(R))throw Error("division by zero");if(S(V))return new J(x,x);if(U(V))return R=oe(j(V),R),new J(j(R.g),j(R.h));if(U(R))return R=oe(V,j(R)),new J(j(R.g),R.h);if(30<V.g.length){if(U(V)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,M=R;0>=M.l(V);)I=he(I),M=he(M);var N=ge(I,1),k=ge(M,1);for(M=ge(M,2),I=ge(I,2);!S(M);){var C=k.add(M);0>=C.l(V)&&(N=N.add(I),k=C),M=ge(M,1),I=ge(I,1)}return R=G(V,N.j(R)),new J(N,R)}for(N=x;0<=V.l(R);){for(I=Math.max(1,Math.floor(V.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=g(I),C=k.j(R);U(C)||0<C.l(V);)I-=M,k=g(I),C=k.j(R);S(k)&&(k=w),N=N.add(k),V=G(V,C)}return new J(N,V)}r.A=function(V){return oe(this,V).h},r.and=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)&V.i(M);return new h(I,this.h&V.h)},r.or=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)|V.i(M);return new h(I,this.h|V.h)},r.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)^V.i(M);return new h(I,this.h^V.h)};function he(V){for(var R=V.g.length+1,I=[],M=0;M<R;M++)I[M]=V.i(M)<<1|V.i(M-1)>>>31;return new h(I,V.h)}function ge(V,R){var I=R>>5;R%=32;for(var M=V.g.length-I,N=[],k=0;k<M;k++)N[k]=0<R?V.i(k+I)>>>R|V.i(k+I+1)<<32-R:V.i(k+I);return new h(N,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,k1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=b,is=h}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O1,nu,M1,Nh,fp,P1,V1,j1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,v){return c==Array.prototype||c==Object.prototype||(c[_]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var _=0;_<c.length;++_){var v=c[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var q=c[A];if(!(q in v))break e;v=v[q]}c=c[c.length-1],A=v[c],_=_(A),_!=A&&_!=null&&e(v,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var v=0,A=!1,q={next:function(){if(!A&&v<c.length){var X=v++;return{value:_(X,c[X]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function b(c,_,v){return c.call.apply(c.bind,arguments)}function x(c,_,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),c.apply(_,q)}}return function(){return c.apply(_,arguments)}}function w(c,_,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:x,w.apply(null,arguments)}function P(c,_){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function S(c,_){function v(){}v.prototype=_.prototype,c.aa=_.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,q,X){for(var le=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)le[Ue-2]=arguments[Ue];return _.prototype[q].apply(A,le)}}function U(c){const _=c.length;if(0<_){const v=Array(_);for(let A=0;A<_;A++)v[A]=c[A];return v}return[]}function j(c,_){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const q=c.length||0,X=A.length||0;c.length=q+X;for(let le=0;le<X;le++)c[q+le]=A[le]}else c.push(A)}}class G{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function Y(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var he=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function ge(c,_,v){for(const A in c)_.call(v,c[A],A,c)}function V(c,_){for(const v in c)_.call(void 0,c[v],v,c)}function R(c){const _={};for(const v in c)_[v]=c[v];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,_){let v,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(v in A)c[v]=A[v];for(let X=0;X<I.length;X++)v=I[X],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function N(c){var _=1;c=c.split(":");const v=[];for(;0<_&&c.length;)v.push(c.shift()),_--;return c.length&&v.push(c.join(":")),v}function k(c){m.setTimeout(()=>{throw c},0)}function C(){var c=we;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class Ee{constructor(){this.h=this.g=null}add(_,v){const A=fe.get();A.set(_,v),this.h?this.h.next=A:this.g=A,this.h=A}}var fe=new G(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ue=!1,we=new Ee,D=()=>{const c=m.Promise.resolve(void 0);se=()=>{c.then(W)}};var W=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){k(v)}var _=fe;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}ue=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,_),m.removeEventListener("test",v,_)}catch{}return c}();function Re(c,_){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(he){e:{try{oe(_.nodeName);var q=!0;break e}catch{}q=!1}q||(_=null)}}else v=="mouseover"?_=c.fromElement:v=="mouseout"&&(_=c.toElement);this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:_e[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}S(Re,Z);var _e={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),He=0;function nt(c,_,v,A,q){this.listener=c,this.proxy=null,this.src=_,this.type=v,this.capture=!!A,this.ha=q,this.key=++He,this.da=this.fa=!1}function In(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Mr(c){this.src=c,this.g={},this.h=0}Mr.prototype.add=function(c,_,v,A,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var le=Es(c,_,A,q);return-1<le?(_=c[le],v||(_.fa=!1)):(_=new nt(_,this.src,X,!!A,q),_.fa=v,c.push(_)),_};function vs(c,_){var v=_.type;if(v in c.g){var A=c.g[v],q=Array.prototype.indexOf.call(A,_,void 0),X;(X=0<=q)&&Array.prototype.splice.call(A,q,1),X&&(In(_),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Es(c,_,v,A){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==_&&X.capture==!!v&&X.ha==A)return q}return-1}var bs="closure_lm_"+(1e6*Math.random()|0),zo={};function Bu(c,_,v,A,q){if(Array.isArray(_)){for(var X=0;X<_.length;X++)Bu(c,_[X],v,A,q);return null}return v=qu(v),c&&c[at]?c.K(_,v,g(A)?!!A.capture:!1,q):Cn(c,_,v,!1,A,q)}function Cn(c,_,v,A,q,X){if(!_)throw Error("Invalid event type");var le=g(q)?!!q.capture:!!q,Ue=Ta(c);if(Ue||(c[bs]=Ue=new Mr(c)),v=Ue.add(_,v,A,le,X),v.proxy)return v;if(A=Nd(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)me||(q=le),q===void 0&&(q=!1),c.addEventListener(_.toString(),A,q);else if(c.attachEvent)c.attachEvent(Ts(_.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Nd(){function c(v){return _.call(c.src,c.listener,v)}const _=Id;return c}function Bo(c,_,v,A,q){if(Array.isArray(_))for(var X=0;X<_.length;X++)Bo(c,_[X],v,A,q);else A=g(A)?!!A.capture:!!A,v=qu(v),c&&c[at]?(c=c.i,_=String(_).toString(),_ in c.g&&(X=c.g[_],v=Es(X,v,A,q),-1<v&&(In(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete c.g[_],c.h--)))):c&&(c=Ta(c))&&(_=c.g[_.toString()],c=-1,_&&(c=Es(_,v,A,q)),(v=-1<c?_[c]:null)&&ba(v))}function ba(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[at])vs(_.i,c);else{var v=c.type,A=c.proxy;_.removeEventListener?_.removeEventListener(v,A,c.capture):_.detachEvent?_.detachEvent(Ts(v),A):_.addListener&&_.removeListener&&_.removeListener(A),(v=Ta(_))?(vs(v,c),v.h==0&&(v.src=null,_[bs]=null)):In(c)}}}function Ts(c){return c in zo?zo[c]:zo[c]="on"+c}function Id(c,_){if(c.da)c=!0;else{_=new Re(_,this);var v=c.listener,A=c.ha||c.src;c.fa&&ba(c),c=v.call(A,_)}return c}function Ta(c){return c=c[bs],c instanceof Mr?c:null}var qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function qu(c){return typeof c=="function"?c:(c[qo]||(c[qo]=function(_){return c.handleEvent(_)}),c[qo])}function ft(){ae.call(this),this.i=new Mr(this),this.M=this,this.F=null}S(ft,ae),ft.prototype[at]=!0,ft.prototype.removeEventListener=function(c,_,v,A){Bo(this,c,_,v,A)};function Qe(c,_){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=_.type||_,typeof _=="string")_=new Z(_,c);else if(_ instanceof Z)_.target=_.target||c;else{var q=_;_=new Z(A,c),M(_,q)}if(q=!0,v)for(var X=v.length-1;0<=X;X--){var le=_.g=v[X];q=_n(le,A,!0,_)&&q}if(le=_.g=c,q=_n(le,A,!0,_)&&q,q=_n(le,A,!1,_)&&q,v)for(X=0;X<v.length;X++)le=_.g=v[X],q=_n(le,A,!1,_)&&q}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var v=c.g[_],A=0;A<v.length;A++)In(v[A]);delete c.g[_],c.h--}}this.F=null},ft.prototype.K=function(c,_,v,A){return this.i.add(String(c),_,!1,v,A)},ft.prototype.L=function(c,_,v,A){return this.i.add(String(c),_,!0,v,A)};function _n(c,_,v,A){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var q=!0,X=0;X<_.length;++X){var le=_[X];if(le&&!le.da&&le.capture==v){var Ue=le.listener,Dt=le.ha||le.src;le.fa&&vs(c.i,le),q=Ue.call(Dt,A)!==!1&&q}}return q&&!A.defaultPrevented}function Wt(c,_,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Hu(c){c.g=Wt(()=>{c.g=null,c.i&&(c.i=!1,Hu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class Cd extends ae{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Hu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){ae.call(this),this.h=c,this.g={}}S(ws,ae);var xs=[];function As(c){ge(c.g,function(_,v){this.g.hasOwnProperty(v)&&ba(_)},c),c.g={}}ws.prototype.N=function(){ws.aa.N.call(this),As(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kn=m.JSON.stringify,wa=m.JSON.parse,Ss=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ho(){}Ho.prototype.h=null;function Fo(c){return c.h||(c.h=c.i())}function Go(){}var Pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vr(){Z.call(this,"d")}S(Vr,Z);function $o(){Z.call(this,"c")}S($o,Z);var sr={},Ko=null;function Ti(){return Ko=Ko||new ft}sr.La="serverreachability";function xa(c){Z.call(this,sr.La,c)}S(xa,Z);function wi(c){const _=Ti();Qe(_,new xa(_))}sr.STAT_EVENT="statevent";function Fu(c,_){Z.call(this,sr.STAT_EVENT,c),this.stat=_}S(Fu,Z);function ot(c){const _=Ti();Qe(_,new Fu(_,c))}sr.Ma="timingevent";function Ct(c,_){Z.call(this,sr.Ma,c),this.size=_}S(Ct,Z);function wt(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function Dn(){this.g=!0}Dn.prototype.xa=function(){this.g=!1};function Qo(c,_,v,A,q,X){c.info(function(){if(c.g)if(X)for(var le="",Ue=X.split("&"),Dt=0;Dt<Ue.length;Dt++){var ze=Ue[Dt].split("=");if(1<ze.length){var jt=ze[0];ze=ze[1];var kt=jt.split("_");le=2<=kt.length&&kt[1]=="type"?le+(jt+"="+ze+"&"):le+(jt+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+_+`
`+v+`
`+le})}function Dd(c,_,v,A,q,X,le){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+_+`
`+v+`
`+X+" "+le})}function xi(c,_,v,A){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Rs(c,v)+(A?" "+A:"")})}function Gu(c,_){c.info(function(){return"TIMEOUT: "+_})}Dn.prototype.info=function(){};function Rs(c,_){if(!c.g)return _;if(!_)return null;try{var v=JSON.parse(_);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<q.length;le++)q[le]=""}}}}return Kn(v)}catch{return _}}var Ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ar;function or(){}S(or,Ho),or.prototype.g=function(){return new XMLHttpRequest},or.prototype.i=function(){return{}},ar=new or;function sn(c,_,v,A){this.j=c,this.i=_,this.l=v,this.R=A||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var Yo={},Aa={};function Qn(c,_,v){c.L=1,c.v=ks(vn(_)),c.m=v,c.P=!0,Lr(c,null)}function Lr(c,_){c.F=Date.now(),Ns(c),c.A=vn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),tl(v.i,"t",A),c.C=0,v=c.j.J,c.h=new vt,c.g=oc(c.j,v?_:null,!c.m),0<c.O&&(c.M=new Cd(w(c.Y,c,c.g),c.O)),_=c.U,v=c.g,A=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(xs[0]=q.toString()),q=xs);for(var X=0;X<q.length;X++){var le=Bu(v,q[X],A||_.handleEvent,!1,_.h||_);if(!le)break;_.g[le.key]=le}_=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),wi(),Qo(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const _=this.M;_&&Pn(c)==3?_.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const kt=Pn(this.g);var _=this.g.Ba();const $r=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Ju(this.g)))){this.J||kt!=4||_==7||(_==8||0>=$r?wi(3):wi(2)),Si(this);var v=this.g.Z();this.X=v;t:if($u(this)){var A=Ju(this.g);c="";var q=A.length,X=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),lr(this);var le="";break t}this.h.i=new m.TextDecoder}for(_=0;_<q;_++)this.h.h=!0,c+=this.h.i.decode(A[_],{stream:!(X&&_==q-1)});A.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=v==200,Dd(this.i,this.u,this.A,this.l,this.R,kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Dt=this.g;if((Ue=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ue)){var ze=Ue;break t}}ze=null}if(v=ze)xi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,v);else{this.o=!1,this.s=3,ot(12),qt(this),lr(this);break e}}if(this.P){v=!0;let Ht;for(;!this.J&&this.C<le.length;)if(Ht=Ku(this,le),Ht==Aa){kt==4&&(this.s=4,ot(14),v=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Yo){this.s=4,ot(15),xi(this.i,this.l,le,"[Invalid Chunk]"),v=!1;break}else xi(this.i,this.l,Ht,null),Is(this,Ht);if($u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||le.length!=0||this.h.h||(this.s=1,ot(16),v=!1),this.o=this.o&&v,!v)xi(this.i,this.l,le,"[Invalid Chunked Response]"),qt(this),lr(this);else if(0<le.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),zs(jt),jt.M=!0,ot(11))}}else xi(this.i,this.l,le,null),Is(this,le);kt==4&&qt(this),this.o&&!this.J&&(kt==4?ic(this.j,this):(this.o=!1,Ns(this)))}else Vd(this.g),v==400&&0<le.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),qt(this),lr(this)}}}catch{}finally{}};function $u(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ku(c,_){var v=c.C,A=_.indexOf(`
`,v);return A==-1?Aa:(v=Number(_.substring(v,A)),isNaN(v)?Yo:(A+=1,A+v>_.length?Aa:(_=_.slice(A,A+v),c.C=A+v,_)))}sn.prototype.cancel=function(){this.J=!0,qt(this)};function Ns(c){c.S=Date.now()+c.I,Qu(c,c.I)}function Qu(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wt(w(c.ba,c),_)}function Si(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Gu(this.i,this.A),this.L!=2&&(wi(),ot(17)),qt(this),this.s=2,lr(this)):Qu(this,this.S-c)};function lr(c){c.j.G==0||c.J||ic(c.j,c)}function qt(c){Si(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,As(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Is(c,_){try{var v=c.j;if(v.G!=0&&(v.g==c||Xo(v.h,c))){if(!c.K&&Xo(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ja(v),Pa(v);else break e;al(v),ot(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=wt(w(v.Za,v),6e3));if(1>=Ra(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Gr(v,11)}else if((c.K||v.g==c)&&ja(v),!Y(_))for(q=v.Da.g.parse(_),_=0;_<q.length;_++){let ze=q[_];if(v.T=ze[0],ze=ze[1],v.G==2)if(ze[0]=="c"){v.K=ze[1],v.ia=ze[2];const jt=ze[3];jt!=null&&(v.la=jt,v.j.info("VER="+v.la));const kt=ze[4];kt!=null&&(v.Aa=kt,v.j.info("SVER="+v.Aa));const $r=ze[5];$r!=null&&typeof $r=="number"&&0<$r&&(A=1.5*$r,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Ht=c.g;if(Ht){const pr=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pr){var X=A.h;X.g||pr.indexOf("spdy")==-1&&pr.indexOf("quic")==-1&&pr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Na(X,X.h),X.h=null))}if(A.D){const ll=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(A.ya=ll,We(A.I,A.D,ll))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var le=c;if(A.qa=ac(A,A.J?A.ia:null,A.W),le.K){an(A.h,le);var Ue=le,Dt=A.L;Dt&&(Ue.I=Dt),Ue.B&&(Si(Ue),Ns(Ue)),A.g=le}else nc(A);0<v.i.length&&Va(v)}else ze[0]!="stop"&&ze[0]!="close"||Gr(v,7);else v.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Gr(v,7):il(v):ze[0]!="noop"&&v.l&&v.l.ta(ze),v.v=0)}}wi(4)}catch{}}var Yu=class{constructor(c,_){this.g=c,this.map=_}};function Ur(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ra(c){return c.h?1:c.g?c.g.size:0}function Xo(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Na(c,_){c.g?c.g.add(_):c.h=_}function an(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Ur.prototype.cancel=function(){if(this.i=Wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Wo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const v of c.g.values())_=_.concat(v.D);return _}return U(c.i)}function kd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],v=c.length,A=0;A<v;A++)_.push(c[A]);return _}_=[],v=0;for(A in c)_[v++]=c[A];return _}function Ia(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var v=0;v<c;v++)_.push(v);return _}_=[],v=0;for(const A in c)_[v++]=A;return _}}}function Zo(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var v=Ia(c),A=kd(c),q=A.length,X=0;X<q;X++)_.call(void 0,A[X],v&&v[X],c)}var Cs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Od(c,_){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),q=null;if(0<=A){var X=c[v].substring(0,A);q=c[v].substring(A+1)}else X=c[v];_(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function xt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xt){this.h=c.h,Ds(this,c.j),this.o=c.o,this.g=c.g,Ri(this,c.s),this.l=c.l;var _=c.i,v=new Br;v.i=_.i,_.g&&(v.g=new Map(_.g),v.h=_.h),zr(this,v),this.m=c.m}else c&&(_=String(c).match(Cs))?(this.h=!1,Ds(this,_[1]||"",!0),this.o=kn(_[2]||""),this.g=kn(_[3]||"",!0),Ri(this,_[4]),this.l=kn(_[5]||"",!0),zr(this,_[6]||"",!0),this.m=kn(_[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}xt.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Os(_,Jo,!0),":");var v=this.g;return(v||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Os(_,Jo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Os(v,v.charAt(0)=="/"?Md:el,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Os(v,Ca)),c.join("")};function vn(c){return new xt(c)}function Ds(c,_,v){c.j=v?kn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Ri(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function zr(c,_,v){_ instanceof Br?(c.i=_,Wu(c.i,c.h)):(v||(_=Os(_,Pd)),c.i=new Br(_,c.h))}function We(c,_,v){c.i.set(_,v)}function ks(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,_,v){return typeof c=="string"?(c=encodeURI(c).replace(_,Xu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Jo=/[#\/\?@]/g,el=/[#\?:]/g,Md=/[#\?]/g,Pd=/[#\?@]/g,Ca=/#/g;function Br(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function On(c){c.g||(c.g=new Map,c.h=0,c.i&&Od(c.i,function(_,v){c.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}r=Br.prototype,r.add=function(c,_){On(this),this.i=null,c=ur(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(_),this.h+=1,this};function qr(c,_){On(c),_=ur(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function Hr(c,_){return On(c),_=ur(c,_),c.g.has(_)}r.forEach=function(c,_){On(this),this.g.forEach(function(v,A){v.forEach(function(q){c.call(_,q,A,this)},this)},this)},r.na=function(){On(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),v=[];for(let A=0;A<_.length;A++){const q=c[A];for(let X=0;X<q.length;X++)v.push(_[A])}return v},r.V=function(c){On(this);let _=[];if(typeof c=="string")Hr(this,c)&&(_=_.concat(this.g.get(ur(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)_=_.concat(c[v])}return _},r.set=function(c,_){return On(this),this.i=null,c=ur(this,c),Hr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function tl(c,_,v){qr(c,_),0<v.length&&(c.i=null,c.g.set(ur(c,_),U(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var v=0;v<_.length;v++){var A=_[v];const X=encodeURIComponent(String(A)),le=this.V(A);for(A=0;A<le.length;A++){var q=X;le[A]!==""&&(q+="="+encodeURIComponent(String(le[A]))),c.push(q)}}return this.i=c.join("&")};function ur(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Wu(c,_){_&&!c.j&&(On(c),c.i=null,c.g.forEach(function(v,A){var q=A.toLowerCase();A!=q&&(qr(this,A),tl(this,q,v))},c)),c.j=_}function Ms(c,_){const v=new Dn;if(m.Image){const A=new Image;A.onload=P(Mn,v,"TestLoadImage: loaded",!0,_,A),A.onerror=P(Mn,v,"TestLoadImage: error",!1,_,A),A.onabort=P(Mn,v,"TestLoadImage: abort",!1,_,A),A.ontimeout=P(Mn,v,"TestLoadImage: timeout",!1,_,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else _(!1)}function Yn(c,_){const v=new Dn,A=new AbortController,q=setTimeout(()=>{A.abort(),Mn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:A.signal}).then(X=>{clearTimeout(q),X.ok?Mn(v,"TestPingServer: ok",!0,_):Mn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(q),Mn(v,"TestPingServer: error",!1,_)})}function Mn(c,_,v,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(v)}catch{}}function Ps(){this.g=new Ss}function cr(c,_,v){const A=v||"";try{Zo(c,function(q,X){let le=q;g(q)&&(le=Kn(q)),_.push(A+X+"="+encodeURIComponent(le))})}catch(q){throw _.push(A+"type="+encodeURIComponent("_badmap")),q}}function Ni(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Ni,Ho),Ni.prototype.g=function(){return new Fr(this.l,this.j)},Ni.prototype.i=function(c){return function(){return c}}({});function Fr(c,_){ft.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Fr,ft),r=Fr.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,dr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,hr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,dr(this)),this.g&&(this.readyState=3,dr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function nl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?hr(this):dr(this),this.readyState==3&&nl(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,hr(this))},r.Qa=function(c){this.g&&(this.response=c,hr(this))},r.ga=function(){this.g&&hr(this)};function hr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,dr(c)}r.setRequestHeader=function(c,_){this.u.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=_.next();return c.join(`\r
`)};function dr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function rl(c){let _="";return ge(c,function(v,A){_+=A,_+=":",_+=v,_+=`\r
`}),_}function Vt(c,_,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=rl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,_,v))}function $e(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S($e,ft);var Da=/^https?$/i,Vs=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,_,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ar.g(),this.v=this.o?Fo(this.o):Fo(ar),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(X){Zu(this,X);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)v.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const X of A.keys())v.set(X,A.get(X));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Vs,_,void 0))||A||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of v)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){Zu(this,X)}};function Zu(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,ka(c),fr(c)}function ka(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),fr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fr(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},r.bb=function(){Oa(this)};function Oa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Wt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var A;if(A=le===0){var q=String(c.D).match(Cs)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),A=!Da.test(q?q.toLowerCase():"")}v=A}if(v)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var X=2<Pn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",ka(c)}}finally{fr(c)}}}}function fr(c,_){if(c.g){js(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Qe(c,"ready");try{v.onreadystatechange=A}catch{}}}function js(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),wa(_)}};function Ju(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Vd(c){const _={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(Y(c[A]))continue;var v=N(c[A]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=_[q]||[];_[q]=X,X.push(v)}V(_,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(c,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||_}function Ma(c){this.Aa=0,this.i=[],this.j=new Dn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,c),this.cb=Ls("retryDelaySeedMs",1e4,c),this.Wa=Ls("forwardChannelMaxRetries",2,c),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ur(c&&c.concurrentRequestLimit),this.Da=new Ps,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ma.prototype,r.la=8,r.G=1,r.connect=function(c,_,v,A){ot(0),this.W=c,this.H=_||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=ac(this,null,this.W),Va(this)};function il(c){if(ec(c),c.G==3){var _=c.U++,v=vn(c.I);if(We(v,"SID",c.K),We(v,"RID",_),We(v,"TYPE","terminate"),Us(c,v),_=new sn(c,c.j,_),_.L=2,_.v=ks(vn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=_.v,v=!0),v||(_.g=oc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Ns(_)}sc(c)}function Pa(c){c.g&&(zs(c),c.g.cancel(),c.g=null)}function ec(c){Pa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ja(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Va(c){if(!Sa(c.h)&&!c.s){c.s=!0;var _=c.Ga;se||D(),ue||(se(),ue=!0),we.add(_,c),c.B=0}}function jd(c,_){return Ra(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wt(w(c.Ga,c,_),ol(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new sn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=R(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(_+=A,4096<_){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=tc(this,q,_),v=vn(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Us(this,v),X&&(this.O?_="headers="+encodeURIComponent(String(rl(X)))+"&"+_:this.m&&Vt(v,this.m,X)),Na(this.h,q),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",_),We(v,"SID","null"),q.T=!0,Qn(q,v,null)):Qn(q,v,_),this.G=2}}else this.G==3&&(c?sl(this,c):this.i.length==0||Sa(this.h)||sl(this))};function sl(c,_){var v;_?v=_.l:v=c.U++;const A=vn(c.I);We(A,"SID",c.K),We(A,"RID",v),We(A,"AID",c.T),Us(c,A),c.m&&c.o&&Vt(A,c.m,c.o),v=new sn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),_&&(c.i=_.D.concat(c.i)),_=tc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Na(c.h,v),Qn(v,A,_)}function Us(c,_){c.H&&ge(c.H,function(v,A){We(_,A,v)}),c.l&&Zo({},function(v,A){We(_,A,v)})}function tc(c,_,v){v=Math.min(c.i.length,v);var A=c.l?w(c.l.Na,c.l,c):null;e:{var q=c.i;let X=-1;for(;;){const le=["count="+v];X==-1?0<v?(X=q[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let Ue=!0;for(let Dt=0;Dt<v;Dt++){let ze=q[Dt].g;const jt=q[Dt].map;if(ze-=X,0>ze)X=Math.max(0,q[Dt].g-100),Ue=!1;else try{cr(jt,le,"req"+ze+"_")}catch{A&&A(jt)}}if(Ue){A=le.join("&");break e}}}return c=c.i.splice(0,v),_.D=c,A}function nc(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;se||D(),ue||(se(),ue=!0),we.add(_,c),c.v=0}}function al(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wt(w(c.Fa,c),ol(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,rc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wt(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),Pa(this),rc(this))};function zs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function rc(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=vn(c.qa);We(_,"RID","rpc"),We(_,"SID",c.K),We(_,"AID",c.T),We(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(_,"TO",c.ja),We(_,"TYPE","xmlhttp"),Us(c,_),c.m&&c.o&&Vt(_,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ks(vn(_)),v.m=null,v.P=!0,Lr(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Pa(this),al(this),ot(19))};function ja(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ic(c,_){var v=null;if(c.g==_){ja(c),zs(c),c.g=null;var A=2}else if(Xo(c.h,_))v=_.D,an(c.h,_),A=1;else return;if(c.G!=0){if(_.o)if(A==1){v=_.m?_.m.length:0,_=Date.now()-_.F;var q=c.B;A=Ti(),Qe(A,new Ct(A,v)),Va(c)}else nc(c);else if(q=_.s,q==3||q==0&&0<_.X||!(A==1&&jd(c,_)||A==2&&al(c)))switch(v&&0<v.length&&(_=c.h,_.i=_.i.concat(v)),q){case 1:Gr(c,5);break;case 4:Gr(c,10);break;case 3:Gr(c,6);break;default:Gr(c,2)}}}function ol(c,_){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*_}function Gr(c,_){if(c.j.info("Error code "+_),_==2){var v=w(c.fb,c),A=c.Xa;const q=!A;A=new xt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ds(A,"https"),ks(A),q?Ms(A.toString(),v):Yn(A.toString(),v)}else ot(2);c.G=0,c.l&&c.l.sa(_),sc(c),ec(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function sc(c){if(c.G=0,c.ka=[],c.l){const _=Wo(c.h);(_.length!=0||c.i.length!=0)&&(j(c.ka,_),j(c.ka,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.ra()}}function ac(c,_,v){var A=v instanceof xt?vn(v):new xt(v);if(A.g!="")_&&(A.g=_+"."+A.g),Ri(A,A.s);else{var q=m.location;A=q.protocol,_=_?_+"."+q.hostname:q.hostname,q=+q.port;var X=new xt(null);A&&Ds(X,A),_&&(X.g=_),q&&Ri(X,q),v&&(X.l=v),A=X}return v=c.D,_=c.ya,v&&_&&We(A,v,_),We(A,"VER",c.la),Us(c,A),A}function oc(c,_,v){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new $e(new Ni({eb:v})):new $e(c.pa),_.Ha(c.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function lc(){}r=lc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function La(){}La.prototype.g=function(c,_){return new on(c,_)};function on(c,_){ft.call(this),this.g=new Ma(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!Y(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!Y(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new mr(this)}S(on,ft),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){il(this.g)},on.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Kn(c),c=v);_.i.push(new Yu(_.Ya++,c)),_.G==3&&Va(_)},on.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,on.aa.N.call(this)};function uc(c){Vr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const v in _){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}S(uc,Vr);function cc(){$o.call(this),this.status=1}S(cc,$o);function mr(c){this.g=c}S(mr,lc),mr.prototype.ua=function(){Qe(this.g,"a")},mr.prototype.ta=function(c){Qe(this.g,new uc(c))},mr.prototype.sa=function(c){Qe(this.g,new cc)},mr.prototype.ra=function(){Qe(this.g,"b")},La.prototype.createWebChannel=La.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,j1=function(){return new La},V1=function(){return Ti()},P1=sr,fp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,Nh=Ai,jr.COMPLETE="complete",M1=jr,Go.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",ft.prototype.listen=ft.prototype.K,nu=Go,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,O1=$e}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",aE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new Gp("@firebase/firestore");function mo(){return fa.logLevel}function de(r,...e){if(fa.logLevel<=je.DEBUG){const n=e.map(sg);fa.debug(`Firestore (${Po}): ${r}`,...n)}}function gi(r,...e){if(fa.logLevel<=je.ERROR){const n=e.map(sg);fa.error(`Firestore (${Po}): ${r}`,...n)}}function os(r,...e){if(fa.logLevel<=je.WARN){const n=e.map(sg);fa.warn(`Firestore (${Po}): ${r}`,...n)}}function sg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,L1(r,s,n)}function L1(r,e,n){let s=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gi(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||L1(e,o,s)}function Ie(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends kr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class KC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(tn.UNAUTHENTICATED))}shutdown(){}}class QC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class YC{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new di;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new di,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new di)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new U1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class XC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new XC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function mp(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Oe(s,o);{const u=z1(),h=e4(u.encode(lE(r,n)),u.encode(lE(e,n)));return h!==0?h:Oe(s,o)}}n+=s>65535?2:1}return Oe(r.length,e.length)}function lE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function e4(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Oe(r[n],e[n]);return Oe(r.length,e.length)}function Ao(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__name__";class br{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=br.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=br.isNumericId(e),o=br.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?br.extractNumericId(e).compare(br.extractNumericId(n)):mp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class it extends br{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const t4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends br{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return t4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uE}static keyField(){return new Yt([uE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ce(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ce(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(r,e,n){if(!n)throw new ce(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function n4(r,e,n,s){if(e===!0&&s===!0)throw new ce(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function cE(r){if(!ve.isDocumentKey(r))throw new ce(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function hE(r){if(ve.isDocumentKey(r))throw new ce(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function q1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function ud(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ae(12329,{type:typeof r})}function yn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ud(r);throw new ce(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(r,e){const n={typeString:r};return e&&(n.value=e),n}function Mu(r,e){if(!q1(r))throw new ce(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=-62135596800,fE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*fE);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dE)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:It("string",st._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new st(0,0))}static max(){return new Ne(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function r4(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new ls(o,ve.empty(),e)}function i4(r){return new ls(r.readTime,r.key,yu)}class ls{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ls(Ne.min(),ve.empty(),yu)}static max(){return new ls(Ne.max(),ve.empty(),yu)}}function s4(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(r.documentKey,e.documentKey),n!==0?n:Oe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==a4)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(o=>o?ie.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(b=>{h[g]=b,++m,m===u&&s(h)},b=>o(b))}})}static doWhile(e,n){return new ie((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function l4(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}cd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function hd(r){return r==null}function Gh(r){return r===0&&1/r==-1/0}function u4(r){return typeof r=="number"&&Number.isInteger(r)&&!Gh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="";function c4(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=mE(e)),e=h4(r.get(n),e);return mE(e)}function h4(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case H1:n+="";break;default:n+=u}}return n}function mE(r){return r+H1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function F1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mh(this.root,e,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mh(this.root,e,this.comparator,!0)}}class mh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gE(this.data.getIterator())}getIteratorFrom(e){return new gE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class gE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Pt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ao(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new G1("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const d4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=d4.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(r.seconds),nanos:Tt(r.nanos)}}function Tt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cs(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="server_timestamp",K1="__type__",Q1="__previous_value__",Y1="__local_write_time__";function lg(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[K1])===null||n===void 0?void 0:n.stringValue)===$1}function dd(r){const e=r.mapValue.fields[Q1];return lg(e)?dd(e):e}function _u(r){const e=us(r.mapValue.fields[Y1].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,s,o,u,h,m,p,g,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=b}}const $h="(default)";class vu{constructor(e,n){this.projectId=e,this.database=n||$h}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===$h}isEqual(e){return e instanceof vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="__type__",m4="__max__",ph={mapValue:{}},W1="__vector__",Kh="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lg(r)?4:g4(r)?9007199254740991:p4(r)?10:11:Ae(28295,{value:r})}function Dr(r,e){if(r===e)return!0;const n=hs(r);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return _u(r).isEqual(_u(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=us(o.timestampValue),m=us(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return cs(o.bytesValue).isEqual(cs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Tt(o.doubleValue),m=Tt(u.doubleValue);return h===m?Gh(h)===Gh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return Ao(r.arrayValue.values||[],e.arrayValue.values||[],Dr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(pE(h)!==pE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Dr(h[p],m[p])))return!1;return!0}(r,e);default:return Ae(52216,{left:r})}}function Eu(r,e){return(r.values||[]).find(n=>Dr(n,e))!==void 0}function So(r,e){if(r===e)return 0;const n=hs(r),s=hs(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=Tt(u.integerValue||u.doubleValue),p=Tt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return yE(r.timestampValue,e.timestampValue);case 4:return yE(_u(r),_u(e));case 5:return mp(r.stringValue,e.stringValue);case 6:return function(u,h){const m=cs(u),p=cs(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const b=Oe(m[g],p[g]);if(b!==0)return b}return Oe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Oe(Tt(u.latitude),Tt(h.latitude));return m!==0?m:Oe(Tt(u.longitude),Tt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return _E(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,b;const x=u.fields||{},w=h.fields||{},P=(m=x[Kh])===null||m===void 0?void 0:m.arrayValue,S=(p=w[Kh])===null||p===void 0?void 0:p.arrayValue,U=Oe(((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0,((b=S==null?void 0:S.values)===null||b===void 0?void 0:b.length)||0);return U!==0?U:_E(P,S)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===ph.mapValue&&h===ph.mapValue)return 0;if(u===ph.mapValue)return 1;if(h===ph.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},b=Object.keys(g);p.sort(),b.sort();for(let x=0;x<p.length&&x<b.length;++x){const w=mp(p[x],b[x]);if(w!==0)return w;const P=So(m[p[x]],g[b[x]]);if(P!==0)return P}return Oe(p.length,b.length)}(r.mapValue,e.mapValue);default:throw Ae(23264,{le:n})}}function yE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const n=us(r),s=us(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function _E(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return Oe(n.length,s.length)}function Ro(r){return pp(r)}function pp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=us(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return cs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ve.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=pp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${pp(n.fields[h])}`;return o+"}"}(r.mapValue):Ae(61005,{value:r})}function Ih(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dd(r);return e?16+Ih(e):16;case 5:return 2*r.stringValue.length;case 6:return cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Ih(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return gs(s.fields,(u,h)=>{o+=u.length+Ih(h)}),o}(r.mapValue);default:throw Ae(13486,{value:r})}}function vE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function gp(r){return!!r&&"integerValue"in r}function ug(r){return!!r&&"arrayValue"in r}function EE(r){return!!r&&"nullValue"in r}function bE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ch(r){return!!r&&"mapValue"in r}function p4(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[X1])===null||n===void 0?void 0:n.stringValue)===W1}function uu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=uu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function g4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===m4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=uu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Dr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){gs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new gn(uu(this.value))}}function Z1(r){const e=[];return gs(r.fields,(n,s)=>{const o=new Yt([n]);if(Ch(s)){const u=Z1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ne.min(),Ne.min(),Ne.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Ne.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Ne.min(),Ne.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Ne.min(),Ne.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n){this.position=e,this.inclusive=n}}function TE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=So(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function wE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Dr(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n="asc"){this.field=e,this.dir=n}}function y4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{}class Nt extends J1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new v4(e,n,s):n==="array-contains"?new T4(e,s):n==="in"?new w4(e,s):n==="not-in"?new x4(e,s):n==="array-contains-any"?new A4(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new E4(e,s):new b4(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends J1{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new nr(e,n)}matches(e){return eT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function eT(r){return r.op==="and"}function tT(r){return _4(r)&&eT(r)}function _4(r){for(const e of r.filters)if(e instanceof nr)return!1;return!0}function yp(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+Ro(r.value);if(tT(r))return r.filters.map(e=>yp(e)).join(",");{const e=r.filters.map(n=>yp(n)).join(",");return`${r.op}(${e})`}}function nT(r,e){return r instanceof Nt?function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Dr(s.value,o.value)}(r,e):r instanceof nr?function(s,o){return o instanceof nr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&nT(h,o.filters[m]),!0):!1}(r,e):void Ae(19439)}function rT(r){return r instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ro(n.value)}`}(r):r instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(rT).join(" ,")+"}"}(r):"Filter"}class v4 extends Nt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class E4 extends Nt{constructor(e,n){super(e,"in",n),this.keys=iT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class b4 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=iT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function iT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class T4 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ug(n)&&Eu(n.arrayValue,this.value)}}class w4 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class x4 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Eu(this.value.arrayValue,n)}}class A4 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Eu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function xE(r,e=null,n=[],s=[],o=null,u=null,h=null){return new S4(r,e,n,s,o,u,h)}function cg(r){const e=Ie(r);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>yp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ro(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ro(s)).join(",")),e.Pe=n}return e.Pe}function hg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!y4(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!nT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!wE(r.startAt,e.startAt)&&wE(r.endAt,e.endAt)}function _p(r){return ve.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function R4(r,e,n,s,o,u,h,m){return new Lo(r,e,n,s,o,u,h,m)}function fd(r){return new Lo(r)}function AE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sT(r){return r.collectionGroup!==null}function cu(r){const e=Ie(r);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Pt(Yt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new bu(u,s))}),n.has(Yt.keyField().canonicalString())||e.Te.push(new bu(Yt.keyField(),s))}return e.Te}function Rr(r){const e=Ie(r);return e.Ie||(e.Ie=N4(e,cu(r))),e.Ie}function N4(r,e){if(r.limitType==="F")return xE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new bu(o.field,u)});const n=r.endAt?new Qh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Qh(r.startAt.position,r.startAt.inclusive):null;return xE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function vp(r,e){const n=r.filters.concat([e]);return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Ep(r,e,n){return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function md(r,e){return hg(Rr(r),Rr(e))&&r.limitType===e.limitType}function aT(r){return`${cg(Rr(r))}|lt:${r.limitType}`}function po(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>rT(o)).join(", ")}]`),hd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ro(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ro(o)).join(",")),`Target(${s})`}(Rr(r))}; limitType=${r.limitType})`}function pd(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of cu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=TE(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,cu(s),o)||s.endAt&&!function(h,m,p){const g=TE(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,cu(s),o))}(r,e)}function I4(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function oT(r){return(e,n)=>{let s=!1;for(const o of cu(r)){const u=C4(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function C4(r,e,n){const s=r.field.isKeyField()?ve.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?So(p,g):Ae(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return F1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new dt(ve.comparator);function yi(){return D4}const lT=new dt(ve.comparator);function ru(...r){let e=lT;for(const n of r)e=e.insert(n.key,n);return e}function uT(r){let e=lT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function sa(){return hu()}function cT(){return hu()}function hu(){return new va(r=>r.toString(),(r,e)=>r.isEqual(e))}const k4=new dt(ve.comparator),O4=new Pt(ve.comparator);function Le(...r){let e=O4;for(const n of r)e=e.add(n);return e}const M4=new Pt(Oe);function P4(){return M4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gh(e)?"-0":e}}function hT(r){return{integerValue:""+r}}function dT(r,e){return u4(e)?hT(e):dg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this._=void 0}}function V4(r,e,n){return r instanceof Tu?function(o,u){const h={fields:{[K1]:{stringValue:$1},[Y1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lg(u)&&(u=dd(u)),u&&(h.fields[Q1]=u),{mapValue:h}}(n,e):r instanceof wu?mT(r,e):r instanceof xu?pT(r,e):function(o,u){const h=fT(o,u),m=SE(h)+SE(o.Ee);return gp(h)&&gp(o.Ee)?hT(m):dg(o.serializer,m)}(r,e)}function j4(r,e,n){return r instanceof wu?mT(r,e):r instanceof xu?pT(r,e):n}function fT(r,e){return r instanceof Au?function(s){return gp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Tu extends gd{}class wu extends gd{constructor(e){super(),this.elements=e}}function mT(r,e){const n=gT(e);for(const s of r.elements)n.some(o=>Dr(o,s))||n.push(s);return{arrayValue:{values:n}}}class xu extends gd{constructor(e){super(),this.elements=e}}function pT(r,e){let n=gT(e);for(const s of r.elements)n=n.filter(o=>!Dr(o,s));return{arrayValue:{values:n}}}class Au extends gd{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function SE(r){return Tt(r.integerValue||r.doubleValue)}function gT(r){return ug(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n){this.field=e,this.transform=n}}function L4(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof wu&&o instanceof wu||s instanceof xu&&o instanceof xu?Ao(s.elements,o.elements,Dr):s instanceof Au&&o instanceof Au?Dr(s.Ee,o.Ee):s instanceof Tu&&o instanceof Tu}(r.transform,e.transform)}class U4{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class yd{}function _T(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new fg(r.key,Fn.none()):new Pu(r.key,r.data,Fn.none());{const n=r.data,s=gn.empty();let o=new Pt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ys(r.key,s,new Rn(o.toArray()),Fn.none())}}function z4(r,e,n){r instanceof Pu?function(o,u,h){const m=o.value.clone(),p=NE(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ys?function(o,u,h){if(!Dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=NE(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(vT(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function du(r,e,n,s){return r instanceof Pu?function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=u.value.clone(),b=IE(u.fieldTransforms,p,h);return g.setAll(b),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof ys?function(u,h,m,p){if(!Dh(u.precondition,h))return m;const g=IE(u.fieldTransforms,p,h),b=h.data;return b.setAll(vT(u)),b.setAll(g),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(x=>x.field))}(r,e,n,s):function(u,h,m){return Dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,n)}function B4(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=fT(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function RE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ao(s,o,(u,h)=>L4(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Pu extends yd{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ys extends yd{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function NE(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Ae:n.length,Re:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,j4(h,m,n[o]))}return s}function IE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,V4(u,h,e))}return s}class fg extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q4 extends yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&z4(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=du(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=cT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=_T(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ne.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Ao(this.mutations,e.mutations,(n,s)=>RE(n,s))&&Ao(this.baseMutations,e.baseMutations,(n,s)=>RE(n,s))}}class mg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return k4}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new mg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,qe;function $4(r){switch(r){case ne.OK:return Ae(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae(15467,{code:r})}}function ET(r){if(r===void 0)return gi("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return Ae(39323,{code:r})}}(qe=Rt||(Rt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K4=new is([4294967295,4294967295],0);function CE(r){const e=z1().encode(r),n=new k1;return n.update(e),new Uint8Array(n.digest())}function DE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class pg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new iu(`Invalid padding: ${n}`);if(s<0)throw new iu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new iu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new iu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=is.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(is.fromNumber(s)));return o.compare(K4)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=CE(e),[s,o]=DE(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new pg(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const n=CE(e),[s,o]=DE(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _d(Ne.min(),o,new dt(Oe),yi(),Le())}}class Vu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Vu(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class bT{constructor(e,n){this.targetId=e,this.De=n}}class TT{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class kE{constructor(){this.ve=0,this.Ce=OE(),this.Fe=Xt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Le(),n=Le(),s=Le();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}}),new Vu(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=OE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Q4{constructor(e){this.We=e,this.Ge=new Map,this.ze=yi(),this.je=gh(),this.Je=gh(),this.He=new dt(Oe)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(_p(u))if(s===0){const h=new ve(u.path);this.Xe(n,h,nn.newNoDocument(h,Ne.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const m=this._t(e),p=m?this.ut(m,e,h):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=cs(s).toUint8Array()}catch(p){if(p instanceof G1)return os("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new pg(h,o,u)}catch(p){return os(p instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&_p(m.target)){const p=new ve(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,nn.newNoDocument(p,e))}u.Ne&&(n.set(h,u.Le()),u.ke())}});let s=Le();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new _d(e,n,this.He,this.ze,s);return this.ze=yi(),this.je=gh(),this.Je=gh(),this.He=new dt(Oe),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new kE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Pt(Oe),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Pt(Oe),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new kE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function gh(){return new dt(ve.comparator)}function OE(){return new dt(ve.comparator)}const Y4={asc:"ASCENDING",desc:"DESCENDING"},X4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W4={and:"AND",or:"OR"};class Z4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bp(r,e){return r.useProto3Json||hd(e)?e:{value:e}}function Yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function J4(r,e){return Yh(r,e.toTimestamp())}function Nr(r){return Ke(!!r,49232),Ne.fromTimestamp(function(n){const s=us(n);return new st(s.seconds,s.nanos)}(r))}function gg(r,e){return Tp(r,e).canonicalString()}function Tp(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function xT(r){const e=it.fromString(r);return Ke(IT(e),10190,{key:e.toString()}),e}function wp(r,e){return gg(r.databaseId,e.path)}function Fm(r,e){const n=xT(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ve(ST(n))}function AT(r,e){return gg(r.databaseId,e)}function eD(r){const e=xT(r);return e.length===4?it.emptyPath():ST(e)}function xp(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ST(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ME(r,e,n){return{name:wp(r,e),fields:n.value.mapValue.fields}}function tD(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,b){return g.useProto3Json?(Ke(b===void 0||typeof b=="string",58123),Xt.fromBase64String(b||"")):(Ke(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Xt.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const b=g.code===void 0?ne.UNKNOWN:ET(g.code);return new ce(b,g.message||"")}(h);n=new TT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Fm(r,s.document.name),u=Nr(s.document.updateTime),h=s.document.createTime?Nr(s.document.createTime):Ne.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,h,m),g=s.targetIds||[],b=s.removedTargetIds||[];n=new kh(g,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Fm(r,s.document),u=s.readTime?Nr(s.readTime):Ne.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new kh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Fm(r,s.document),u=s.removedTargetIds||[];n=new kh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new G4(o,u),m=s.targetId;n=new bT(m,h)}}return n}function nD(r,e){let n;if(e instanceof Pu)n={update:ME(r,e.key,e.value)};else if(e instanceof fg)n={delete:wp(r,e.key)};else if(e instanceof ys)n={update:ME(r,e.key,e.data),updateMask:hD(e.fieldMask)};else{if(!(e instanceof q4))return Ae(16599,{Rt:e.type});n={verify:wp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Tu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Au)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Ae(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:J4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(r,e.precondition)),n}function rD(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map(n=>function(o,u){let h=o.updateTime?Nr(o.updateTime):Nr(u);return h.isEqual(Ne.min())&&(h=Nr(u)),new U4(h,o.transformResults||[])}(n,e))):[]}function iD(r,e){return{documents:[AT(r,e.path)]}}function sD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=AT(r,o);const u=function(g){if(g.length!==0)return NT(nr.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(b=>function(w){return{field:go(w.field),direction:lD(w.dir)}}(b))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=bp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:n,parent:o}}function aD(r){let e=eD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=function(x){const w=RT(x);return w instanceof nr&&tT(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(x){return x.map(w=>function(S){return new bu(yo(S.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(x){let w;return w=typeof x=="object"?x.value:x,hd(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(x){const w=!!x.before,P=x.values||[];return new Qh(P,w)}(n.startAt));let g=null;return n.endAt&&(g=function(x){const w=!x.before,P=x.values||[];return new Qh(P,w)}(n.endAt)),R4(e,o,h,u,m,"F",p,g)}function oD(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=yo(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=yo(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=yo(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=yo(n.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(r):r.fieldFilter!==void 0?function(n){return Nt.create(yo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(s=>RT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(n.compositeFilter.op))}(r):Ae(30097,{filter:r})}function lD(r){return Y4[r]}function uD(r){return X4[r]}function cD(r){return W4[r]}function go(r){return{fieldPath:r.canonicalString()}}function yo(r){return Yt.fromServerFormat(r.fieldPath)}function NT(r){return r instanceof Nt?function(n){if(n.op==="=="){if(bE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NAN"}};if(EE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NAN"}};if(EE(n.value))return{unaryFilter:{field:go(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:go(n.field),op:uD(n.op),value:n.value}}}(r):r instanceof nr?function(n){const s=n.getFilters().map(o=>NT(o));return s.length===1?s[0]:{compositeFilter:{op:cD(n.op),filters:s}}}(r):Ae(54877,{filter:r})}function hD(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function IT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s,o,u=Ne.min(),h=Ne.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.gt=e}}function fD(r){const e=aD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Ep(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.Dn=new pD}addToCollectionParentIndex(e,n){return this.Dn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(ls.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(ls.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class pD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},CT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(CT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new No(0)}static ur(){return new No(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="LruGarbageCollector",gD=1048576;function jE([r,e],[n,s]){const o=Oe(r,n);return o===0?Oe(e,s):o}class yD{constructor(e){this.Tr=e,this.buffer=new Pt(jE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();jE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _D{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){de(VE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?de(VE,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Rr(3e5)})}}class vD{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(cd.ue);const s=new yD(n);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(PE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PE):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,h,m,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,h=Date.now(),this.nthSequenceNumber(e,o))).next(x=>(s=x,m=Date.now(),this.removeTargets(e,s,n))).next(x=>(u=x,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(x=>(g=Date.now(),mo()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${x} documents in `+(g-p)+`ms
Total Duration: ${g-b}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x})))}}function ED(r,e){return new vD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.changes=new va(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&du(s.mutation,o,Rn.empty(),st.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const o=sa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=ru();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=sa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=yi();const h=hu(),m=function(){return hu()}();return n.forEach((p,g)=>{const b=s.get(g.key);o.has(g.key)&&(b===void 0||b.mutation instanceof ys)?u=u.insert(g.key,g):b!==void 0?(h.set(g.key,b.mutation.getFieldMask()),du(b.mutation,g,b.mutation.getFieldMask(),st.now())):h.set(g.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,b)=>h.set(g,b)),n.forEach((g,b)=>{var x;return m.set(g,new TD(b,(x=h.get(g))!==null&&x!==void 0?x:null))}),m))}recalculateAndSaveOverlays(e,n){const s=hu();let o=new dt((h,m)=>h-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let b=s.get(p)||Rn.empty();b=m.applyToLocalView(g,b),s.set(p,b);const x=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,x)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,b=p.value,x=cT();b.forEach(w=>{if(!u.has(w)){const P=_T(n.get(w),s.get(w));P!==null&&x.set(w,P),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,x))}return ie.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):sT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(sa());let m=yu,p=u;return h.next(g=>ie.forEach(g,(b,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),u.get(b)?ie.resolve():this.remoteDocumentCache.getEntry(e,b).next(w=>{p=p.insert(b,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(b=>({batchId:m,changes:uT(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let o=ru();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=ru();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const g=function(x,w){return new Lo(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(b=>{b.forEach((x,w)=>{h=h.insert(x,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const b=g.getKey();h.get(b)===null&&(h=h.insert(b,nn.newInvalidDocument(b)))});let m=ru();return h.forEach((p,g)=>{const b=u.get(p);b!==void 0&&du(b.mutation,g,Rn.empty(),st.now()),pd(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Nr(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:fD(o.bundledQuery),readTime:Nr(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(){this.overlays=new dt(ve.comparator),this.kr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=sa();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.wt(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=sa(),u=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt((g,b)=>g-b);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let b=u.get(g.largestBatchId);b===null&&(b=sa(),u=u.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const m=sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,b)=>m.set(g,b)),!(m.size()>=o)););return ie.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new F4(n,s));let u=this.kr.get(n);u===void 0&&(u=Le(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.qr=new Pt(Bt.Qr),this.$r=new Pt(Bt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new Bt(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new ve(new it([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ve(new it([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Le();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new Bt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ve.comparator(e.key,n.key)||Oe(e.Hr,n.Hr)}static Ur(e,n){return Oe(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Pt(Bt.Qr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new H4(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?og:this.er-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Oe);return n.forEach(o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),ie.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new ve(u),0);let m=new Pt(Oe);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},h),ie.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return ie.forEach(n.mutations,o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Yr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.ni=e,this.docs=function(){return new dt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=yi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=yi();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||s4(i4(b),s)<=0||(o.has(b.key)||pd(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}ri(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ID(this)}getSize(e){return ie.resolve(this.size)}}class ID extends bD{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.persistence=e,this.ii=new va(n=>cg(n),hg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.si=0,this.oi=new yg,this.targetCount=0,this._i=No.ar()}forEachTarget(e,n){return this.ii.forEach((s,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),ie.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new No(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.hr(n),ie.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.ai={},this.overlays={},this.ui=new cd(0),this.ci=!1,this.ci=!0,this.li=new SD,this.referenceDelegate=e(this),this.hi=new CD(this),this.indexManager=new mD,this.remoteDocumentCache=function(o){return new ND(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new dD(n),this.Ti=new xD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new RD(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new DD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return ie.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class DD extends o4{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Ai=new yg,this.Ri=null}static Vi(e){return new _g(e)}get mi(){if(this.Ri)return this.Ri;throw Ae(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.mi,s=>{const o=ve.fromPath(s);return this.fi(e,o).next(u=>{u||n.removeEntry(o,Ne.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return ie.or([()=>ie.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Xh{constructor(e,n){this.persistence=e,this.gi=new va(s=>c4(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=ED(this,n)}static Vi(e,n){return new Xh(e,n)}Ii(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return ie.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,n).next(m=>{m||(s++,u.removeEntry(h,Ne.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),ie.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ih(e.data.value)),n}Sr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=Le(),o=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return lR()?8:l4(rn())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new kD;return this.ws(e,n,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,h,m.size)})}).next(()=>u.result)}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(mo()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(mo()<=je.DEBUG&&de("QueryEngine","Query:",po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(mo()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rr(n))):ie.resolve())}ps(e,n){if(AE(n))return ie.resolve(null);let s=Rr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Ep(n,null,"F"),s=Rr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(n,m);return this.Ds(n,g,h,p.readTime)?this.ps(e,Ep(n,null,"F")):this.vs(e,g,n,p)}))})))}ys(e,n,s,o){return AE(n)||o.isEqual(Ne.min())?ie.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(n,u);return this.Ds(n,h,s,o)?ie.resolve(null):(mo()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),po(n)),this.vs(e,h,n,r4(o,yu)).next(m=>m))})}bs(e,n){let s=new Pt(oT(e));return n.forEach((o,u)=>{pd(e,u)&&(s=s.add(u))}),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return mo()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",po(n)),this.gs.getDocumentsMatchingQuery(e,n,ls.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="LocalStore",MD=3e8;class PD{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new dt(Oe),this.Ms=new va(u=>cg(u),hg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function VD(r,e,n,s){return new PD(r,e,n,s)}async function kT(r,e){const n=Ie(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Le();for(const g of o){h.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of u){m.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:m}))})})}function jD(r,e){const n=Ie(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,b){const x=g.batch,w=x.keys();let P=ie.resolve();return w.forEach(S=>{P=P.next(()=>b.getEntry(p,S)).next(U=>{const j=g.docVersions.get(S);Ke(j!==null,48541),U.version.compareTo(j)<0&&(x.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),b.addEntry(U)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,x))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function OT(r){const e=Ie(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function LD(r,e){const n=Ie(r),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach((b,x)=>{const w=o.get(x);if(!w)return;m.push(n.hi.removeMatchingKeys(u,b.removedDocuments,x).next(()=>n.hi.addMatchingKeys(u,b.addedDocuments,x)));let P=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?P=P.withResumeToken(Xt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):b.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(b.resumeToken,s)),o=o.insert(x,P),function(U,j,G){return U.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=MD?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(w,P,b)&&m.push(n.hi.updateTargetData(u,P))});let p=yi(),g=Le();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))}),m.push(UD(u,h,e.documentUpdates).next(b=>{p=b.Ls,g=b.ks})),!s.isEqual(Ne.min())){const b=n.hi.getLastRemoteSnapshotVersion(u).next(x=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(b)}return ie.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Fs=o,u))}function UD(r,e,n){let s=Le(),o=Le();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=yi();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ne.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):de(Eg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function zD(r,e){const n=Ie(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=og),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function BD(r,e){const n=Ie(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):n.hi.allocateTargetId(s).next(h=>(o=new ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function Ap(r,e,n){const s=Ie(r),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!jo(h))throw h;de(Eg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function LE(r,e,n){const s=Ie(r);let o=Ne.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,b){const x=Ie(p),w=x.Ms.get(b);return w!==void 0?ie.resolve(x.Fs.get(w)):x.hi.getTargetData(g,b)}(s,h,Rr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:Ne.min(),n?u:Le())).next(m=>(qD(s,I4(e),m),{documents:m,qs:u})))}function qD(r,e,n){let s=r.xs.get(e)||Ne.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.xs.set(e,s)}class UE{constructor(){this.activeTargetIds=P4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HD{constructor(){this.Fo=new UE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new UE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="ConnectivityMonitor";class BE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){de(zE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){de(zE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yh=null;function Sp(){return yh===null?yh=function(){return 268435456+Math.round(2147483648*Math.random())}():yh++,"0x"+yh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="RestConnection",GD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $D{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===$h?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=Sp(),m=this.Go(e,n.toUriEncodedString());de(Gm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),b=ps(g);return this.jo(e,m,p,s,b).then(x=>(de(Gm,`Received RPC '${e}' ${h}: `,x),x),x=>{throw os(Gm,`RPC '${e}' ${h} failed with error: `,x,"url: ",m,"request:",s),x})}Jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const s=GD[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class QD extends $D{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const h=Sp();return new Promise((m,p)=>{const g=new O1;g.setWithCredentials(!0),g.listenOnce(M1.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Nh.NO_ERROR:const x=g.getResponseJson();de(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(x)),m(x);break;case Nh.TIMEOUT:de(en,`RPC '${e}' ${h} timed out`),p(new ce(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const w=g.getStatus();if(de(en,`RPC '${e}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const S=P==null?void 0:P.error;if(S&&S.status&&S.message){const U=function(G){const Y=G.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Y)>=0?Y:ne.UNKNOWN}(S.status);p(new ce(U,S.message))}else p(new ce(ne.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ce(ne.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{de(en,`RPC '${e}' ${h} completed.`)}});const b=JSON.stringify(o);de(en,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",b,s,15)})}P_(e,n,s){const o=Sp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=j1(),m=V1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const b=u.join("");de(en,`Creating RPC '${e}' stream ${o}: ${b}`,p);const x=h.createWebChannel(b,p);this.T_(x);let w=!1,P=!1;const S=new KD({Ho:j=>{P?de(en,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(w||(de(en,`Opening RPC '${e}' stream ${o} transport.`),x.open(),w=!0),de(en,`RPC '${e}' stream ${o} sending:`,j),x.send(j))},Yo:()=>x.close()}),U=(j,G,Y)=>{j.listen(G,J=>{try{Y(J)}catch(oe){setTimeout(()=>{throw oe},0)}})};return U(x,nu.EventType.OPEN,()=>{P||(de(en,`RPC '${e}' stream ${o} transport opened.`),S.s_())}),U(x,nu.EventType.CLOSE,()=>{P||(P=!0,de(en,`RPC '${e}' stream ${o} transport closed`),S.__(),this.I_(x))}),U(x,nu.EventType.ERROR,j=>{P||(P=!0,os(en,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),S.__(new ce(ne.UNAVAILABLE,"The operation could not be completed")))}),U(x,nu.EventType.MESSAGE,j=>{var G;if(!P){const Y=j.data[0];Ke(!!Y,16349);const J=Y,oe=(J==null?void 0:J.error)||((G=J[0])===null||G===void 0?void 0:G.error);if(oe){de(en,`RPC '${e}' stream ${o} received error:`,oe);const he=oe.status;let ge=function(I){const M=Rt[I];if(M!==void 0)return ET(M)}(he),V=oe.message;ge===void 0&&(ge=ne.INTERNAL,V="Unknown error status: "+he+" with message "+oe.message),P=!0,S.__(new ce(ge,V)),x.close()}else de(en,`RPC '${e}' stream ${o} received:`,Y),S.a_(Y)}}),U(m,P1.STAT_EVENT,j=>{j.stat===fp.PROXY?de(en,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===fp.NOPROXY&&de(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(r){return new Z4(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="PersistentStream";class PT{constructor(e,n,s,o,u,h,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new MT(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{e(()=>{const o=new ce(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return de(qE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(de(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YD extends PT{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=tD(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ne.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ne.min():h.readTime?Nr(h.readTime):Ne.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=xp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=_p(p)?{documents:iD(u,p)}:{query:sD(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=wT(u,h.resumeToken);const g=bp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Yh(u,h.snapshotVersion.toTimestamp());const g=bp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=oD(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=xp(this.serializer),n.removeTarget=e,this.k_(n)}}class XD extends PT{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=rD(e.writeResults,e.commitTime),s=Nr(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=xp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>nD(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{}class ZD extends WD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Tp(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(ne.UNKNOWN,u.toString())})}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,Tp(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(ne.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class JD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(gi(n),this._a=!1):de("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="RemoteStore";class ek{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{Ea(this)&&(de(ma,"Restarting streams for network reachability change."),await async function(p){const g=Ie(p);g.Ia.add(4),await ju(g),g.Aa.set("Unknown"),g.Ia.delete(4),await Ed(g)}(this))})}),this.Aa=new JD(s,o)}}async function Ed(r){if(Ea(r))for(const e of r.da)await e(!0)}async function ju(r){for(const e of r.da)await e(!1)}function VT(r,e){const n=Ie(r);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),xg(n)?wg(n):Uo(n).x_()&&Tg(n,e))}function bg(r,e){const n=Ie(r),s=Uo(n);n.Ta.delete(e),s.x_()&&jT(n,e),n.Ta.size===0&&(s.x_()?s.B_():Ea(n)&&n.Aa.set("Unknown"))}function Tg(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uo(r).H_(e)}function jT(r,e){r.Ra.$e(e),Uo(r).Y_(e)}function wg(r){r.Ra=new Q4({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.Aa.aa()}function xg(r){return Ea(r)&&!Uo(r).M_()&&r.Ta.size>0}function Ea(r){return Ie(r).Ia.size===0}function LT(r){r.Ra=void 0}async function tk(r){r.Aa.set("Online")}async function nk(r){r.Ta.forEach((e,n)=>{Tg(r,e)})}async function rk(r,e){LT(r),xg(r)?(r.Aa.la(e),wg(r)):r.Aa.set("Unknown")}async function ik(r,e,n){if(r.Aa.set("Online"),e instanceof TT&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(r,e)}catch(s){de(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Wh(r,s)}else if(e instanceof kh?r.Ra.Ye(e):e instanceof bT?r.Ra.it(e):r.Ra.et(e),!n.isEqual(Ne.min()))try{const s=await OT(r.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ta.get(g);b&&u.Ta.set(g,b.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const b=u.Ta.get(p);if(!b)return;u.Ta.set(p,b.withResumeToken(Xt.EMPTY_BYTE_STRING,b.snapshotVersion)),jT(u,p);const x=new ts(b.target,p,g,b.sequenceNumber);Tg(u,x)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){de(ma,"Failed to raise snapshot:",s),await Wh(r,s)}}async function Wh(r,e,n){if(!jo(e))throw e;r.Ia.add(1),await ju(r),r.Aa.set("Offline"),n||(n=()=>OT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{de(ma,"Retrying IndexedDB access"),await n(),r.Ia.delete(1),await Ed(r)})}function UT(r,e){return e().catch(n=>Wh(r,n,e))}async function bd(r){const e=Ie(r),n=ds(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:og;for(;sk(e);)try{const o=await zD(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,ak(e,o)}catch(o){await Wh(e,o)}zT(e)&&BT(e)}function sk(r){return Ea(r)&&r.Pa.length<10}function ak(r,e){r.Pa.push(e);const n=ds(r);n.x_()&&n.Z_&&n.X_(e.mutations)}function zT(r){return Ea(r)&&!ds(r).M_()&&r.Pa.length>0}function BT(r){ds(r).start()}async function ok(r){ds(r).na()}async function lk(r){const e=ds(r);for(const n of r.Pa)e.X_(n.mutations)}async function uk(r,e,n){const s=r.Pa.shift(),o=mg.from(s,e,n);await UT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await bd(r)}async function ck(r,e){e&&ds(r).Z_&&await async function(s,o){if(function(h){return $4(h)&&h!==ne.ABORTED}(o.code)){const u=s.Pa.shift();ds(s).N_(),await UT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await bd(s)}}(r,e),zT(r)&&BT(r)}async function HE(r,e){const n=Ie(r);n.asyncQueue.verifyOperationInProgress(),de(ma,"RemoteStore received new credentials");const s=Ea(n);n.Ia.add(3),await ju(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Ed(n)}async function hk(r,e){const n=Ie(r);e?(n.Ia.delete(2),await Ed(n)):e||(n.Ia.add(2),await ju(n),n.Aa.set("Unknown"))}function Uo(r){return r.Va||(r.Va=function(n,s,o){const u=Ie(n);return u.ia(),new YD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:tk.bind(null,r),e_:nk.bind(null,r),n_:rk.bind(null,r),J_:ik.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),xg(r)?wg(r):r.Aa.set("Unknown")):(await r.Va.stop(),LT(r))})),r.Va}function ds(r){return r.ma||(r.ma=function(n,s,o){const u=Ie(n);return u.ia(),new XD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:ok.bind(null,r),n_:ck.bind(null,r),ea:lk.bind(null,r),ta:uk.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await bd(r)):(await r.ma.stop(),r.Pa.length>0&&(de(ma,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new Ag(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(r,e){if(gi("AsyncQueue",`${e}: ${r}`),jo(r))return new ce(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{static emptySet(e){return new wo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=ru(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new wo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.fa=new dt(ve.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Ae(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class Io{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Io(e,n,wo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class fk{constructor(){this.queries=GE(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=GE(),u.forEach((h,m)=>{for(const p of m.wa)p.onError(s)})})(this,new ce(ne.ABORTED,"Firestore shutting down"))}}function GE(){return new va(r=>aT(r),md)}async function Rg(r,e){const n=Ie(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new dk,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Sg(h,`Initialization of query '${po(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&Ig(n)}async function Ng(r,e){const n=Ie(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function mk(r,e){const n=Ie(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&Ig(n)}function pk(r,e,n){const s=Ie(r),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function Ig(r){r.Da.forEach(e=>{e.next()})}var Rp,$E;($E=Rp||(Rp={})).Fa="default",$E.Cache="cache";class Cg{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e){this.key=e}}class HT{constructor(e){this.key=e}}class gk{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Le(),this.mutatedKeys=Le(),this.Xa=oT(e),this.eu=new wo(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new FE,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,x)=>{const w=o.get(b),P=pd(this.query,x)?x:null,S=!!w&&this.mutatedKeys.has(w.key),U=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let j=!1;w&&P?w.data.isEqual(P.data)?S!==U&&(s.track({type:3,doc:P}),j=!0):this.iu(w,P)||(s.track({type:2,doc:P}),j=!0,(p&&this.Xa(P,p)>0||g&&this.Xa(P,g)<0)&&(m=!0)):!w&&P?(s.track({type:0,doc:P}),j=!0):w&&!P&&(s.track({type:1,doc:w}),j=!0,(p||g)&&(m=!0)),j&&(P?(h=h.add(P),u=U?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((b,x)=>function(P,S){const U=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{At:j})}};return U(P)-U(S)}(b.type,x.type)||this.Xa(b.doc,x.doc)),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new Io(this.query,e.eu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new FE,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Le(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new HT(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new qT(s))}),n}uu(e){this.Ha=e.qs,this.Za=Le();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Io.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Dg="SyncEngine";class yk{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class _k{constructor(e){this.key=e,this.lu=!1}}class vk{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new va(m=>aT(m),md),this.Tu=new Map,this.Iu=new Set,this.du=new dt(ve.comparator),this.Eu=new Map,this.Au=new yg,this.Ru={},this.Vu=new Map,this.mu=No.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Ek(r,e,n=!0){const s=YT(r);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await FT(s,e,n,!0),o}async function bk(r,e){const n=YT(r);await FT(n,e,!0,!1)}async function FT(r,e,n,s){const o=await BD(r.localStore,Rr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await Tk(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&VT(r.remoteStore,o),m}async function Tk(r,e,n,s,o){r.gu=(x,w,P)=>async function(U,j,G,Y){let J=j.view.nu(G);J.Ds&&(J=await LE(U.localStore,j.query,!1).then(({documents:V})=>j.view.nu(V,J)));const oe=Y&&Y.targetChanges.get(j.targetId),he=Y&&Y.targetMismatches.get(j.targetId)!=null,ge=j.view.applyChanges(J,U.isPrimaryClient,oe,he);return QE(U,j.targetId,ge._u),ge.snapshot}(r,x,w,P);const u=await LE(r.localStore,e,!0),h=new gk(e,u.qs),m=h.nu(u.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);QE(r,n,g._u);const b=new yk(e,n,h);return r.Pu.set(e,b),r.Tu.has(n)?r.Tu.get(n).push(e):r.Tu.set(n,[e]),g.snapshot}async function wk(r,e,n){const s=Ie(r),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!md(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ap(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bg(s.remoteStore,o.targetId),Np(s,o.targetId)}).catch(Vo)):(Np(s,o.targetId),await Ap(s.localStore,o.targetId,!0))}async function xk(r,e){const n=Ie(r),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bg(n.remoteStore,s.targetId))}async function Ak(r,e,n){const s=kk(r);try{const o=await function(h,m){const p=Ie(h),g=st.now(),b=m.reduce((P,S)=>P.add(S.key),Le());let x,w;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let S=yi(),U=Le();return p.Os.getEntries(P,b).next(j=>{S=j,S.forEach((G,Y)=>{Y.isValidDocument()||(U=U.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,S)).next(j=>{x=j;const G=[];for(const Y of m){const J=B4(Y,x.get(Y.key).overlayedDocument);J!=null&&G.push(new ys(Y.key,J,Z1(J.value.mapValue),Fn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,G,m)}).next(j=>{w=j;const G=j.applyToLocalDocumentSet(x,U);return p.documentOverlayCache.saveOverlays(P,j.batchId,G)})}).then(()=>({batchId:w.batchId,changes:uT(x)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new dt(Oe)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,n),await Lu(s,o.changes),await bd(s.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");n.reject(u)}}async function GT(r,e){const n=Ie(r);try{const s=await LD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Ke(h.lu,14607):o.removedDocuments.size>0&&(Ke(h.lu,42227),h.lu=!1))}),await Lu(n,s,e)}catch(s){await Vo(s)}}function KE(r,e,n){const s=Ie(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ie(h);p.onlineState=m;let g=!1;p.queries.forEach((b,x)=>{for(const w of x.wa)w.va(m)&&(g=!0)}),g&&Ig(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Sk(r,e,n){const s=Ie(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new dt(ve.comparator);h=h.insert(u,nn.newNoDocument(u,Ne.min()));const m=Le().add(u),p=new _d(Ne.min(),new Map,new dt(Oe),h,m);await GT(s,p),s.du=s.du.remove(u),s.Eu.delete(e),kg(s)}else await Ap(s.localStore,e,!1).then(()=>Np(s,e,n)).catch(Vo)}async function Rk(r,e){const n=Ie(r),s=e.batch.batchId;try{const o=await jD(n.localStore,e);KT(n,s,null),$T(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Lu(n,o)}catch(o){await Vo(o)}}async function Nk(r,e,n){const s=Ie(r);try{const o=await function(h,m){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let b;return p.mutationQueue.lookupMutationBatch(g,m).next(x=>(Ke(x!==null,37113),b=x.keys(),p.mutationQueue.removeMutationBatch(g,x))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,b,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,b)).next(()=>p.localDocuments.getDocuments(g,b))})}(s.localStore,e);KT(s,e,n),$T(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Lu(s,o)}catch(o){await Vo(o)}}function $T(r,e){(r.Vu.get(e)||[]).forEach(n=>{n.resolve()}),r.Vu.delete(e)}function KT(r,e,n){const s=Ie(r);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Np(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Tu.get(e))r.Pu.delete(s),n&&r.hu.pu(s,n);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(s=>{r.Au.containsKey(s)||QT(r,s)})}function QT(r,e){r.Iu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(bg(r.remoteStore,n),r.du=r.du.remove(e),r.Eu.delete(n),kg(r))}function QE(r,e,n){for(const s of n)s instanceof qT?(r.Au.addReference(s.key,e),Ik(r,s)):s instanceof HT?(de(Dg,"Document no longer in limbo: "+s.key),r.Au.removeReference(s.key,e),r.Au.containsKey(s.key)||QT(r,s.key)):Ae(19791,{yu:s})}function Ik(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Iu.has(s)||(de(Dg,"New document in limbo: "+n),r.Iu.add(s),kg(r))}function kg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const n=new ve(it.fromString(e)),s=r.mu.next();r.Eu.set(s,new _k(n)),r.du=r.du.insert(n,s),VT(r.remoteStore,new ts(Rr(fd(n.path)),s,"TargetPurposeLimboResolution",cd.ue))}}async function Lu(r,e,n){const s=Ie(r),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{h.push(s.gu(p,e,n).then(g=>{var b;if((g||n)&&s.isPrimaryClient){const x=g?!g.fromCache:(b=n==null?void 0:n.targetChanges.get(p.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(p.targetId,x?"current":"not-current")}if(g){o.push(g);const x=vg.Es(p.targetId,g);u.push(x)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const b=Ie(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ie.forEach(g,w=>ie.forEach(w.Is,P=>b.persistence.referenceDelegate.addReference(x,w.targetId,P)).next(()=>ie.forEach(w.ds,P=>b.persistence.referenceDelegate.removeReference(x,w.targetId,P)))))}catch(x){if(!jo(x))throw x;de(Eg,"Failed to update sequence numbers: "+x)}for(const x of g){const w=x.targetId;if(!x.fromCache){const P=b.Fs.get(w),S=P.snapshotVersion,U=P.withLastLimboFreeSnapshotVersion(S);b.Fs=b.Fs.insert(w,U)}}}(s.localStore,u))}async function Ck(r,e){const n=Ie(r);if(!n.currentUser.isEqual(e)){de(Dg,"User change. New user:",e.toKey());const s=await kT(n.localStore,e);n.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new ce(ne.CANCELLED,h))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Lu(n,s.Bs)}}function Dk(r,e){const n=Ie(r),s=n.Eu.get(e);if(s&&s.lu)return Le().add(s.key);{let o=Le();const u=n.Tu.get(e);if(!u)return o;for(const h of u){const m=n.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function YT(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=GT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Sk.bind(null,e),e.hu.J_=mk.bind(null,e.eventManager),e.hu.pu=pk.bind(null,e.eventManager),e}function kk(r){const e=Ie(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nk.bind(null,e),e}class Zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return VD(this.persistence,new OD,e.initialUser,this.serializer)}Du(e){return new DT(_g.Vi,this.serializer)}bu(e){return new HD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zh.provider={build:()=>new Zh};class Ok extends Zh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ke(this.persistence.referenceDelegate instanceof Xh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new _D(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new DT(s=>Xh.Vi(s,n),this.serializer)}}class Ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>KE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ck.bind(null,this.syncEngine),await hk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fk}()}createDatastore(e){const n=vd(e.databaseInfo.databaseId),s=function(u){return new QD(u)}(e.databaseInfo);return function(u,h,m,p){return new ZD(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new ek(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>KE(this.syncEngine,n,0),function(){return BE.C()?new BE:new FD}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,b){const x=new vk(o,u,h,m,p,g);return b&&(x.fu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ie(o);de(ma,"RemoteStore shutting down."),u.Ia.add(5),await ju(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ip.provider={build:()=>new Ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="FirestoreClient";class Mk{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{de(fs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(de(fs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Sg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Km(r,e){r.asyncQueue.verifyOperationInProgress(),de(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await kT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{os("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{de("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{os("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function YE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Pk(r);de(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>HE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>HE(e.remoteStore,o)),r._onlineComponents=e}async function Pk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(fs,"Using user provided OfflineComponentProvider");try{await Km(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;os("Error using user provided cache. Falling back to memory cache: "+n),await Km(r,new Zh)}}else de(fs,"Using default OfflineComponentProvider"),await Km(r,new Ok(void 0));return r._offlineComponents}async function XT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(fs,"Using user provided OnlineComponentProvider"),await YE(r,r._uninitializedComponentsProvider._online)):(de(fs,"Using default OnlineComponentProvider"),await YE(r,new Ip))),r._onlineComponents}function Vk(r){return XT(r).then(e=>e.syncEngine)}async function Jh(r){const e=await XT(r),n=e.eventManager;return n.onListen=Ek.bind(null,e.syncEngine),n.onUnlisten=wk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=bk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=xk.bind(null,e.syncEngine),n}function jk(r,e,n={}){const s=new di;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const b=new Og({next:w=>{b.Ou(),h.enqueueAndForget(()=>Ng(u,x));const P=w.docs.has(m);!P&&w.fromCache?g.reject(new ce(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&w.fromCache&&p&&p.source==="server"?g.reject(new ce(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),x=new Cg(fd(m.path),b,{includeMetadataChanges:!0,ka:!0});return Rg(u,x)}(await Jh(r),r.asyncQueue,e,n,s)),s.promise}function Lk(r,e,n={}){const s=new di;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const b=new Og({next:w=>{b.Ou(),h.enqueueAndForget(()=>Ng(u,x)),w.fromCache&&p.source==="server"?g.reject(new ce(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),x=new Cg(m,b,{includeMetadataChanges:!0,ka:!0});return Rg(u,x)}(await Jh(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firestore.googleapis.com",WE=!0;class ZE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ce(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZT,this.ssl=WE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:WE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=CT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gD)throw new ce(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ce(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Td{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new KC;switch(s.type){case"firstParty":return new WC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=XE.get(n);s&&(de("ComponentProvider","Removing Datastore"),XE.delete(n),s.terminate())}(this),Promise.resolve()}}function Uk(r,e,n,s={}){var o;r=yn(r,Td);const u=ps(e),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${n}`;u&&(Hp(`https://${p}`),Fp("Firestore",!0)),h.host!==ZT&&h.host!==p&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!ua(g,m)&&(r._setSettings(g),s.mockUserToken)){let b,x;if(typeof s.mockUserToken=="string")b=s.mockUserToken,x=tn.MOCK_USER;else{b=Hb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ce(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new tn(w)}r._authCredentials=new QC(new U1(b,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Mu(n,gt._jsonSchema))return new gt(e,s||null,new ve(it.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:It("string",gt._jsonSchemaVersion),referencePath:It("string")};class ss extends _s{constructor(e,n,s){super(e,n,fd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new ve(e))}withConverter(e){return new ss(this.firestore,e,this._path)}}function ra(r,e,...n){if(r=ct(r),B1("collection","path",e),r instanceof Td){const s=it.fromString(e,...n);return hE(s),new ss(r,null,s)}{if(!(r instanceof gt||r instanceof ss))throw new ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return hE(s),new ss(r.firestore,null,s)}}function mn(r,e,...n){if(r=ct(r),arguments.length===1&&(e=ag.newId()),B1("doc","path",e),r instanceof Td){const s=it.fromString(e,...n);return cE(s),new gt(r,null,new ve(s))}{if(!(r instanceof gt||r instanceof ss))throw new ce(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return cE(s),new gt(r.firestore,r instanceof ss?r.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="AsyncQueue";class eb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new MT(this,"async_queue_retry"),this.oc=()=>{const s=$m();s&&de(JE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new di;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!jo(e))throw e;de(JE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,gi("INTERNAL UNHANDLED ERROR: ",tb(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=Ag.createAndSchedule(this,e,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ae(47125,{hc:tb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function tb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class _i extends Td{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new eb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eb(e),this._firestoreClient=void 0,await e}}}function JT(r,e){const n=typeof r=="object"?r:Kp(),s=typeof r=="string"?r:$h,o=id(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=zb("firestore");u&&Uk(o,...u)}return o}function wd(r){if(r._terminated)throw new ce(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zk(r),r._firestoreClient}function zk(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,b){return new f4(m,p,g,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,WT(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Mk(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Xt.fromBase64String(e))}catch(n){throw new ce(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:It("string",Hn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ir._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,Ir._jsonSchema))return new Ir(e.latitude,e.longitude)}}Ir._jsonSchemaVersion="firestore/geoPoint/1.0",Ir._jsonSchema={type:It("string",Ir._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,Cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Cr(e.vectorValues);throw new ce(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cr._jsonSchemaVersion="firestore/vectorValue/1.0",Cr._jsonSchema={type:It("string",Cr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=/^__.*__$/;class qk{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class ew{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ec:r})}}class Mg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return ed(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(tw(this.Ec)&&Bk.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Hk{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||vd(e)}Dc(e,n,s,o=!1){return new Mg({Ec:e,methodName:n,bc:s,path:Yt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ad(r){const e=r._freezeSettings(),n=vd(r._databaseId);return new Hk(r._databaseId,!!e.ignoreUndefinedProperties,n)}function nw(r,e,n,s,o,u={}){const h=r.Dc(u.merge||u.mergeFields?2:0,e,n,o);jg("Data must be an object, but it was:",h,s);const m=rw(s,h);let p,g;if(u.merge)p=new Rn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const x of u.mergeFields){const w=Cp(e,x,n);if(!h.contains(w))throw new ce(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);sw(b,w)||b.push(w)}p=new Rn(b),g=h.fieldTransforms.filter(x=>p.covers(x.field))}else p=null,g=h.fieldTransforms;return new qk(new gn(m),p,g)}class Sd extends Uu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sd}}class Pg extends Uu{_toFieldTransform(e){return new yT(e.path,new Tu)}isEqual(e){return e instanceof Pg}}class Vg extends Uu{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Au(e.serializer,dT(e.serializer,this.Cc));return new yT(e.path,n)}isEqual(e){return e instanceof Vg&&this.Cc===e.Cc}}function Fk(r,e,n,s){const o=r.Dc(1,e,n);jg("Data must be an object, but it was:",o,s);const u=[],h=gn.empty();gs(s,(p,g)=>{const b=Lg(e,p,n);g=ct(g);const x=o.gc(b);if(g instanceof Sd)u.push(b);else{const w=zu(g,x);w!=null&&(u.push(b),h.set(b,w))}});const m=new Rn(u);return new ew(h,m,o.fieldTransforms)}function Gk(r,e,n,s,o,u){const h=r.Dc(1,e,n),m=[Cp(e,s,n)],p=[o];if(u.length%2!=0)throw new ce(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(Cp(e,u[w])),p.push(u[w+1]);const g=[],b=gn.empty();for(let w=m.length-1;w>=0;--w)if(!sw(g,m[w])){const P=m[w];let S=p[w];S=ct(S);const U=h.gc(P);if(S instanceof Sd)g.push(P);else{const j=zu(S,U);j!=null&&(g.push(P),b.set(P,j))}}const x=new Rn(g);return new ew(b,x,h.fieldTransforms)}function $k(r,e,n,s=!1){return zu(n,r.Dc(s?4:3,e))}function zu(r,e){if(iw(r=ct(r)))return jg("Unsupported field value:",e,r),rw(r,e);if(r instanceof Uu)return function(s,o){if(!tw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=zu(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:Yh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Yh(o.serializer,u)}}if(s instanceof Ir)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:wT(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Cr)return function(h,m){return{mapValue:{fields:{[X1]:{stringValue:W1},[Kh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return dg(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${ud(s)}`)}(r,e)}function rw(r,e){const n={};return F1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,(s,o)=>{const u=zu(o,e.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function iw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof st||r instanceof Ir||r instanceof Hn||r instanceof gt||r instanceof Uu||r instanceof Cr)}function jg(r,e,n){if(!iw(n)||!q1(n)){const s=ud(n);throw s==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+s)}}function Cp(r,e,n){if((e=ct(e))instanceof xd)return e._internalPath;if(typeof e=="string")return Lg(r,e);throw ed("Field path arguments must be of type string or ",r,!1,void 0,n)}const Kk=new RegExp("[~\\*/\\[\\]]");function Lg(r,e,n){if(e.search(Kk)>=0)throw ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xd(...e.split("."))._internalPath}catch{throw ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ed(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ce(ne.INVALID_ARGUMENT,m+r+p)}function sw(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Qk extends aw{data(){return super.data()}}function Ug(r,e){return typeof e=="string"?Lg(r,e):e instanceof xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class lw extends zg{}function Dp(r,e,...n){let s=[];e instanceof zg&&s.push(e),s=s.concat(n),function(u){const h=u.filter(p=>p instanceof qg).length,m=u.filter(p=>p instanceof Bg).length;if(h>1||h>0&&m>0)throw new ce(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Bg extends lw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Bg(e,n,s)}_apply(e){const n=this._parse(e);return uw(e._query,n),new _s(e.firestore,e.converter,vp(e._query,n))}_parse(e){const n=Ad(e.firestore);return function(u,h,m,p,g,b,x){let w;if(g.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){ib(x,b);const S=[];for(const U of x)S.push(rb(p,u,U));w={arrayValue:{values:S}}}else w=rb(p,u,x)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||ib(x,b),w=$k(m,h,x,b==="in"||b==="not-in");return Nt.create(g,b,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class qg extends zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)uw(h,p),h=vp(h,p)}(e._query,n),new _s(e.firestore,e.converter,vp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hg extends lw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Hg(e,n)}_apply(e){const n=function(o,u,h){if(o.startAt!==null)throw new ce(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bu(u,h)}(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Lo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function kp(r,e="asc"){const n=e,s=Ug("orderBy",r);return Hg._create(s,n)}function rb(r,e,n){if(typeof(n=ct(n))=="string"){if(n==="")throw new ce(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sT(e)&&n.indexOf("/")!==-1)throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!ve.isDocumentKey(s))throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return vE(r,new ve(s))}if(n instanceof gt)return vE(r,n._key);throw new ce(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ud(n)}.`)}function ib(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uw(r,e){const n=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Yk{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Kh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Tt(h.doubleValue));return new Cr(u)}convertGeoPoint(e){return new Ir(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=dd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=us(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ke(IT(s),9688,{name:e});const o=new vu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||gi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class su{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends aw{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ug("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:It("string",aa._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Oh extends aa{data(e={}){return super.data(e)}}class oa{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new su(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Oh(this._firestore,this._userDataWriter,s.key,s,new su(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new su(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new su(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,b=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:Xk(m.type),doc:p,oldIndex:g,newIndex:b}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Xk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(r){r=yn(r,gt);const e=yn(r.firestore,_i);return jk(wd(e),r._key).then(n=>hw(e,r,n))}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:It("string",oa._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class Fg extends Yk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function Qm(r){r=yn(r,_s);const e=yn(r.firestore,_i),n=wd(e),s=new Fg(e);return ow(r._query),Lk(n,r._query).then(o=>new oa(e,s,r,o))}function Do(r,e,n){r=yn(r,gt);const s=yn(r.firestore,_i),o=cw(r.converter,e,n);return Rd(s,[nw(Ad(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Fn.none())])}function Zl(r,e,n,...s){r=yn(r,gt);const o=yn(r.firestore,_i),u=Ad(o);let h;return h=typeof(e=ct(e))=="string"||e instanceof xd?Gk(u,"updateDoc",r._key,e,n,s):Fk(u,"updateDoc",r._key,e),Rd(o,[h.toMutation(r._key,Fn.exists(!0))])}function sb(r){return Rd(yn(r.firestore,_i),[new fg(r._key,Fn.none())])}function Op(r,e){const n=yn(r.firestore,_i),s=mn(r),o=cw(r.converter,e);return Rd(n,[nw(Ad(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then(()=>s)}function Wk(r,...e){var n,s,o;r=ct(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||nb(e[h])||(u=e[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(nb(e[h])){const x=e[h];e[h]=(n=x.next)===null||n===void 0?void 0:n.bind(x),e[h+1]=(s=x.error)===null||s===void 0?void 0:s.bind(x),e[h+2]=(o=x.complete)===null||o===void 0?void 0:o.bind(x)}let p,g,b;if(r instanceof gt)g=yn(r.firestore,_i),b=fd(r._key.path),p={next:x=>{e[h]&&e[h](hw(g,r,x))},error:e[h+1],complete:e[h+2]};else{const x=yn(r,_s);g=yn(x.firestore,_i),b=x._query;const w=new Fg(g);p={next:P=>{e[h]&&e[h](new oa(g,w,x,P))},error:e[h+1],complete:e[h+2]},ow(r._query)}return function(w,P,S,U){const j=new Og(U),G=new Cg(P,j,S);return w.asyncQueue.enqueueAndForget(async()=>Rg(await Jh(w),G)),()=>{j.Ou(),w.asyncQueue.enqueueAndForget(async()=>Ng(await Jh(w),G))}}(wd(g),b,m,p)}function Rd(r,e){return function(s,o){const u=new di;return s.asyncQueue.enqueueAndForget(async()=>Ak(await Vk(s),o,u)),u.promise}(wd(r),e)}function hw(r,e,n){const s=n.docs.get(e._key),o=new Fg(r);return new aa(r,o,e._key,s,new su(n.hasPendingWrites,n.fromCache),e.converter)}function au(){return new Pg("serverTimestamp")}function ai(r){return new Vg("increment",r)}(function(e,n=!0){(function(o){Po=o})(ya),ca(new as("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new _i(new YC(s.getProvider("auth-internal")),new ZC(h,s.getProvider("app-check-internal")),function(g,b){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(g.options.projectId,b)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),xr(sE,aE,e),xr(sE,aE,"esm2017")})();const Zk=r=>{const e=/^.*(?:youtu.be\/|v\/|e\/|embed\/|watch\?v=|youtube.com\/user\/[^\/]+\/|youtube.com\/\?v=)([^#\&\?]*).*/,n=r.match(e);return n&&n[1].length===11?n[1]:null};function _h(){const{moduleId:r,videoId:e}=zA(),n=ms(),s=vi(),[o,u]=z.useState(null),[h,m]=z.useState(null),[p,g]=z.useState(null),[b,x]=z.useState(0),[w,P]=z.useState([]),[S,U]=z.useState(!0),[j,G]=z.useState(null),[Y,J]=z.useState(!1),[oe,he]=z.useState(!0),[ge,V]=z.useState([]),[R,I]=z.useState(""),[M,N]=z.useState(!1),k=z.useRef(null),C=_a(),Ee=JT();z.useEffect(()=>{const D=ad(C,async W=>{if(G(W),W)try{const ae=await Co(mn(Ee,"users",W.uid));if(ae.exists()){const Z=ae.data();J(Z.isSubscriber||!1)}else J(!1)}catch(ae){console.error("Erro ao verificar assinatura:",ae),J(!1)}else J(!1);he(!1)});return()=>D()},[C,Ee]),z.useEffect(()=>{const D=()=>{var ae;const W=s.pathname.split("/")[2];if(window.trainingsData&&window.trainingsData.sections){let Z=null,me=null;for(const Re of window.trainingsData.sections)if(Z=Re.trainings.find(_e=>_e.id===W),Z){if(Z.modules&&Z.modules.length>0){me={id:Z.id,title:Z.title,description:Z.description||`Programa completo de ${Z.title}`,instructor:"Renan Gonalves",duration:Z.duration||"Vrios mdulos",level:Z.level||"Todos os nveis",image:Z.imageUrl,sections:[{id:"treinos",title:"Treinos",description:"Programa completo de treinos",modules:Z.modules.map((nt,In)=>nt.videoUrl?{id:`modulo-${In+1}`,title:nt.title,description:`Treino ${nt.title}`,videoUrl:nt.videoUrl,youtubeId:Zk(nt.videoUrl),duration:"30-40 min",type:"Treino"}:nt.youtubeId?{id:`modulo-${In+1}`,title:nt.title,description:`Treino ${nt.title}`,videoUrl:`https://youtu.be/${nt.youtubeId}`,youtubeId:nt.youtubeId,duration:"30-40 min",type:"Treino"}:{id:`modulo-${In+1}`,title:nt.title,description:`Treino ${nt.title}`,videoUrl:null,youtubeId:null,duration:"30-40 min",type:"Treino"})}]};const _e=me.sections[0].modules;P(_e);let at=0;r&&(at=_e.findIndex(nt=>nt.id===r||nt.youtubeId===e),at===-1&&(at=0)),x(at);const He=_e[at];He&&u({title:He.title,youtubeId:He.youtubeId,description:He.description,duration:He.duration,level:me.level,instructor:me.instructor,category:((ae=Z.categories)==null?void 0:ae[0])||"Treino"})}g(Z),m(me);break}U(!1)}};if(window.trainingsData)D();else{const W=document.createElement("script");W.src="/trainings.js",W.onload=D,W.onerror=()=>{console.error("Erro ao carregar arquivo de treinos"),U(!1)},document.head.appendChild(W)}},[r,e,s.pathname]),z.useEffect(()=>{if(o!=null&&o.youtubeId&&Y){const D=ra(Ee,"comments"),W=Dp(D,kp("createdAt","desc")),ae=Wk(W,Z=>{const me=Z.docs.map(Re=>({id:Re.id,...Re.data()})).filter(Re=>Re.videoId===o.youtubeId);V(me)});return()=>ae()}},[o==null?void 0:o.youtubeId,Ee,Y]);const fe=(D,W)=>{var ae;if(!Y){window.confirm(`Este contedo  exclusivo para assinantes do Team HIIT.

Gostaria de se tornar um assinante para acessar todo o contedo?`)&&window.open("https://wa.me/5511999999999?text=Ol! Gostaria de me tornar assinante do Team HIIT","_blank");return}x(W),u({title:D.title,youtubeId:D.youtubeId,description:D.description,duration:D.duration,level:(h==null?void 0:h.level)||"Todos os nveis",instructor:(h==null?void 0:h.instructor)||"Team HIIT",category:((ae=p==null?void 0:p.categories)==null?void 0:ae[0])||"Treino"}),n(`/video/${D.id}/${D.youtubeId}`,{replace:!0})},Q=D=>{k.current&&k.current.scrollBy({left:D*300,behavior:"smooth"})},se=async D=>{if(D.preventDefault(),!j){alert("Voc precisa estar logado para comentar");return}if(!Y){alert("Apenas assinantes podem comentar");return}if(R.trim()){N(!0);try{await Op(ra(Ee,"comments"),{videoId:o.youtubeId,text:R.trim(),userId:j.uid,userName:j.displayName||j.email,userPhoto:j.photoURL||null,createdAt:au()}),I("")}catch(W){console.error("Erro ao adicionar comentrio:",W),alert("Erro ao adicionar comentrio. Tente novamente.")}finally{N(!1)}}},ue=D=>{if(!D)return"Agora";const W=D.toDate(),Z=Math.floor((new Date-W)/(1e3*60));return Z<1?"Agora":Z<60?`${Z}m atrs`:Z<1440?`${Math.floor(Z/60)}h atrs`:`${Math.floor(Z/1440)}d atrs`},we=()=>{window.open("https://wa.me/5511999999999?text=Ol! Gostaria de me tornar assinante do Team HIIT","_blank")};return S||oe?y.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[y.jsx(Sr,{}),y.jsx("div",{className:"flex items-center justify-center h-96",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-400",children:"Carregando vdeo..."})]})})]}):!o||!h?y.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[y.jsx(Sr,{}),y.jsx("div",{className:"container mx-auto px-6 py-8 pt-24",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Vdeo no encontrado"}),y.jsx("button",{onClick:()=>n("/dashboard"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Voltar ao Dashboard"})]})})]}):y.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[y.jsx(Sr,{}),y.jsxs("div",{className:"w-full relative",style:{height:"50vh"},children:[y.jsx("img",{src:`/${h.image}`,alt:h.title,className:"w-full h-full object-cover"}),y.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:y.jsxs("div",{className:"text-white text-center p-4",children:[y.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-2",children:h.title}),y.jsx("p",{className:"text-lg md:text-xl opacity-90 max-w-3xl mx-auto",children:h.description}),y.jsxs("div",{className:"mt-4 flex justify-center space-x-4",children:[y.jsxs("span",{className:"bg-orange-500 text-white px-4 py-2 rounded-full text-sm",children:[y.jsx(Tr,{className:"w-4 h-4 inline mr-1"}),h.instructor]}),y.jsxs("span",{className:"bg-gray-700 text-white px-4 py-2 rounded-full text-sm",children:[y.jsx(vo,{className:"w-4 h-4 inline mr-1"}),h.duration]}),Y&&y.jsxs("span",{className:"bg-yellow-500 text-black px-4 py-2 rounded-full text-sm flex items-center",children:[y.jsx(_o,{className:"w-4 h-4 mr-1"}),"Assinante"]})]})]})})]}),y.jsxs("div",{className:"container mx-auto px-6 py-8",children:[y.jsx("div",{className:"mb-8",children:y.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors",children:[y.jsx(Nb,{className:"w-5 h-5"}),"Voltar ao Dashboard"]})}),!Y&&y.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl shadow-lg p-6 mb-8",children:y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx(_o,{className:"w-8 h-8 mr-4"}),y.jsxs("div",{children:[y.jsx("h3",{className:"text-xl font-bold",children:"Contedo Exclusivo para Assinantes"}),y.jsx("p",{className:"text-white/90",children:"Torne-se assinante para acessar todos os vdeos e treinos do Team HIIT!"})]})]}),y.jsx("button",{onClick:we,className:"bg-white text-orange-500 hover:bg-gray-100 px-6 py-3 rounded-lg font-semibold transition-colors",children:"Assinar Agora"})]})}),y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[y.jsxs("div",{className:"lg:col-span-2",children:[y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[y.jsx("h3",{className:"text-xl font-bold p-6 border-b border-gray-700 text-white",children:"Vdeo do Treino"}),y.jsx("div",{className:"p-6",children:Y?y.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:y.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${o.youtubeId}`,title:o.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):y.jsx("div",{className:"relative w-full bg-gray-900 rounded-lg flex items-center justify-center",style:{paddingBottom:"56.25%"},children:y.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white",children:[y.jsx(tp,{className:"w-16 h-16 mb-4 text-gray-400"}),y.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Contedo Exclusivo"}),y.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:"Este vdeo  exclusivo para assinantes do Team HIIT. Torne-se um assinante para acessar todo o contedo!"}),y.jsxs("button",{onClick:we,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-8 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 flex items-center",children:[y.jsx(_o,{className:"w-5 h-5 mr-2"}),"Tornar-se Assinante"]})]})})})]}),Y&&y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg mt-6",children:[y.jsx("div",{className:"p-6 border-b border-gray-700",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx(rp,{className:"w-6 h-6 mr-3 text-gray-400"}),y.jsxs("h3",{className:"text-xl font-bold text-white",children:["Comentrios (",ge.length,")"]})]})}),j?y.jsx("div",{className:"p-6 border-b border-gray-700",children:y.jsxs("form",{onSubmit:se,className:"flex space-x-4",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx("img",{src:j.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(j.displayName||j.email)}&background=f97316&color=fff`,alt:j.displayName||j.email,className:"w-10 h-10 rounded-full"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("textarea",{value:R,onChange:D=>I(D.target.value),placeholder:"Adicione um comentrio...",className:"w-full p-3 border border-gray-600 bg-gray-700 text-white rounded-lg resize-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:"3"}),y.jsx("div",{className:"flex justify-end mt-3",children:y.jsxs("button",{type:"submit",disabled:!R.trim()||M,className:"flex items-center bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",children:[y.jsx(kb,{className:"w-4 h-4 mr-2"}),M?"Enviando...":"Comentar"]})})]})]})}):y.jsxs("div",{className:"p-6 border-b border-gray-700 text-center",children:[y.jsx("p",{className:"text-gray-400 mb-4",children:"Faa login para comentar"}),y.jsx("button",{onClick:()=>n("/auth"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Fazer Login"})]}),y.jsx("div",{className:"p-6",children:ge.length>0?y.jsx("div",{className:"space-y-6",children:ge.map(D=>y.jsxs("div",{className:"flex space-x-4",children:[y.jsx("div",{className:"flex-shrink-0",children:y.jsx("img",{src:D.userPhoto||`https://ui-avatars.com/api/?name=${encodeURIComponent(D.userName)}&background=f97316&color=fff`,alt:D.userName,className:"w-10 h-10 rounded-full"})}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[y.jsx("span",{className:"font-semibold text-white",children:D.userName}),y.jsx("span",{className:"text-sm text-gray-400",children:ue(D.createdAt)})]}),y.jsx("p",{className:"text-gray-300 leading-relaxed",children:D.text})]})]},D.id))}):y.jsxs("div",{className:"text-center py-8",children:[y.jsx(rp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),y.jsx("p",{className:"text-gray-400",children:"Seja o primeiro a comentar!"})]})})]})]}),y.jsxs("div",{className:"lg:col-span-1",children:[y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[y.jsx("h3",{className:"text-xl font-bold mb-6 text-white",children:"PRXIMOS TREINOS"}),y.jsxs("div",{className:"relative",children:[w.length>3&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:()=>Q(-1),className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-1 rounded-full transition-all",children:y.jsx(XS,{className:"w-4 h-4"})}),y.jsx("button",{onClick:()=>Q(1),className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-1 rounded-full transition-all",children:y.jsx(Cb,{className:"w-4 h-4"})})]}),y.jsx("div",{ref:k,className:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide",children:w.map((D,W)=>{const ae=D.youtubeId?`https://img.youtube.com/vi/${D.youtubeId}/mqdefault.jpg`:null,Z=W===b;return y.jsxs("div",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-all relative ${Z?"bg-orange-500/20 border border-orange-500":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>fe(D,W),children:[!Y&&y.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-10 rounded-lg",children:y.jsx(tp,{className:"w-4 h-4 text-white"})}),y.jsxs("div",{className:"flex-shrink-0 relative w-16 h-12 mr-3",children:[ae?y.jsx("img",{src:ae,alt:D.title,className:"w-full h-full object-cover rounded"}):y.jsx("div",{className:"w-full h-full bg-gray-600 flex items-center justify-center rounded",children:y.jsx(Av,{className:"w-4 h-4 text-white"})}),Z&&y.jsx("div",{className:"absolute inset-0 bg-orange-500/30 flex items-center justify-center rounded",children:y.jsx(Av,{className:"w-3 h-3 text-white"})})]}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("h4",{className:`font-semibold text-sm truncate ${Z?"text-orange-400":"text-white"}`,children:D.title}),y.jsxs("div",{className:"flex items-center mt-1",children:[y.jsx(vo,{className:"w-3 h-3 text-gray-400 mr-1"}),y.jsx("span",{className:"text-gray-400 text-xs",children:D.duration})]})]})]},D.id)})})]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[y.jsx("h3",{className:"text-xl font-bold mb-6 text-white",children:"Informaes do Treino"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[y.jsxs("div",{className:"flex items-center text-gray-400",children:[y.jsx(vo,{className:"w-5 h-5 mr-3"}),y.jsx("span",{children:"Durao"})]}),y.jsx("span",{className:"font-semibold text-white",children:o.duration})]}),y.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[y.jsxs("div",{className:"flex items-center text-gray-400",children:[y.jsx(wh,{className:"w-5 h-5 mr-3"}),y.jsx("span",{children:"Dificuldade"})]}),y.jsx("span",{className:"font-semibold text-white",children:o.level})]}),y.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[y.jsxs("div",{className:"flex items-center text-gray-400",children:[y.jsx(Tr,{className:"w-5 h-5 mr-3"}),y.jsx("span",{children:"Categoria"})]}),y.jsx("span",{className:"font-semibold text-white",children:o.category})]}),y.jsxs("div",{className:"flex items-center justify-between py-3",children:[y.jsxs("div",{className:"flex items-center text-gray-400",children:[y.jsx(wh,{className:"w-5 h-5 mr-3"}),y.jsx("span",{children:"Avaliao"})]}),y.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((D,W)=>y.jsx(wh,{className:"w-4 h-4 text-yellow-400 fill-current"},W)),y.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"(4.8)"})]})]})]}),Y&&y.jsxs("div",{className:"flex items-center space-x-4 mt-6",children:[y.jsxs("button",{className:"flex items-center bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg transition-colors text-white",children:[y.jsx(HS,{className:"w-5 h-5 mr-2"}),"Salvar"]}),y.jsxs("button",{className:"flex items-center bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg transition-colors text-white",children:[y.jsx(N2,{className:"w-5 h-5 mr-2"}),"Compartilhar"]})]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mt-6",children:[y.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Equipamentos"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),y.jsx("span",{className:"text-gray-300",children:"Peso corporal"})]}),y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),y.jsx("span",{className:"text-gray-300",children:"Tapete de exerccio"})]})]})]}),!Y&&y.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl shadow-lg p-6 mt-6",children:y.jsxs("div",{className:"text-center",children:[y.jsx(_o,{className:"w-12 h-12 mx-auto mb-4"}),y.jsx("h3",{className:"text-xl font-bold mb-2",children:"Torne-se Assinante"}),y.jsx("p",{className:"text-white/90 mb-4",children:"Acesse todos os treinos, comentrios e contedo exclusivo do Team HIIT!"}),y.jsx("button",{onClick:we,className:"bg-white text-orange-500 hover:bg-gray-100 px-6 py-3 rounded-lg font-semibold transition-colors w-full",children:"Assinar Agora"})]})})]})]})]})]})}var Jk="firebase",eO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xr(Jk,eO,"app");const tO={apiKey:"AIzaSyA0ZaV9EJl1z4hT0wd5EL-7RqG2slAE5Kg",authDomain:"comunidade-team-hiit.firebaseapp.com",projectId:"comunidade-team-hiit",storageBucket:"comunidade-team-hiit.firebasestorage.app",messagingSenderId:"106629704358",appId:"1:106629704358:web:7151af4773e2e4c3822267",measurementId:"G-9GDD249KT4"},dw=$b(tO),Kt=JT(dw),nO=_a(dw);function rO(){const[r,e]=z.useState("feed"),[n,s]=z.useState(""),[o,u]=z.useState([]),[h,m]=z.useState(!0),[p,g]=z.useState({}),[b,x]=z.useState(null),[w,P]=z.useState({}),[S,U]=z.useState(null),[j,G]=z.useState({}),Y=["","","","","",""],J=_a();z.useEffect(()=>ad(J,k=>{U(k),k&&oe(k.uid)}),[J]);const oe=async N=>{try{const k=ra(Kt,"userInteractions",N,"posts"),C=await Qm(k),Ee={};C.docs.forEach(fe=>{Ee[fe.id]=fe.data()}),G(Ee)}catch(k){console.error("Erro ao buscar interaes do usurio:",k)}},he=async()=>{m(!0);try{const N=ra(Kt,"posts"),k=Dp(N,kp("timestamp","desc")),C=await Qm(k),Ee=await Promise.all(C.docs.map(async fe=>{const Q={id:fe.id,...fe.data()};let se="";if(Q.authorId){const ae=mn(Kt,"users",Q.authorId),Z=await Co(ae);Z.exists()&&(se=Z.data().photoURL||"")}const ue=ra(Kt,"posts",Q.id,"comments"),we=Dp(ue,kp("timestamp","asc")),D=await Qm(we),W=await Promise.all(D.docs.map(async ae=>{const Z={id:ae.id,...ae.data()};let me="";if(Z.authorId){const Re=mn(Kt,"users",Z.authorId),_e=await Co(Re);_e.exists()&&(me=_e.data().photoURL||"")}return{...Z,authorPhotoURL:me}}));return{...Q,authorPhotoURL:se,commentsList:W}}));u(Ee)}catch(N){console.error("Erro ao buscar posts:",N)}m(!1)},ge=(N,k)=>{u(C=>C.map(Ee=>Ee.id===N?{...Ee,...k}:Ee))};z.useEffect(()=>{he()},[]);const V=async()=>{if(n.trim()!==""){if(!S){alert("Voc precisa estar logado para fazer uma postagem.");return}try{await Op(ra(Kt,"posts"),{content:n,author:S.displayName||S.email,authorId:S.uid,authorPhotoURL:S.photoURL||"",timestamp:au(),likes:0,comments:0,reactions:{}}),s(""),he()}catch(N){console.error("Erro ao adicionar documento: ",N)}}},R=async N=>{if(!S){alert("Voc precisa estar logado para curtir uma postagem.");return}const k=j[N],C=k==null?void 0:k.liked;try{const Ee=mn(Kt,"posts",N),fe=mn(Kt,"userInteractions",S.uid,"posts",N);if(C){await Zl(Ee,{likes:ai(-1)}),await sb(fe),G(se=>{const ue={...se};return delete ue[N],ue});const Q=o.find(se=>se.id===N);ge(N,{likes:Q.likes-1})}else{const Q=k!=null&&k.reaction?0:1;await Zl(Ee,{likes:ai(Q),...(k==null?void 0:k.reaction)&&{[`reactions.${k.reaction}`]:ai(-1)}}),await Do(fe,{liked:!0,timestamp:au()}),G(we=>({...we,[N]:{liked:!0,timestamp:new Date}}));const se=o.find(we=>we.id===N),ue={likes:se.likes+Q};k!=null&&k.reaction&&(ue.reactions={...se.reactions,[k.reaction]:(se.reactions[k.reaction]||1)-1}),ge(N,ue)}}catch(Ee){console.error("Erro ao curtir post: ",Ee)}},I=async N=>{const k=p[N];if(!(!k||k.trim()==="")){if(!S){alert("Voc precisa estar logado para comentar uma postagem.");return}try{const C=mn(Kt,"posts",N),Ee={content:k,author:S.displayName||S.email,authorId:S.uid,authorPhotoURL:S.photoURL||"",timestamp:au()};await Op(ra(Kt,"posts",N,"comments"),Ee),await Zl(C,{comments:ai(1)});const fe=o.find(se=>se.id===N),Q={...Ee,id:Date.now().toString(),timestamp:new Date};ge(N,{comments:fe.comments+1,commentsList:[...fe.commentsList||[],Q]}),g(se=>({...se,[N]:""}))}catch(C){console.error("Erro ao comentar post: ",C)}}},M=async(N,k)=>{if(!S){alert("Voc precisa estar logado para reagir a uma postagem.");return}const C=j[N],Ee=C==null?void 0:C.reaction;try{const fe=mn(Kt,"posts",N),Q=mn(Kt,"userInteractions",S.uid,"posts",N);if(Ee===k){await Zl(fe,{[`reactions.${k}`]:ai(-1),...(C==null?void 0:C.liked)&&{likes:ai(-1)}}),await sb(Q),G(we=>{const D={...we};return delete D[N],D});const se=o.find(we=>we.id===N),ue={reactions:{...se.reactions,[k]:(se.reactions[k]||1)-1}};C!=null&&C.liked&&(ue.likes=se.likes-1),ge(N,ue)}else{const se={[`reactions.${k}`]:ai(1)};Ee&&(se[`reactions.${Ee}`]=ai(-1)),C!=null&&C.liked&&(se.likes=ai(-1)),await Zl(fe,se),await Do(Q,{reaction:k,timestamp:au()}),G(D=>({...D,[N]:{reaction:k,timestamp:new Date}}));const ue=o.find(D=>D.id===N),we={reactions:{...ue.reactions,[k]:(ue.reactions[k]||0)+1}};Ee&&(we.reactions[Ee]=(ue.reactions[Ee]||1)-1),C!=null&&C.liked&&(we.likes=ue.likes-1),ge(N,we)}x(null)}catch(fe){console.error("Erro ao reagir ao post: ",fe)}};return y.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[y.jsx(Sr,{}),y.jsxs("div",{className:"container mx-auto px-6 py-8 pt-20",children:[y.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Comunidade"}),y.jsxs("div",{className:"flex border-b border-gray-700 mb-8",children:[y.jsx("button",{className:`px-6 py-3 text-lg font-medium ${r==="feed"?"border-b-2 border-red-500 text-red-500":"text-gray-400 hover:text-white"}`,onClick:()=>e("feed"),children:"Feed"}),y.jsx("button",{className:`px-6 py-3 text-lg font-medium ${r==="announcements"?"border-b-2 border-red-500 text-red-500":"text-gray-400 hover:text-white"}`,onClick:()=>e("announcements"),children:"Anncios"})]}),r==="feed"&&y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[y.jsx("textarea",{className:"w-full p-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 mb-4",rows:"3",placeholder:S?"O que voc est pensando?":"Faa login para postar...",value:n,onChange:N=>s(N.target.value),disabled:!S}),y.jsxs("button",{className:`w-full font-bold py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors duration-200 ${S?"bg-red-600 hover:bg-red-700":"bg-gray-600 cursor-not-allowed"}`,onClick:V,disabled:!S,children:[y.jsx(n2,{className:"w-5 h-5"}),y.jsx("span",{children:"Publicar"})]})]}),h?y.jsx("div",{className:"text-center text-gray-400",children:"Carregando posts..."}):o.length===0?y.jsx("div",{className:"text-center text-gray-400",children:"Nenhum post ainda. Seja o primeiro a publicar!"}):o.map(N=>{const k=j[N.id],C=k==null?void 0:k.liked,Ee=k==null?void 0:k.reaction;return y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 relative",children:[y.jsxs("div",{className:"flex items-center mb-4",children:[N.authorPhotoURL?y.jsx("img",{src:N.authorPhotoURL,alt:"User Avatar",className:"w-10 h-10 rounded-full mr-3 object-cover"}):y.jsx("div",{className:"w-10 h-10 rounded-full mr-3 bg-gray-700 flex items-center justify-center text-gray-400",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-white",children:N.author}),y.jsx("p",{className:"text-sm text-gray-400",children:N.timestamp?new Date(N.timestamp.toDate()).toLocaleString():"Carregando..."})]})]}),y.jsx("p",{className:"text-gray-300 mb-4",children:N.content}),y.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[y.jsxs("div",{className:"flex space-x-4",children:[y.jsxs("button",{className:`flex items-center space-x-1 transition-colors ${S?C?"text-red-500 hover:text-red-400":"hover:text-red-500":"cursor-not-allowed text-gray-500"}`,onClick:()=>R(N.id),disabled:!S,children:[y.jsx(M2,{className:`w-4 h-4 ${C?"fill-current":""}`}),y.jsx("span",{className:"text-sm",children:N.likes||0})]}),y.jsxs("button",{className:`flex items-center space-x-1 ${S?"hover:text-blue-500":"cursor-not-allowed text-gray-500"}`,onClick:()=>P(fe=>({...fe,[N.id]:!fe[N.id]})),disabled:!S,children:[y.jsx(rp,{className:"w-4 h-4"})," ",y.jsx("span",{className:"text-sm",children:N.comments||0})]}),y.jsxs("div",{className:"relative",children:[y.jsx("button",{className:`flex items-center space-x-1 transition-colors ${S?Ee?"text-yellow-500 hover:text-yellow-400":"hover:text-yellow-500":"cursor-not-allowed text-gray-500"}`,onClick:()=>x(b===N.id?null:N.id),disabled:!S,children:Ee?y.jsx("span",{className:"text-lg",children:Ee}):y.jsx(C2,{className:"w-4 h-4"})}),b===N.id&&y.jsx("div",{className:"absolute bottom-full left-0 mb-2 bg-gray-700 p-2 rounded-lg shadow-lg flex space-x-1 z-10",children:Y.map(fe=>y.jsx("button",{className:`text-xl hover:scale-110 transition-transform ${Ee===fe?"bg-gray-600 rounded":""}`,onClick:()=>M(N.id,fe),children:fe},fe))})]})]}),y.jsx("div",{className:"flex space-x-2",children:Object.entries(N.reactions||{}).map(([fe,Q])=>Q>0&&y.jsxs("span",{className:"text-sm bg-gray-700 px-2 py-1 rounded-full",children:[fe," ",Q]},fe))})]}),y.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[y.jsx("input",{type:"text",className:`flex-grow p-2 rounded-lg ${S?"bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,placeholder:S?"Escreva um comentrio...":"Faa login para comentar...",value:p[N.id]||"",onChange:fe=>g(Q=>({...Q,[N.id]:fe.target.value})),disabled:!S,onKeyPress:fe=>{fe.key==="Enter"&&I(N.id)}}),y.jsx("button",{className:`p-2 rounded-lg transition-colors duration-200 ${S?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,onClick:()=>I(N.id),disabled:!S,children:y.jsx(kb,{className:"w-5 h-5"})})]}),w[N.id]&&N.commentsList&&N.commentsList.length>0&&y.jsx("div",{className:"mt-4 border-t border-gray-700 pt-4 space-y-3",children:N.commentsList.map(fe=>y.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[y.jsxs("div",{className:"flex items-center mb-1",children:[fe.authorPhotoURL?y.jsx("img",{src:fe.authorPhotoURL,alt:"Commenter Avatar",className:"w-6 h-6 rounded-full mr-2 object-cover"}):y.jsx("div",{className:"w-6 h-6 rounded-full mr-2 bg-gray-600 flex items-center justify-center text-gray-400",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),y.jsx("p",{className:"font-semibold text-white text-sm",children:fe.author}),y.jsx("p",{className:"text-xs text-gray-400 ml-2",children:fe.timestamp?new Date(fe.timestamp.toDate?fe.timestamp.toDate():fe.timestamp).toLocaleString():"Carregando..."})]}),y.jsx("p",{className:"text-gray-300 text-sm",children:fe.content})]},fe.id))})]},N.id)})]}),r==="announcements"&&y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Anncios Importantes"}),y.jsx("p",{className:"text-gray-300",children:"Aqui sero exibidos os anncios da equipe Team HIIT. Fique ligado para novidades, eventos e promoes!"}),y.jsxs("ul",{className:"list-disc list-inside mt-4 text-gray-300",children:[y.jsx("li",{children:"Novo desafio de 30 dias comeando em 01/07!"}),y.jsx("li",{children:"Live especial com o Renan Gonalves na prxima semana."}),y.jsx("li",{children:"Desconto exclusivo para membros premium."})]})]})]})]})}function iO(){const[r,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[h,m]=z.useState(""),[p,g]=z.useState(""),[b,x]=z.useState(!1),[w,P]=z.useState(!1),S=ms(),U=nO,j=async J=>{J.preventDefault(),g("");try{if(r)await NI(U,n,o),S("/community");else{const oe=await RI(U,n,o);await y1(oe.user,{displayName:h}),await Do(mn(Kt,"users",oe.user.uid),{email:oe.user.email,displayName:h,createdAt:new Date}),S("/community")}}catch(oe){console.error("Erro no handleSubmit:",oe),g(oe.message)}},G=async J=>{J.preventDefault(),g(""),P(!1);try{await SI(U,n),P(!0),g("E-mail de redefinio de senha enviado! Verifique sua caixa de entrada.")}catch(oe){console.error("Erro no handlePasswordReset:",oe),g(oe.message)}},Y=async()=>{g("");try{const J=new oi;console.log("Firebase Auth instance:",U);const oe=await WI(U,J);await Do(mn(Kt,"users",oe.user.uid),{email:oe.user.email,displayName:oe.user.displayName||oe.user.email,createdAt:new Date},{merge:!0}),S("/community")}catch(J){console.error("Erro no handleGoogleSignIn:",J),g(J.message)}};return y.jsx("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100 flex items-center justify-center",children:y.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-md",children:[y.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:b?"Redefinir Senha":r?"Entrar":"Criar Conta"}),p&&y.jsx("p",{className:"text-red-500 text-center mb-4",children:p}),b?y.jsxs("form",{onSubmit:G,children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"resetEmail",className:"block text-gray-300 text-sm font-bold mb-2",children:"E-mail para redefinio:"}),y.jsx("input",{type:"email",id:"resetEmail",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:n,onChange:J=>s(J.target.value),required:!0})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-200",children:"Enviar E-mail de Redefinio"}),y.jsx("button",{type:"button",onClick:()=>x(!1),className:"inline-block align-baseline font-bold text-sm text-gray-400 hover:text-gray-200",children:"Voltar para o Login"})]}),w&&y.jsx("p",{className:"text-green-500 text-center mt-4",children:"E-mail de redefinio enviado! Verifique sua caixa de entrada."})]}):y.jsxs("form",{onSubmit:j,children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"email",className:"block text-gray-300 text-sm font-bold mb-2",children:"E-mail:"}),y.jsx("input",{type:"email",id:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:n,onChange:J=>s(J.target.value),required:!0})]}),!r&&y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{htmlFor:"displayName",className:"block text-gray-300 text-sm font-bold mb-2",children:"Nome de Exibio (opcional):"}),y.jsx("input",{type:"text",id:"displayName",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:h,onChange:J=>m(J.target.value)})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{htmlFor:"password",className:"block text-gray-300 text-sm font-bold mb-2",children:"Senha:"}),y.jsx("input",{type:"password",id:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white mb-3 leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:o,onChange:J=>u(J.target.value),required:!0})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-200",children:r?"Entrar":"Registrar"}),y.jsx("button",{type:"button",onClick:()=>e(!r),className:"inline-block align-baseline font-bold text-sm text-red-500 hover:text-red-800",children:r?"No tem uma conta? Crie uma!":"J tem uma conta? Faa login!"})]}),r&&y.jsx("div",{className:"text-center mt-4",children:y.jsx("button",{type:"button",onClick:()=>x(!0),className:"inline-block align-baseline font-bold text-sm text-gray-400 hover:text-gray-200",children:"Esqueceu a senha?"})})]}),!b&&y.jsx("div",{className:"mt-6",children:y.jsxs("button",{type:"button",onClick:Y,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-200 flex items-center justify-center",children:[y.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"w-5 h-5 mr-2"}),"Entrar com Google"]})})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="firebasestorage.googleapis.com",mw="storageBucket",sO=2*60*1e3,aO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t extends kr{constructor(e,n,s=0){super(Ym(e),`Firebase Storage: ${n} (${Ym(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function Ym(r){return"storage/"+r}function Gg(){const r="An unknown error occurred, please check the error payload for server response.";return new _t(yt.UNKNOWN,r)}function oO(r){return new _t(yt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function lO(r){return new _t(yt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new _t(yt.UNAUTHENTICATED,r)}function cO(){return new _t(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function hO(r){return new _t(yt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function dO(){return new _t(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fO(){return new _t(yt.CANCELED,"User canceled the upload/download.")}function mO(r){return new _t(yt.INVALID_URL,"Invalid URL '"+r+"'.")}function pO(r){return new _t(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function gO(){return new _t(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+mw+"' property when initializing the app?")}function yO(){return new _t(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _O(){return new _t(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vO(r){return new _t(yt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mp(r){return new _t(yt.INVALID_ARGUMENT,r)}function pw(){return new _t(yt.APP_DELETED,"The Firebase app was deleted.")}function EO(r){return new _t(yt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function fu(r,e){return new _t(yt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Jl(r){throw new _t(yt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Nn.makeFromUrl(e,n)}catch{return new Nn(e,"")}if(s.path==="")return s;throw pO(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(oe){oe.path_=decodeURIComponent(oe.path)}const b="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",P=new RegExp(`^https?://${x}/${b}/b/${o}/o${w}`,"i"),S={bucket:1,path:3},U=n===fw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,j="([^?#]*)",G=new RegExp(`^https?://${U}/${o}/${j}`,"i"),J=[{regex:m,indices:p,postModify:u},{regex:P,indices:S,postModify:g},{regex:G,indices:{bucket:1,path:2},postModify:g}];for(let oe=0;oe<J.length;oe++){const he=J[oe],ge=he.regex.exec(e);if(ge){const V=ge[he.indices.bucket];let R=ge[he.indices.path];R||(R=""),s=new Nn(V,R),he.postModify(s);break}}if(s==null)throw mO(e);return s}}class bO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(r,e,n){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function b(...j){g||(g=!0,e.apply(null,j))}function x(j){o=setTimeout(()=>{o=null,r(P,p())},j)}function w(){u&&clearTimeout(u)}function P(j,...G){if(g){w();return}if(j){w(),b.call(null,j,...G);return}if(p()||h){w(),b.call(null,j,...G);return}s<64&&(s*=2);let J;m===1?(m=2,J=0):J=(s+Math.random())*1e3,x(J)}let S=!1;function U(j){S||(S=!0,w(),!g&&(o!==null?(j||(m=2),clearTimeout(o),x(0)):j||(m=1)))}return x(0),u=setTimeout(()=>{h=!0,U(!0)},n),U}function wO(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(r){return r!==void 0}function AO(r){return typeof r=="object"&&!Array.isArray(r)}function $g(r){return typeof r=="string"||r instanceof String}function ab(r){return Kg()&&r instanceof Blob}function Kg(){return typeof Blob<"u"}function ob(r,e,n,s){if(s<e)throw Mp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>n)throw Mp(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(r,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${r}`}function gw(r){const e=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var la;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(la||(la={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e,n,s,o,u,h,m,p,g,b,x,w=!0,P=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=x,this.retry=w,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,U)=>{this.resolve_=S,this.reject_=U,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new vh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===la.NO_ERROR,p=u.getStatus();if(!m||SO(p,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===la.ABORT;s(!1,new vh(!1,null,b));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new vh(g,u))})},n=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());xO(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Gg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?pw():fO();h(p)}else{const p=dO();h(p)}};this.canceled_?n(!1,new vh(!1,null,!0)):this.backoffId_=TO(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class vh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function NO(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function IO(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CO(r,e){e&&(r["X-Firebase-GMPID"]=e)}function DO(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function kO(r,e,n,s,o,u,h=!0,m=!1){const p=gw(r.urlParams),g=r.url+p,b=Object.assign({},r.headers);return CO(b,e),NO(b,n),IO(b,u),DO(b,s),new RO(g,r.method,b,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function MO(...r){const e=OO();if(e!==void 0){const n=new e;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(Kg())return new Blob(r);throw new _t(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PO(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(r){if(typeof atob>"u")throw vO("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xm{constructor(e,n){this.data=e,this.contentType=n||null}}function jO(r,e){switch(r){case wr.RAW:return new Xm(yw(e));case wr.BASE64:case wr.BASE64URL:return new Xm(_w(r,e));case wr.DATA_URL:return new Xm(UO(e),zO(e))}throw Gg()}function yw(r){const e=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++n);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function LO(r){let e;try{e=decodeURIComponent(r)}catch{throw fu(wr.DATA_URL,"Malformed data URL.")}return yw(e)}function _w(r,e){switch(r){case wr.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw fu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case wr.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw fu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=VO(e)}catch(o){throw o.message.includes("polyfill")?o:fu(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}class vw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw fu(wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=BO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function UO(r){const e=new vw(r);return e.base64?_w(wr.BASE64,e.rest):LO(e.rest)}function zO(r){return new vw(r).contentType}function BO(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n){let s=0,o="";ab(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(ab(this.data_)){const s=this.data_,o=PO(s,e,n);return o===null?null:new es(o)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new es(s,!0)}}static getBlob(...e){if(Kg()){const n=e.map(s=>s instanceof es?s.data_:s);return new es(MO.apply(null,n))}else{const n=e.map(h=>$g(h)?jO(wr.RAW,h).data:h.data_);let s=0;n.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return n.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new es(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r){let e;try{e=JSON.parse(r)}catch{return null}return AO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function HO(r,e){const n=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function bw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(r,e){return e}class un{constructor(e,n,s,o){this.server=e,this.local=n||e,this.writable=!!s,this.xform=o||FO}}let Eh=null;function GO(r){return!$g(r)||r.length<2?r:bw(r)}function Tw(){if(Eh)return Eh;const r=[];r.push(new un("bucket")),r.push(new un("generation")),r.push(new un("metageneration")),r.push(new un("name","fullPath",!0));function e(u,h){return GO(h)}const n=new un("name");n.xform=e,r.push(n);function s(u,h){return h!==void 0?Number(h):h}const o=new un("size");return o.xform=s,r.push(o),r.push(new un("timeCreated")),r.push(new un("updated")),r.push(new un("md5Hash",null,!0)),r.push(new un("cacheControl",null,!0)),r.push(new un("contentDisposition",null,!0)),r.push(new un("contentEncoding",null,!0)),r.push(new un("contentLanguage",null,!0)),r.push(new un("contentType",null,!0)),r.push(new un("metadata","customMetadata",!0)),Eh=r,Eh}function $O(r,e){function n(){const s=r.bucket,o=r.fullPath,u=new Nn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function KO(r,e,n){const s={};s.type="file";const o=n.length;for(let u=0;u<o;u++){const h=n[u];s[h.local]=h.xform(s,e[h.server])}return $O(s,r),s}function ww(r,e,n){const s=Ew(e);return s===null?null:KO(r,s,n)}function QO(r,e,n,s){const o=Ew(e);if(o===null||!$g(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const b=r.bucket,x=r.fullPath,w="/b/"+h(b)+"/o/"+h(x),P=Qg(w,n,s),S=gw({alt:"media",token:g});return P+S})[0]}function YO(r,e){const n={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class xw{constructor(e,n,s,o){this.url=e,this.method=n,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(r){if(!r)throw Gg()}function XO(r,e){function n(s,o){const u=ww(r,o,e);return Aw(u!==null),u}return n}function WO(r,e){function n(s,o){const u=ww(r,o,e);return Aw(u!==null),QO(u,o,r.host,r._protocol)}return n}function Sw(r){function e(n,s){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=cO():o=uO():n.getStatus()===402?o=lO(r.bucket):n.getStatus()===403?o=hO(r.path):o=s,o.status=n.getStatus(),o.serverResponse=s.serverResponse,o}return e}function ZO(r){const e=Sw(r);function n(s,o){let u=e(s,o);return s.getStatus()===404&&(u=oO(r.path)),u.serverResponse=o.serverResponse,u}return n}function JO(r,e,n){const s=e.fullServerUrl(),o=Qg(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new xw(o,u,WO(r,n),h);return m.errorHandler=ZO(e),m}function e6(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function t6(r,e,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=e6(null,e)),s}function n6(r,e,n,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let J="";for(let oe=0;oe<2;oe++)J=J+Math.random().toString().slice(2);return J}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=t6(e,s,o),b=YO(g,n),x="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",P=es.getBlob(x,s,w);if(P===null)throw yO();const S={name:g.fullPath},U=Qg(u,r.host,r._protocol),j="POST",G=r.maxUploadRetryTime,Y=new xw(U,j,XO(r,n),G);return Y.urlParams=S,Y.headers=h,Y.body=P.uploadData(),Y.errorHandler=Sw(e),Y}class r6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=la.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=la.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=la.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,o,u){if(this.sent_)throw Jl("cannot .send() more than once");if(ps(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Jl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Jl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Jl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Jl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class i6 extends r6{initXhr(){this.xhr_.responseType="text"}}function Rw(){return new i6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this._service=e,n instanceof Nn?this._location=n:this._location=Nn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pa(e,n)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bw(this._location.path)}get storage(){return this._service}get parent(){const e=qO(this._location.path);if(e===null)return null;const n=new Nn(this._location.bucket,e);return new pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw EO(e)}}function s6(r,e,n){r._throwIfRoot("uploadBytes");const s=n6(r.storage,r._location,Tw(),new es(e,!0),n);return r.storage.makeRequestWithTokens(s,Rw).then(o=>({metadata:o,ref:r}))}function a6(r){r._throwIfRoot("getDownloadURL");const e=JO(r.storage,r._location,Tw());return r.storage.makeRequestWithTokens(e,Rw).then(n=>{if(n===null)throw _O();return n})}function o6(r,e){const n=HO(r._location.path,e),s=new Nn(r._location.bucket,n);return new pa(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(r){return/^[A-Za-z]+:\/\//.test(r)}function u6(r,e){return new pa(r,e)}function Nw(r,e){if(r instanceof Yg){const n=r;if(n._bucket==null)throw gO();const s=new pa(n,n._bucket);return e!=null?Nw(s,e):s}else return e!==void 0?o6(r,e):r}function c6(r,e){if(e&&l6(e)){if(r instanceof Yg)return u6(r,e);throw Mp("To use ref(service, url), the first argument must be a Storage instance.")}else return Nw(r,e)}function lb(r,e){const n=e==null?void 0:e[mw];return n==null?null:Nn.makeFromBucketSpec(n,r)}function h6(r,e,n,s={}){r.host=`${e}:${n}`;const o=ps(e);o&&(Hp(`https://${r.host}/b`),Fp("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:Hb(u,r.app.options.projectId))}class Yg{constructor(e,n,s,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=fw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sO,this._maxUploadRetryTime=aO,this._requests=new Set,o!=null?this._bucket=Nn.makeFromBucketSpec(o,this._host):this._bucket=lb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=lb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ob("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ob("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pa(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new bO(pw());{const h=kO(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const ub="@firebase/storage",cb="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="storage";function d6(r,e,n){return r=ct(r),s6(r,e,n)}function f6(r){return r=ct(r),a6(r)}function m6(r,e){return r=ct(r),c6(r,e)}function p6(r=Kp(),e){r=ct(r);const s=id(r,Iw).getImmediate({identifier:e}),o=zb("storage");return o&&g6(s,...o),s}function g6(r,e,n,s={}){h6(r,e,n,s)}function y6(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Yg(n,s,o,e,ya)}function _6(){ca(new as(Iw,y6,"PUBLIC").setMultipleInstances(!0)),xr(ub,cb,""),xr(ub,cb,"esm2017")}_6();function v6(){const r=_a(),e=p6(),n=ms(),[s,o]=z.useState(null),[u,h]=z.useState({completedWorkouts:0,completedWeeks:0,achievements:0}),[m,p]=z.useState(!1),[g,b]=z.useState(!0),[x,w]=z.useState(!1),[P,S]=z.useState(!1),[U,j]=z.useState(""),[G,Y]=z.useState({displayName:"",email:"",phone:"",photoURL:""}),[J,oe]=z.useState(null);z.useEffect(()=>{const I=r.onAuthStateChanged(async M=>{if(M){o(M),Y({displayName:M.displayName||"",email:M.email||"",phone:"",photoURL:M.photoURL||""});try{const N=await Co(mn(Kt,"users",M.uid));if(N.exists()){const k=N.data();p(k.isSubscriber||!1),Y(C=>({...C,phone:k.phone||""})),h({completedWorkouts:k.completedWorkouts||0,completedWeeks:k.completedWeeks||0,achievements:k.achievements||0})}}catch(N){console.error("Erro ao buscar dados do usurio:",N)}}else o(null),n("/login");b(!1)});return()=>I()},[r,n]);const he=async()=>{try{await _1(r),n("/login")}catch(I){console.error("Erro ao fazer logout:",I)}},ge=I=>{I.target.files[0]&&oe(I.target.files[0])},V=async()=>{if(s)try{S(!0),j("Atualizando perfil...");let I=G.photoURL;if(J){j("Fazendo upload da foto...");const k=m6(e,`profile_pictures/${s.uid}/${J.name}`);await d6(k,J),I=await f6(k)}await y1(s,{displayName:G.displayName,photoURL:I});const M=mn(Kt,"users",s.uid);(await Co(M)).exists()?await Do(M,{displayName:G.displayName,photoURL:I,phone:G.phone,updatedAt:new Date},{merge:!0}):await Do(M,{email:s.email,displayName:G.displayName,photoURL:I,phone:G.phone,createdAt:new Date,isSubscriber:!1,completedWorkouts:0,completedWeeks:0,achievements:0}),Y(k=>({...k,photoURL:I})),oe(null),w(!1),j("Perfil atualizado com sucesso!"),setTimeout(()=>j(""),3e3)}catch(I){console.error("Erro ao atualizar perfil:",I),j(`Erro ao atualizar perfil: ${I.message}`)}finally{S(!1)}},R=I=>{const{name:M,value:N}=I.target;Y(k=>({...k,[M]:N}))};return g?y.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[y.jsx(Sr,{}),y.jsx("div",{className:"flex items-center justify-center h-96",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})})]}):s?y.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[y.jsx(Sr,{}),y.jsxs("div",{className:"container mx-auto px-6 py-8 pt-20",children:[y.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Meu Perfil"}),y.jsx("div",{className:"bg-gray-800 rounded-xl shadow-lg p-8 mb-6",children:y.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[y.jsxs("div",{className:"relative",children:[y.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center text-white overflow-hidden",children:G.photoURL?y.jsx("img",{src:G.photoURL,alt:"Foto de perfil",className:"w-32 h-32 rounded-full object-cover"}):y.jsx(Tr,{size:48})}),y.jsxs("label",{className:"absolute -bottom-1 -right-1 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors cursor-pointer",children:[y.jsx($S,{size:16}),y.jsx("input",{type:"file",className:"hidden",onChange:ge,accept:"image/*"})]})]}),y.jsxs("div",{className:"flex-1 text-center md:text-left",children:[y.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[y.jsx("h2",{className:"text-2xl font-bold text-white",children:G.displayName||"Usurio"}),m&&y.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:[y.jsx(_o,{size:14}),"Assinante"]})]}),y.jsx("p",{className:"text-gray-400 mb-4",children:G.email}),y.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[y.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[y.jsx("div",{className:"text-2xl font-bold text-red-500",children:u.completedWorkouts}),y.jsx("div",{className:"text-sm text-gray-400",children:"Treinos"})]}),y.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[y.jsx("div",{className:"text-2xl font-bold text-green-500",children:u.completedWeeks}),y.jsx("div",{className:"text-sm text-gray-400",children:"Semanas"})]}),y.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[y.jsx("div",{className:"text-2xl font-bold text-purple-500",children:u.achievements}),y.jsx("div",{className:"text-sm text-gray-400",children:"Conquistas"})]})]})]})]})}),y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[y.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 p-2 rounded-lg",children:y.jsx(Ph,{className:"text-white",size:20})}),y.jsx("h3",{className:"text-xl font-semibold text-white",children:"Jornada HIIT"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(ip,{className:"text-red-500",size:20}),y.jsx("span",{className:"text-gray-300",children:"Treinos Concludos"})]}),y.jsx("span",{className:"font-semibold text-red-500",children:u.completedWorkouts})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(ep,{className:"text-green-500",size:20}),y.jsx("span",{className:"text-gray-300",children:"Semanas Completas"})]}),y.jsx("span",{className:"font-semibold text-green-500",children:u.completedWeeks})]}),y.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Ib,{className:"text-purple-500",size:20}),y.jsx("span",{className:"text-gray-300",children:"Conquistas"})]}),y.jsx("span",{className:"font-semibold text-purple-500",children:u.achievements})]})]}),y.jsx("button",{onClick:()=>n("/jornada-hiit"),className:"w-full mt-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 px-4 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200 font-medium",children:"Ver Jornada Completa"})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h3",{className:"text-xl font-semibold text-white",children:"Informaes da Conta"}),y.jsxs("button",{onClick:()=>w(!x),className:"flex items-center gap-2 text-red-500 hover:text-red-400 transition-colors",children:[y.jsx(v2,{size:16}),x?"Cancelar":"Editar"]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome Completo"}),x?y.jsx("input",{type:"text",name:"displayName",value:G.displayName,onChange:R,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Seu nome completo"}):y.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-700 rounded-lg",children:[y.jsx(Tr,{className:"text-gray-400",size:16}),y.jsx("span",{className:"text-gray-300",children:G.displayName||"No informado"})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),y.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-700 rounded-lg",children:[y.jsx(d2,{className:"text-gray-400",size:16}),y.jsx("span",{className:"text-gray-300",children:G.email})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telefone"}),x?y.jsx("input",{type:"tel",name:"phone",value:G.phone,onChange:R,placeholder:"(11) 99999-9999",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"}):y.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-700 rounded-lg",children:[y.jsx(b2,{className:"text-gray-400",size:16}),y.jsx("span",{className:"text-gray-300",children:G.phone||"No informado"})]})]})]}),x&&y.jsx("button",{onClick:V,disabled:P,className:"w-full mt-4 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:P?y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Salvando..."]}):"Salvar Alteraes"})]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mt-6",children:[y.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Gerenciar Assinatura"}),y.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("div",{className:`w-3 h-3 rounded-full ${m?"bg-green-500":"bg-red-500"}`}),y.jsx("span",{className:"font-medium text-white",children:m?"Plano Ativo":"Plano Inativo"})]}),y.jsx("p",{className:"text-gray-400 text-sm",children:m?"Voc tem acesso completo a todos os treinos e funcionalidades.":"Assine para ter acesso completo  plataforma."})]}),y.jsx("button",{className:"bg-gradient-to-r from-green-600 to-red-600 text-white py-2 px-6 rounded-lg hover:from-green-700 hover:to-red-700 transition-all duration-200 font-medium",children:m?"Gerenciar Assinatura":"Assinar Agora"})]})]}),U&&y.jsx("div",{className:`mt-4 p-4 rounded-lg text-center ${U.includes("sucesso")?"bg-green-600 text-white":U.includes("Erro")?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:U}),y.jsx("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mt-6",children:y.jsxs("button",{onClick:he,className:"flex items-center gap-2 text-red-500 hover:text-red-400 transition-colors font-medium",children:[y.jsx(np,{size:20}),"Sair da Conta"]})})]})]}):y.jsx("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100 flex items-center justify-center",children:"Voc precisa estar logado para ver esta pgina."})}const E6=()=>{const r=_a(),e=ms(),[n,s]=z.useState(null),[o,u]=z.useState({completedWorkouts:0,completedWeeks:0,achievements:0,totalMinutes:0,streak:0,level:1,xp:0}),[h,m]=z.useState(!0),p=[{id:"first_workout",title:"Primeiro Passo",description:"Complete seu primeiro treino",icon:y.jsx(ip,{className:"w-8 h-8"}),requirement:1,type:"workouts",color:"from-blue-500 to-blue-600",unlocked:!1},{id:"week_warrior",title:"Guerreiro Semanal",description:"Complete uma semana inteira",icon:y.jsx(ep,{className:"w-8 h-8"}),requirement:1,type:"weeks",color:"from-green-500 to-green-600",unlocked:!1},{id:"fire_starter",title:"Iniciador de Fogo",description:"Complete 5 treinos",icon:y.jsx(wv,{className:"w-8 h-8"}),requirement:5,type:"workouts",color:"from-orange-500 to-red-500",unlocked:!1},{id:"lightning_bolt",title:"Raio Veloz",description:"Complete 10 treinos",icon:y.jsx(Pb,{className:"w-8 h-8"}),requirement:10,type:"workouts",color:"from-yellow-500 to-orange-500",unlocked:!1},{id:"time_master",title:"Mestre do Tempo",description:"Acumule 60 minutos de treino",icon:y.jsx(vo,{className:"w-8 h-8"}),requirement:60,type:"minutes",color:"from-purple-500 to-purple-600",unlocked:!1},{id:"streak_master",title:"Sequncia Perfeita",description:"Mantenha uma sequncia de 7 dias",icon:y.jsx(Ob,{className:"w-8 h-8"}),requirement:7,type:"streak",color:"from-pink-500 to-purple-500",unlocked:!1},{id:"month_champion",title:"Campeo Mensal",description:"Complete 4 semanas",icon:y.jsx(m2,{className:"w-8 h-8"}),requirement:4,type:"weeks",color:"from-indigo-500 to-purple-600",unlocked:!1},{id:"hiit_legend",title:"Lenda HIIT",description:"Complete 50 treinos",icon:y.jsx(_o,{className:"w-8 h-8"}),requirement:50,type:"workouts",color:"from-yellow-400 to-yellow-600",unlocked:!1}],g=[{level:1,xpRequired:0,title:"Iniciante"},{level:2,xpRequired:100,title:"Aprendiz"},{level:3,xpRequired:250,title:"Praticante"},{level:4,xpRequired:500,title:"Experiente"},{level:5,xpRequired:1e3,title:"Veterano"},{level:6,xpRequired:2e3,title:"Expert"},{level:7,xpRequired:3500,title:"Mestre"},{level:8,xpRequired:5e3,title:"Lenda"}];z.useEffect(()=>{const S=r.onAuthStateChanged(async U=>{if(U){s(U);try{const j=await Co(mn(Kt,"users",U.uid));if(j.exists()){const G=j.data(),Y={completedWorkouts:G.completedWorkouts||0,completedWeeks:G.completedWeeks||0,achievements:G.achievements||0,totalMinutes:G.totalMinutes||0,streak:G.streak||0,level:G.level||1,xp:G.xp||0};u(Y)}}catch(j){console.error("Erro ao buscar dados do usurio:",j)}}else e("/login");m(!1)});return()=>S()},[r,e]);const b=p.map(S=>{let U=!1;switch(S.type){case"workouts":U=o.completedWorkouts>=S.requirement;break;case"weeks":U=o.completedWeeks>=S.requirement;break;case"minutes":U=o.totalMinutes>=S.requirement;break;case"streak":U=o.streak>=S.requirement;break}return{...S,unlocked:U}}),x=g.find(S=>o.xp>=S.xpRequired&&(g[S.level]?o.xp<g[S.level].xpRequired:!0))||g[0],w=g.find(S=>S.level===x.level+1),P=w?(o.xp-x.xpRequired)/(w.xpRequired-x.xpRequired)*100:100;return h?y.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[y.jsx(Sr,{}),y.jsx("div",{className:"flex items-center justify-center h-96",children:y.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})})]}):y.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[y.jsx(Sr,{}),y.jsxs("div",{className:"container mx-auto px-6 py-8 pt-20",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>e("/profile"),className:"text-gray-400 hover:text-white transition-colors",children:y.jsx(Nb,{size:24})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-4xl font-bold text-white",children:"Jornada HIIT"}),y.jsx("p",{className:"text-gray-400",children:"Acompanhe seu progresso e conquistas"})]})]}),y.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-6 mb-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("div",{children:[y.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Nvel ",x.level]}),y.jsx("p",{className:"text-red-100",children:x.title})]}),y.jsxs("div",{className:"text-right",children:[y.jsx("p",{className:"text-red-100 text-sm",children:"XP"}),y.jsxs("p",{className:"text-2xl font-bold text-white",children:[o.xp,w&&` / ${w.xpRequired}`]})]})]}),w&&y.jsxs("div",{children:[y.jsxs("div",{className:"flex justify-between text-sm text-red-100 mb-2",children:[y.jsxs("span",{children:["Progresso para ",w.title]}),y.jsxs("span",{children:[Math.round(P),"%"]})]}),y.jsx("div",{className:"w-full bg-red-800 rounded-full h-3",children:y.jsx("div",{className:"bg-white rounded-full h-3 transition-all duration-500",style:{width:`${P}%`}})})]})]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[y.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[y.jsx("div",{className:"bg-blue-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:y.jsx(ip,{className:"text-white",size:24})}),y.jsx("div",{className:"text-2xl font-bold text-white",children:o.completedWorkouts}),y.jsx("div",{className:"text-sm text-gray-400",children:"Treinos"})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[y.jsx("div",{className:"bg-green-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:y.jsx(ep,{className:"text-white",size:24})}),y.jsx("div",{className:"text-2xl font-bold text-white",children:o.completedWeeks}),y.jsx("div",{className:"text-sm text-gray-400",children:"Semanas"})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[y.jsx("div",{className:"bg-purple-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:y.jsx(V2,{className:"text-white",size:24})}),y.jsx("div",{className:"text-2xl font-bold text-white",children:o.totalMinutes}),y.jsx("div",{className:"text-sm text-gray-400",children:"Minutos"})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[y.jsx("div",{className:"bg-orange-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:y.jsx(wv,{className:"text-white",size:24})}),y.jsx("div",{className:"text-2xl font-bold text-white",children:o.streak}),y.jsx("div",{className:"text-sm text-gray-400",children:"Sequncia"})]})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-8",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx(Ph,{className:"text-yellow-500",size:24}),y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Conquistas"}),y.jsxs("span",{className:"bg-gray-700 text-gray-300 px-3 py-1 rounded-full text-sm",children:[b.filter(S=>S.unlocked).length," / ",p.length]})]}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map(S=>y.jsxs("div",{className:`relative p-4 rounded-xl border-2 transition-all duration-300 ${S.unlocked?`bg-gradient-to-br ${S.color} border-transparent shadow-lg`:"bg-gray-700 border-gray-600"}`,children:[!S.unlocked&&y.jsx("div",{className:"absolute inset-0 bg-gray-900 bg-opacity-50 rounded-xl flex items-center justify-center",children:y.jsx(tp,{className:"text-gray-400",size:24})}),y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 ${S.unlocked?"bg-white bg-opacity-20":"bg-gray-600"}`,children:y.jsx("div",{className:S.unlocked?"text-white":"text-gray-400",children:S.icon})}),y.jsx("h3",{className:`font-bold mb-1 ${S.unlocked?"text-white":"text-gray-400"}`,children:S.title}),y.jsx("p",{className:`text-sm ${S.unlocked?"text-white text-opacity-80":"text-gray-500"}`,children:S.description}),S.unlocked&&y.jsx("div",{className:"mt-2",children:y.jsx(Db,{className:"text-white mx-auto",size:20})})]})]},S.id))})]}),y.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-8",children:[y.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[y.jsx(wh,{className:"text-yellow-500",size:24}),y.jsx("h2",{className:"text-2xl font-bold text-white",children:"Prximos Desafios"})]}),y.jsx("div",{className:"space-y-4",children:b.filter(S=>!S.unlocked).slice(0,3).map(S=>{let U=0,j=0;switch(S.type){case"workouts":j=o.completedWorkouts;break;case"weeks":j=o.completedWeeks;break;case"minutes":j=o.totalMinutes;break;case"streak":j=o.streak;break}return U=j/S.requirement*100,y.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[y.jsxs("div",{className:"flex items-center justify-between mb-3",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${S.color} flex items-center justify-center`,children:y.jsx("div",{className:"text-white scale-75",children:S.icon})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-white",children:S.title}),y.jsx("p",{className:"text-sm text-gray-400",children:S.description})]})]}),y.jsx(Cb,{className:"text-gray-400",size:20})]}),y.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[y.jsx("span",{children:"Progresso"}),y.jsxs("span",{children:[j," / ",S.requirement]})]}),y.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:y.jsx("div",{className:`bg-gradient-to-r ${S.color} rounded-full h-2 transition-all duration-500`,style:{width:`${Math.min(U,100)}%`}})})]},S.id)})})]}),y.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-6 text-center",children:[y.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Continue Assim!"}),y.jsx("p",{className:"text-purple-100 mb-4",children:o.completedWorkouts===0?"Comece sua jornada HIIT hoje mesmo! Cada treino te deixa mais forte.":o.completedWorkouts<5?"Voc est no caminho certo! Continue treinando para desbloquear novas conquistas.":o.completedWorkouts<20?"Incrvel progresso! Voc est se tornando um verdadeiro atleta HIIT.":"Voc  uma inspirao! Continue quebrando seus prprios recordes."}),y.jsx("button",{onClick:()=>e("/dashboard"),className:"bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Treinar Agora"})]})]})]})};function Wm({children:r}){const[e,n]=z.useState(null),[s,o]=z.useState(!0),u=_a();return z.useEffect(()=>ad(u,m=>{n(m),o(!1)}),[u]),s?y.jsx("div",{children:"Carregando..."}):e?r:y.jsx(Eb,{to:"/auth",replace:!0})}function b6(){const{ToastContainer:r}=D1();return y.jsxs(y.Fragment,{children:[y.jsx(AS,{children:y.jsxs(tS,{children:[y.jsx(Jn,{path:"/dashboard",element:y.jsx($C,{})}),y.jsx(Jn,{path:"/trainings/:id",element:y.jsx(_h,{})}),y.jsx(Jn,{path:"/video/:moduleId/:videoId",element:y.jsx(_h,{})}),y.jsx(Jn,{path:"/video/:moduleId",element:y.jsx(_h,{})}),y.jsx(Jn,{path:"/player",element:y.jsx(_h,{})}),y.jsx(Jn,{path:"/auth",element:y.jsx(iO,{})}),y.jsx(Jn,{path:"/community",element:y.jsx(Wm,{children:y.jsx(rO,{})})}),y.jsx(Jn,{path:"/profile",element:y.jsx(Wm,{children:y.jsx(v6,{})})}),y.jsx(Jn,{path:"/jornada-hiit",element:y.jsx(Wm,{children:y.jsx(E6,{})})}),y.jsx(Jn,{path:"/",element:y.jsx(Eb,{to:"/dashboard",replace:!0})})]})}),y.jsx(r,{})]})}function T6(){return y.jsx(b6,{})}uA.createRoot(document.getElementById("root")).render(y.jsx(z.StrictMode,{children:y.jsx(HC,{children:y.jsx(T6,{})})}));
