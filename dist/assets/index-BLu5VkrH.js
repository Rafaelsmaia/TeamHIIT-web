(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Dm={exports:{}},Xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d_;function rA(){if(d_)return Xl;d_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Xl.Fragment=e,Xl.jsx=t,Xl.jsxs=t,Xl}var f_;function sA(){return f_||(f_=1,Dm.exports=rA()),Dm.exports}var p=sA(),km={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function aA(){if(m_)return Ce;m_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.iterator;function T(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,z={};function V(D,W,ae){this.props=D,this.context=W,this.refs=z,this.updater=ae||P}V.prototype.isReactComponent={},V.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},V.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function F(){}F.prototype=V.prototype;function Y(D,W,ae){this.props=D,this.context=W,this.refs=z,this.updater=ae||P}var Z=Y.prototype=new F;Z.constructor=Y,R(Z,V.prototype),Z.isPureReactComponent=!0;var oe=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},ge=Object.prototype.hasOwnProperty;function O(D,W,ae,J,me,Re){return ae=Re.ref,{$$typeof:i,type:D,key:W,ref:ae!==void 0?ae:null,props:Re}}function x(D,W){return O(D.type,W,void 0,void 0,void 0,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function M(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ae){return W[ae]})}var N=/\/+/g;function k(D,W){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):W.toString(36)}function C(){}function be(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(W){D.status==="pending"&&(D.status="fulfilled",D.value=W)},function(W){D.status==="pending"&&(D.status="rejected",D.reason=W)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function fe(D,W,ae,J,me){var Re=typeof D;(Re==="undefined"||Re==="boolean")&&(D=null);var ve=!1;if(D===null)ve=!0;else switch(Re){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(D.$$typeof){case i:case e:ve=!0;break;case b:return ve=D._init,fe(ve(D._payload),W,ae,J,me)}}if(ve)return me=me(D),ve=J===""?"."+k(D,0):J,oe(me)?(ae="",ve!=null&&(ae=ve.replace(N,"$&/")+"/"),fe(me,W,ae,"",function(nt){return nt})):me!=null&&(I(me)&&(me=x(me,ae+(me.key==null||D&&D.key===me.key?"":(""+me.key).replace(N,"$&/")+"/")+ve)),W.push(me)),1;ve=0;var at=J===""?".":J+":";if(oe(D))for(var He=0;He<D.length;He++)J=D[He],Re=at+k(J,He),ve+=fe(J,W,ae,Re,me);else if(He=T(D),typeof He=="function")for(D=He.call(D),He=0;!(J=D.next()).done;)J=J.value,Re=at+k(J,He++),ve+=fe(J,W,ae,Re,me);else if(Re==="object"){if(typeof D.then=="function")return fe(be(D),W,ae,J,me);throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return ve}function Q(D,W,ae){if(D==null)return D;var J=[],me=0;return fe(D,J,"","",function(Re){return W.call(ae,Re,me++)}),J}function se(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(ae){(D._status===0||D._status===-1)&&(D._status=1,D._result=ae)},function(ae){(D._status===0||D._status===-1)&&(D._status=2,D._result=ae)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ce=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function we(){}return Ce.Children={map:Q,forEach:function(D,W,ae){Q(D,function(){W.apply(this,arguments)},ae)},count:function(D){var W=0;return Q(D,function(){W++}),W},toArray:function(D){return Q(D,function(W){return W})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ce.Component=V,Ce.Fragment=t,Ce.Profiler=o,Ce.PureComponent=Y,Ce.StrictMode=s,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ue.H.useMemoCache(D)}},Ce.cache=function(D){return function(){return D.apply(null,arguments)}},Ce.cloneElement=function(D,W,ae){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=R({},D.props),me=D.key,Re=void 0;if(W!=null)for(ve in W.ref!==void 0&&(Re=void 0),W.key!==void 0&&(me=""+W.key),W)!ge.call(W,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&W.ref===void 0||(J[ve]=W[ve]);var ve=arguments.length-2;if(ve===1)J.children=ae;else if(1<ve){for(var at=Array(ve),He=0;He<ve;He++)at[He]=arguments[He+2];J.children=at}return O(D.type,me,void 0,void 0,Re,J)},Ce.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ce.createElement=function(D,W,ae){var J,me={},Re=null;if(W!=null)for(J in W.key!==void 0&&(Re=""+W.key),W)ge.call(W,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(me[J]=W[J]);var ve=arguments.length-2;if(ve===1)me.children=ae;else if(1<ve){for(var at=Array(ve),He=0;He<ve;He++)at[He]=arguments[He+2];me.children=at}if(D&&D.defaultProps)for(J in ve=D.defaultProps,ve)me[J]===void 0&&(me[J]=ve[J]);return O(D,Re,void 0,void 0,null,me)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(D){return{$$typeof:m,render:D}},Ce.isValidElement=I,Ce.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:se}},Ce.memo=function(D,W){return{$$typeof:y,type:D,compare:W===void 0?null:W}},Ce.startTransition=function(D){var W=ue.T,ae={};ue.T=ae;try{var J=D(),me=ue.S;me!==null&&me(ae,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(we,ce)}catch(Re){ce(Re)}finally{ue.T=W}},Ce.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ce.use=function(D){return ue.H.use(D)},Ce.useActionState=function(D,W,ae){return ue.H.useActionState(D,W,ae)},Ce.useCallback=function(D,W){return ue.H.useCallback(D,W)},Ce.useContext=function(D){return ue.H.useContext(D)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(D,W){return ue.H.useDeferredValue(D,W)},Ce.useEffect=function(D,W,ae){var J=ue.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,W)},Ce.useId=function(){return ue.H.useId()},Ce.useImperativeHandle=function(D,W,ae){return ue.H.useImperativeHandle(D,W,ae)},Ce.useInsertionEffect=function(D,W){return ue.H.useInsertionEffect(D,W)},Ce.useLayoutEffect=function(D,W){return ue.H.useLayoutEffect(D,W)},Ce.useMemo=function(D,W){return ue.H.useMemo(D,W)},Ce.useOptimistic=function(D,W){return ue.H.useOptimistic(D,W)},Ce.useReducer=function(D,W,ae){return ue.H.useReducer(D,W,ae)},Ce.useRef=function(D){return ue.H.useRef(D)},Ce.useState=function(D){return ue.H.useState(D)},Ce.useSyncExternalStore=function(D,W,ae){return ue.H.useSyncExternalStore(D,W,ae)},Ce.useTransition=function(){return ue.H.useTransition()},Ce.version="19.1.0",Ce}var p_;function Up(){return p_||(p_=1,km.exports=aA()),km.exports}var U=Up(),Om={exports:{}},Wl={},jm={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function oA(){return g_||(g_=1,function(i){function e(Q,se){var ce=Q.length;Q.push(se);e:for(;0<ce;){var we=ce-1>>>1,D=Q[we];if(0<o(D,se))Q[we]=se,Q[ce]=D,ce=we;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var se=Q[0],ce=Q.pop();if(ce!==se){Q[0]=ce;e:for(var we=0,D=Q.length,W=D>>>1;we<W;){var ae=2*(we+1)-1,J=Q[ae],me=ae+1,Re=Q[me];if(0>o(J,ce))me<D&&0>o(Re,J)?(Q[we]=Re,Q[me]=ce,we=me):(Q[we]=J,Q[ae]=ce,we=ae);else if(me<D&&0>o(Re,ce))Q[we]=Re,Q[me]=ce,we=me;else break e}}return se}function o(Q,se){var ce=Q.sortIndex-se.sortIndex;return ce!==0?ce:Q.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],y=[],b=1,A=null,T=3,P=!1,R=!1,z=!1,V=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function oe(Q){for(var se=t(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=Q)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=t(y)}}function ue(Q){if(z=!1,oe(Q),!R)if(t(g)!==null)R=!0,ge||(ge=!0,k());else{var se=t(y);se!==null&&fe(ue,se.startTime-Q)}}var ge=!1,O=-1,x=5,I=-1;function M(){return V?!0:!(i.unstable_now()-I<x)}function N(){if(V=!1,ge){var Q=i.unstable_now();I=Q;var se=!0;try{e:{R=!1,z&&(z=!1,Y(O),O=-1),P=!0;var ce=T;try{t:{for(oe(Q),A=t(g);A!==null&&!(A.expirationTime>Q&&M());){var we=A.callback;if(typeof we=="function"){A.callback=null,T=A.priorityLevel;var D=we(A.expirationTime<=Q);if(Q=i.unstable_now(),typeof D=="function"){A.callback=D,oe(Q),se=!0;break t}A===t(g)&&s(g),oe(Q)}else s(g);A=t(g)}if(A!==null)se=!0;else{var W=t(y);W!==null&&fe(ue,W.startTime-Q),se=!1}}break e}finally{A=null,T=ce,P=!1}se=void 0}}finally{se?k():ge=!1}}}var k;if(typeof Z=="function")k=function(){Z(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,be=C.port2;C.port1.onmessage=N,k=function(){be.postMessage(null)}}else k=function(){F(N,0)};function fe(Q,se){O=F(function(){Q(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(Q){switch(T){case 1:case 2:case 3:var se=3;break;default:se=T}var ce=T;T=se;try{return Q()}finally{T=ce}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(Q,se){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ce=T;T=Q;try{return se()}finally{T=ce}},i.unstable_scheduleCallback=function(Q,se,ce){var we=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?we+ce:we):ce=we,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ce+D,Q={id:b++,callback:se,priorityLevel:Q,startTime:ce,expirationTime:D,sortIndex:-1},ce>we?(Q.sortIndex=ce,e(y,Q),t(g)===null&&Q===t(y)&&(z?(Y(O),O=-1):z=!0,fe(ue,ce-we))):(Q.sortIndex=D,e(g,Q),R||P||(R=!0,ge||(ge=!0,k()))),Q},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(Q){var se=T;return function(){var ce=T;T=se;try{return Q.apply(this,arguments)}finally{T=ce}}}}(Mm)),Mm}var y_;function lA(){return y_||(y_=1,jm.exports=oA()),jm.exports}var Pm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function uA(){if(v_)return Jt;v_=1;var i=Up();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},Jt.flushSync=function(g){var y=h.T,b=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=y,s.p=b,s.d.f()}},Jt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Jt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Jt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin),T=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:P}):b==="script"&&s.d.X(g,{crossOrigin:A,integrity:T,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Jt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Jt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=m(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Jt.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Jt.requestFormReset=function(g){s.d.r(g)},Jt.unstable_batchedUpdates=function(g,y){return g(y)},Jt.useFormState=function(g,y,b){return h.H.useFormState(g,y,b)},Jt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Jt.version="19.1.0",Jt}var __;function cA(){if(__)return Pm.exports;__=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Pm.exports=uA(),Pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function hA(){if(b_)return Wl;b_=1;var i=lA(),e=Up(),t=cA();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function g(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return m(d),n;if(f===l)return m(d),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=f;else{for(var E=!1,w=d.child;w;){if(w===a){E=!0,a=d,l=f;break}if(w===l){E=!0,l=d,a=f;break}w=w.sibling}if(!E){for(w=f.child;w;){if(w===a){E=!0,a=f,l=d;break}if(w===l){E=!0,l=f,a=d;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function y(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=y(n),r!==null)return r;n=n.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),Y=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function be(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case V:return"Profiler";case z:return"StrictMode";case ue:return"Suspense";case ge:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case P:return"Portal";case Z:return(n.displayName||"Context")+".Provider";case Y:return(n._context.displayName||"Context")+".Consumer";case oe:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return r=n.displayName||null,r!==null?r:be(n.type)||"Memo";case x:r=n._payload,n=n._init;try{return be(n(r))}catch{}}return null}var fe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},we=[],D=-1;function W(n){return{current:n}}function ae(n){0>D||(n.current=we[D],we[D]=null,D--)}function J(n,r){D++,we[D]=n.current,n.current=r}var me=W(null),Re=W(null),ve=W(null),at=W(null);function He(n,r){switch(J(ve,r),J(Re,n),J(me,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?zv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=zv(r),n=Bv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(me),J(me,n)}function nt(){ae(me),ae(Re),ae(ve)}function Cn(n){n.memoizedState!==null&&J(at,n);var r=me.current,a=Bv(r,n.type);r!==a&&(J(Re,n),J(me,a))}function ji(n){Re.current===n&&(ae(me),ae(Re)),at.current===n&&(ae(at),Gl._currentValue=ce)}var Ts=Object.prototype.hasOwnProperty,ws=i.unstable_scheduleCallback,xs=i.unstable_cancelCallback,qo=i.unstable_shouldYield,Fu=i.unstable_requestPaint,Dn=i.unstable_now,Cd=i.unstable_getCurrentPriorityLevel,Ho=i.unstable_ImmediatePriority,Aa=i.unstable_UserBlockingPriority,As=i.unstable_NormalPriority,Dd=i.unstable_LowPriority,Sa=i.unstable_IdlePriority,Fo=i.log,Gu=i.unstable_setDisableYieldValue,ft=null,Qe=null;function vn(n){if(typeof Fo=="function"&&Gu(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ft,n)}catch{}}var Wt=Math.clz32?Math.clz32:Ss,$u=Math.log,kd=Math.LN2;function Ss(n){return n>>>=0,n===0?32:31-($u(n)/kd|0)|0}var Rs=256,Ns=4194304;function Qn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ra(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,f=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?d=Qn(l):(E&=w,E!==0?d=Qn(E):a||(a=w&~n,a!==0&&(d=Qn(a))))):(w=l&~f,w!==0?d=Qn(w):E!==0?d=Qn(E):a||(a=l&~n,a!==0&&(d=Qn(a)))),d===0?0:r!==0&&r!==d&&(r&f)===0&&(f=d&-d,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:d}function Is(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Go(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var n=Rs;return Rs<<=1,(Rs&4194048)===0&&(Rs=256),n}function Ko(){var n=Ns;return Ns<<=1,(Ns&62914560)===0&&(Ns=4194304),n}function Mi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Pi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Qo(n,r,a,l,d,f){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,j=n.expirationTimes,G=n.hiddenUpdates;for(a=E&~a;0<a;){var ee=31-Wt(a),ie=1<<ee;w[ee]=0,j[ee]=-1;var $=G[ee];if($!==null)for(G[ee]=null,ee=0;ee<$.length;ee++){var K=$[ee];K!==null&&(K.lane&=-536870913)}a&=~ie}l!==0&&oi(n,l,0),f!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=f&~(E&~r))}function oi(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Wt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Yo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-Wt(a),d=1<<l;d&r|n[l]&r&&(n[l]|=r),a&=~d}}function xr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Na(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ar(){var n=se.p;return n!==0?n:(n=window.event,n===void 0?32:a_(n.type))}function Ku(n,r){var a=se.p;try{return se.p=n,r()}finally{se.p=a}}var ot=Math.random().toString(36).slice(2),Ct="__reactFiber$"+ot,wt="__reactProps$"+ot,kn="__reactContainer$"+ot,Xo="__reactEvents$"+ot,Od="__reactListeners$"+ot,Sr="__reactHandles$"+ot,Qu="__reactResources$"+ot,Cs="__reactMarker$"+ot;function Rr(n){delete n[Ct],delete n[wt],delete n[Xo],delete n[Od],delete n[Sr]}function Vi(n){var r=n[Ct];if(r)return r;for(var a=n.parentNode;a;){if(r=a[kn]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Gv(n);n!==null;){if(a=n[Ct])return a;n=Gv(n)}return r}n=a,a=n.parentNode}return null}function li(n){if(n=n[Ct]||n[kn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ui(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function sn(n){var r=n[Qu];return r||(r=n[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function _t(n){n[Cs]=!0}var Wo=new Set,Ia={};function Yn(n,r){Ui(n,r),Ui(n+"Capture",r)}function Ui(n,r){for(Ia[n]=r,n=0;n<r.length;n++)Wo.add(r[n])}var Yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xu={},Ds={};function Wu(n){return Ts.call(Ds,n)?!0:Ts.call(Xu,n)?!1:Yu.test(n)?Ds[n]=!0:(Xu[n]=!0,!1)}function Nr(n,r,a){if(Wu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ci(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function qt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var ks,Zu;function Li(n){if(ks===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ks=r&&r[1]||"",Zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+n+Zu}var Ca=!1;function Da(n,r){if(!n||Ca)return"";Ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(K){var $=K}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(K){$=K}n.call(ie.prototype)}}else{try{throw Error()}catch(K){$=K}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],w=f[1];if(E&&w){var j=E.split(`
`),G=w.split(`
`);for(d=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(l===j.length||d===G.length)for(l=j.length-1,d=G.length-1;1<=l&&0<=d&&j[l]!==G[d];)d--;for(;1<=l&&0<=d;l--,d--)if(j[l]!==G[d]){if(l!==1||d!==1)do if(l--,d--,0>d||j[l]!==G[d]){var ee=`
`+j[l].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=l&&0<=d);break}}}finally{Ca=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Li(a):""}function Zo(n){switch(n.tag){case 26:case 27:case 5:return Li(n.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return Da(n.type,!1);case 11:return Da(n.type.render,!1);case 1:return Da(n.type,!0);case 31:return Li("Activity");default:return""}}function ka(n){try{var r="";do r+=Zo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Jo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function jd(n){var r=Jo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,f=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(E){l=""+E,f.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Oa(n){n._valueTracker||(n._valueTracker=jd(n))}function el(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=Jo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function Os(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Md=/[\n"\\]/g;function xt(n){return n.replace(Md,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function _n(n,r,a,l,d,f,E,w){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+an(r)):n.value!==""+an(r)&&(n.value=""+an(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?Ir(n,E,an(r)):a!=null?Ir(n,E,an(a)):l!=null&&n.removeAttribute("value"),d==null&&f!=null&&(n.defaultChecked=!!f),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+an(w):n.removeAttribute("name")}function js(n,r,a,l,d,f,E,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(n.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,w||r===n.value||(n.value=r),n.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Ir(n,r,a){r==="number"&&Os(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function zi(n,r,a,l){if(n=n.options,r){r={};for(var d=0;d<a.length;d++)r["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=r.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function We(n,r,a){if(r!=null&&(r=""+an(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+an(a):""}function Ms(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(fe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function On(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ju(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Ps.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function tl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&a[d]!==l&&Ju(n,d,l)}else for(var f in r)r.hasOwnProperty(f)&&Ju(n,f,r[f])}function nl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ja(n){return Vd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Bi=null;function jn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var qi=null,Hi=null;function il(n){var r=li(n);if(r&&(n=r.stateNode)){var a=n[wt]||null;e:switch(n=r.stateNode,r.type){case"input":if(_n(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var d=l[wt]||null;if(!d)throw Error(s(90));_n(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&el(l)}break e;case"textarea":We(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&zi(n,!!a.multiple,r,!1)}}}var hi=!1;function ec(n,r,a){if(hi)return n(r,a);hi=!0;try{var l=n(r);return l}finally{if(hi=!1,(qi!==null||Hi!==null)&&(Kc(),qi&&(r=qi,n=Hi,Hi=qi=null,il(r),n)))for(r=0;r<n.length;r++)il(n[r])}}function Vs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(Xn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Mn=!1}var di=null,Cr=null,Fi=null;function rl(){if(Fi)return Fi;var n,r=Cr,a=r.length,l,d="value"in di?di.value:di.textContent,f=d.length;for(n=0;n<a&&r[n]===d[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===d[f-l];l++);return Fi=d.slice(n,1<l?1-l:void 0)}function fi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function mi(){return!0}function sl(){return!1}function Pt(n){function r(a,l,d,f,E){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?mi:sl,this.isPropagationStopped=sl,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),r}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ma=Pt($e),Ls=b({},$e,{view:0,detail:0}),tc=Pt(Ls),Pa,Va,pi,zs=b({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==pi&&(pi&&n.type==="mousemove"?(Pa=n.screenX-pi.screenX,Va=n.screenY-pi.screenY):Va=Pa=0,pi=n),Pa)},movementY:function(n){return"movementY"in n?n.movementY:Va}}),Pn=Pt(zs),nc=b({},zs,{dataTransfer:0}),Ud=Pt(nc),Bs=b({},Ls,{relatedTarget:0}),Ua=Pt(Bs),al=b({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),La=Pt(al),ic=b({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),za=Pt(ic),Ld=b({},$e,{data:0}),ol=Pt(Ld),qs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ll(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=sc[n])?!!r[n]:!1}function Hs(){return ll}var ac=b({},Ls,{key:function(n){if(n.key){var r=qs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=fi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?rc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(n){return n.type==="keypress"?fi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ba=Pt(ac),oc=b({},zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ul=Pt(oc),Gi=b({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),lc=Pt(Gi),uc=b({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=Pt(uc),hc=b({},zs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qa=Pt(hc),on=b({},$e,{newState:0,oldState:0}),dc=Pt(on),fc=[9,13,27,32],gi=Xn&&"CompositionEvent"in window,c=null;Xn&&"documentMode"in document&&(c=document.documentMode);var v=Xn&&"TextEvent"in window&&!c,_=Xn&&(!gi||c&&8<c&&11>=c),S=" ",q=!1;function X(n,r){switch(n){case"keyup":return fc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Le=!1;function Dt(n,r){switch(n){case"compositionend":return le(r);case"keypress":return r.which!==32?null:(q=!0,S);case"textInput":return n=r.data,n===S&&q?null:n;default:return null}}function ze(n,r){if(Le)return n==="compositionend"||!gi&&X(n,r)?(n=rl(),Fi=Cr=di=null,Le=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Vt[n.type]:r==="textarea"}function $i(n,r,a,l){qi?Hi?Hi.push(l):Hi=[l]:qi=l,r=Jc(r,"onChange"),0<r.length&&(a=new Ma("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Ht=null,yi=null;function cl(n){Mv(n,0)}function mc(n){var r=ui(n);if(el(r))return n}function ny(n,r){if(n==="change")return r}var iy=!1;if(Xn){var zd;if(Xn){var Bd="oninput"in document;if(!Bd){var ry=document.createElement("div");ry.setAttribute("oninput","return;"),Bd=typeof ry.oninput=="function"}zd=Bd}else zd=!1;iy=zd&&(!document.documentMode||9<document.documentMode)}function sy(){Ht&&(Ht.detachEvent("onpropertychange",ay),yi=Ht=null)}function ay(n){if(n.propertyName==="value"&&mc(yi)){var r=[];$i(r,yi,n,jn(n)),ec(cl,r)}}function jw(n,r,a){n==="focusin"?(sy(),Ht=r,yi=a,Ht.attachEvent("onpropertychange",ay)):n==="focusout"&&sy()}function Mw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mc(yi)}function Pw(n,r){if(n==="click")return mc(r)}function Vw(n,r){if(n==="input"||n==="change")return mc(r)}function Uw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var bn=typeof Object.is=="function"?Object.is:Uw;function hl(n,r){if(bn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Ts.call(r,d)||!bn(n[d],r[d]))return!1}return!0}function oy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function ly(n,r){var a=oy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oy(a)}}function uy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?uy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function cy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Os(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=Os(n.document)}return r}function qd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Lw=Xn&&"documentMode"in document&&11>=document.documentMode,Ha=null,Hd=null,dl=null,Fd=!1;function hy(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Fd||Ha==null||Ha!==Os(l)||(l=Ha,"selectionStart"in l&&qd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&hl(dl,l)||(dl=l,l=Jc(Hd,"onSelect"),0<l.length&&(r=new Ma("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Ha)))}function Fs(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Fa={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionrun:Fs("Transition","TransitionRun"),transitionstart:Fs("Transition","TransitionStart"),transitioncancel:Fs("Transition","TransitionCancel"),transitionend:Fs("Transition","TransitionEnd")},Gd={},dy={};Xn&&(dy=document.createElement("div").style,"AnimationEvent"in window||(delete Fa.animationend.animation,delete Fa.animationiteration.animation,delete Fa.animationstart.animation),"TransitionEvent"in window||delete Fa.transitionend.transition);function Gs(n){if(Gd[n])return Gd[n];if(!Fa[n])return n;var r=Fa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in dy)return Gd[n]=r[a];return n}var fy=Gs("animationend"),my=Gs("animationiteration"),py=Gs("animationstart"),zw=Gs("transitionrun"),Bw=Gs("transitionstart"),qw=Gs("transitioncancel"),gy=Gs("transitionend"),yy=new Map,$d="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$d.push("scrollEnd");function Wn(n,r){yy.set(n,r),Yn(r,[n])}var vy=new WeakMap;function Vn(n,r){if(typeof n=="object"&&n!==null){var a=vy.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ka(r)},vy.set(n,r),r)}return{value:n,source:r,stack:ka(r)}}var Un=[],Ga=0,Kd=0;function pc(){for(var n=Ga,r=Kd=Ga=0;r<n;){var a=Un[r];Un[r++]=null;var l=Un[r];Un[r++]=null;var d=Un[r];Un[r++]=null;var f=Un[r];if(Un[r++]=null,l!==null&&d!==null){var E=l.pending;E===null?d.next=d:(d.next=E.next,E.next=d),l.pending=d}f!==0&&_y(a,d,f)}}function gc(n,r,a,l){Un[Ga++]=n,Un[Ga++]=r,Un[Ga++]=a,Un[Ga++]=l,Kd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Qd(n,r,a,l){return gc(n,r,a,l),yc(n)}function $a(n,r){return gc(n,null,null,r),yc(n)}function _y(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=n.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(n=f.stateNode,n===null||n._visibility&1||(d=!0)),n=f,f=f.return;return n.tag===3?(f=n.stateNode,d&&r!==null&&(d=31-Wt(a),n=f.hiddenUpdates,l=n[d],l===null?n[d]=[r]:l.push(r),r.lane=a|536870912),f):null}function yc(n){if(50<Vl)throw Vl=0,tm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ka={};function Hw(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(n,r,a,l){return new Hw(n,r,a,l)}function Yd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ki(n,r){var a=n.alternate;return a===null?(a=En(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function by(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function vc(n,r,a,l,d,f){var E=0;if(l=n,typeof n=="function")Yd(n)&&(E=1);else if(typeof n=="string")E=Gx(n,a,me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=En(31,a,r,d),n.elementType=I,n.lanes=f,n;case R:return $s(a.children,d,f,r);case z:E=8,d|=24;break;case V:return n=En(12,a,r,d|2),n.elementType=V,n.lanes=f,n;case ue:return n=En(13,a,r,d),n.elementType=ue,n.lanes=f,n;case ge:return n=En(19,a,r,d),n.elementType=ge,n.lanes=f,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:case Z:E=10;break e;case Y:E=9;break e;case oe:E=11;break e;case O:E=14;break e;case x:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=En(E,a,r,d),r.elementType=n,r.type=l,r.lanes=f,r}function $s(n,r,a,l){return n=En(7,n,l,r),n.lanes=a,n}function Xd(n,r,a){return n=En(6,n,null,r),n.lanes=a,n}function Wd(n,r,a){return r=En(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Qa=[],Ya=0,_c=null,bc=0,Ln=[],zn=0,Ks=null,Qi=1,Yi="";function Qs(n,r){Qa[Ya++]=bc,Qa[Ya++]=_c,_c=n,bc=r}function Ey(n,r,a){Ln[zn++]=Qi,Ln[zn++]=Yi,Ln[zn++]=Ks,Ks=n;var l=Qi;n=Yi;var d=32-Wt(l)-1;l&=~(1<<d),a+=1;var f=32-Wt(r)+d;if(30<f){var E=d-d%5;f=(l&(1<<E)-1).toString(32),l>>=E,d-=E,Qi=1<<32-Wt(r)+d|a<<d|l,Yi=f+n}else Qi=1<<f|a<<d|l,Yi=n}function Zd(n){n.return!==null&&(Qs(n,1),Ey(n,1,0))}function Jd(n){for(;n===_c;)_c=Qa[--Ya],Qa[Ya]=null,bc=Qa[--Ya],Qa[Ya]=null;for(;n===Ks;)Ks=Ln[--zn],Ln[zn]=null,Yi=Ln[--zn],Ln[zn]=null,Qi=Ln[--zn],Ln[zn]=null}var ln=null,mt=null,Ge=!1,Ys=null,vi=!1,ef=Error(s(519));function Xs(n){var r=Error(s(418,""));throw pl(Vn(r,n)),ef}function Ty(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Ct]=n,r[wt]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Ll.length;a++)Pe(Ll[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),js(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Oa(r);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Ms(r,l.value,l.defaultValue,l.children),Oa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||Lv(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=eh),r=!0):r=!1,r||Xs(n)}function wy(n){for(ln=n.return;ln;)switch(ln.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:ln=ln.return}}function fl(n){if(n!==ln)return!1;if(!Ge)return wy(n),Ge=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||ym(n.type,n.memoizedProps)),a=!a),a&&mt&&Xs(n),wy(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){mt=Jn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}mt=null}}else r===27?(r=mt,$r(n.type)?(n=Em,Em=null,mt=n):mt=r):mt=ln?Jn(n.stateNode.nextSibling):null;return!0}function ml(){mt=ln=null,Ge=!1}function xy(){var n=Ys;return n!==null&&(fn===null?fn=n:fn.push.apply(fn,n),Ys=null),n}function pl(n){Ys===null?Ys=[n]:Ys.push(n)}var tf=W(null),Ws=null,Xi=null;function Dr(n,r,a){J(tf,r._currentValue),r._currentValue=a}function Wi(n){n._currentValue=tf.current,ae(tf)}function nf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function rf(n,r,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var f=d.dependencies;if(f!==null){var E=d.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=d;for(var j=0;j<r.length;j++)if(w.context===r[j]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),nf(f.return,a,n),l||(E=null);break e}f=w.next}}else if(d.tag===18){if(E=d.return,E===null)throw Error(s(341));E.lanes|=a,f=E.alternate,f!==null&&(f.lanes|=a),nf(E,a,n),E=null}else E=d.child;if(E!==null)E.return=d;else for(E=d;E!==null;){if(E===n){E=null;break}if(d=E.sibling,d!==null){d.return=E.return,E=d;break}E=E.return}d=E}}function gl(n,r,a,l){n=null;for(var d=r,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var E=d.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=d.type;bn(d.pendingProps.value,E.value)||(n!==null?n.push(w):n=[w])}}else if(d===at.current){if(E=d.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Gl):n=[Gl])}d=d.return}n!==null&&rf(r,n,a,l),r.flags|=262144}function Ec(n){for(n=n.firstContext;n!==null;){if(!bn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Zs(n){Ws=n,Xi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Zt(n){return Ay(Ws,n)}function Tc(n,r){return Ws===null&&Zs(n),Ay(n,r)}function Ay(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Xi===null){if(n===null)throw Error(s(308));Xi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Xi=Xi.next=r;return a}var Fw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Gw=i.unstable_scheduleCallback,$w=i.unstable_NormalPriority,Ot={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new Fw,data:new Map,refCount:0}}function yl(n){n.refCount--,n.refCount===0&&Gw($w,function(){n.controller.abort()})}var vl=null,af=0,Xa=0,Wa=null;function Kw(n,r){if(vl===null){var a=vl=[];af=0,Xa=lm(),Wa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return af++,r.then(Sy,Sy),r}function Sy(){if(--af===0&&vl!==null){Wa!==null&&(Wa.status="fulfilled");var n=vl;vl=null,Xa=0,Wa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Qw(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<a.length;d++)(0,a[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Ry=Q.S;Q.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Kw(n,r),Ry!==null&&Ry(n,r)};var Js=W(null);function of(){var n=Js.current;return n!==null?n:it.pooledCache}function wc(n,r){r===null?J(Js,Js.current):J(Js,r.pool)}function Ny(){var n=of();return n===null?null:{parent:Ot._currentValue,pool:n}}var _l=Error(s(460)),Iy=Error(s(474)),xc=Error(s(542)),lf={then:function(){}};function Cy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ac(){}function Dy(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Ac,Ac),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Oy(n),n;default:if(typeof r.status=="string")r.then(Ac,Ac);else{if(n=it,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Oy(n),n}throw bl=r,_l}}var bl=null;function ky(){if(bl===null)throw Error(s(459));var n=bl;return bl=null,n}function Oy(n){if(n===_l||n===xc)throw Error(s(483))}var kr=!1;function uf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Or(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function jr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=yc(n),_y(n,null,a),r}return gc(n,l,r,a),yc(n)}function El(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Yo(n,a)}}function hf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=E:f=f.next=E,a=a.next}while(a!==null);f===null?d=f=r:f=f.next=r}else d=f=r;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var df=!1;function Tl(){if(df){var n=Wa;if(n!==null)throw n}}function wl(n,r,a,l){df=!1;var d=n.updateQueue;kr=!1;var f=d.firstBaseUpdate,E=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var j=w,G=j.next;j.next=null,E===null?f=G:E.next=G,E=j;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==E&&(w===null?ee.firstBaseUpdate=G:w.next=G,ee.lastBaseUpdate=j))}if(f!==null){var ie=d.baseState;E=0,ee=G=j=null,w=f;do{var $=w.lane&-536870913,K=$!==w.lane;if(K?(Be&$)===$:(l&$)===$){$!==0&&$===Xa&&(df=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Se=n,Ee=w;$=r;var et=a;switch(Ee.tag){case 1:if(Se=Ee.payload,typeof Se=="function"){ie=Se.call(et,ie,$);break e}ie=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Ee.payload,$=typeof Se=="function"?Se.call(et,ie,$):Se,$==null)break e;ie=b({},ie,$);break e;case 2:kr=!0}}$=w.callback,$!==null&&(n.flags|=64,K&&(n.flags|=8192),K=d.callbacks,K===null?d.callbacks=[$]:K.push($))}else K={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(G=ee=K,j=ie):ee=ee.next=K,E|=$;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;K=w,w=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);ee===null&&(j=ie),d.baseState=j,d.firstBaseUpdate=G,d.lastBaseUpdate=ee,f===null&&(d.shared.lanes=0),qr|=E,n.lanes=E,n.memoizedState=ie}}function jy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function My(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)jy(a[n],r)}var Za=W(null),Sc=W(0);function Py(n,r){n=rr,J(Sc,n),J(Za,r),rr=n|r.baseLanes}function ff(){J(Sc,rr),J(Za,Za.current)}function mf(){rr=Sc.current,ae(Za),ae(Sc)}var Mr=0,ke=null,Ze=null,At=null,Rc=!1,Ja=!1,ea=!1,Nc=0,xl=0,eo=null,Yw=0;function bt(){throw Error(s(321))}function pf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!bn(n[a],r[a]))return!1;return!0}function gf(n,r,a,l,d,f){return Mr=f,ke=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Q.H=n===null||n.memoizedState===null?_0:b0,ea=!1,f=a(l,d),ea=!1,Ja&&(f=Uy(r,a,l,d)),Vy(n),f}function Vy(n){Q.H=jc;var r=Ze!==null&&Ze.next!==null;if(Mr=0,At=Ze=ke=null,Rc=!1,xl=0,eo=null,r)throw Error(s(300));n===null||Ut||(n=n.dependencies,n!==null&&Ec(n)&&(Ut=!0))}function Uy(n,r,a,l){ke=n;var d=0;do{if(Ja&&(eo=null),xl=0,Ja=!1,25<=d)throw Error(s(301));if(d+=1,At=Ze=null,n.updateQueue!=null){var f=n.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=nx,f=r(a,l)}while(Ja);return f}function Xw(){var n=Q.H,r=n.useState()[0];return r=typeof r.then=="function"?Al(r):r,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(ke.flags|=1024),r}function yf(){var n=Nc!==0;return Nc=0,n}function vf(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function _f(n){if(Rc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Rc=!1}Mr=0,At=Ze=ke=null,Ja=!1,xl=Nc=0,eo=null}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ke.memoizedState=At=n:At=At.next=n,At}function St(){if(Ze===null){var n=ke.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=At===null?ke.memoizedState:At.next;if(r!==null)At=r,Ze=n;else{if(n===null)throw ke.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?ke.memoizedState=At=n:At=At.next=n}return At}function bf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(n){var r=xl;return xl+=1,eo===null&&(eo=[]),n=Dy(eo,n,r),r=ke,(At===null?r.memoizedState:At.next)===null&&(r=r.alternate,Q.H=r===null||r.memoizedState===null?_0:b0),n}function Ic(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Al(n);if(n.$$typeof===Z)return Zt(n)}throw Error(s(438,String(n)))}function Ef(n){var r=null,a=ke.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=bf(),ke.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=M;return r.index++,a}function Zi(n,r){return typeof r=="function"?r(n):r}function Cc(n){var r=St();return Tf(r,Ze,n)}function Tf(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=n.baseQueue,f=l.pending;if(f!==null){if(d!==null){var E=d.next;d.next=f.next,f.next=E}r.baseQueue=d=f,l.pending=null}if(f=n.baseState,d===null)n.memoizedState=f;else{r=d.next;var w=E=null,j=null,G=r,ee=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(Be&ie)===ie:(Mr&ie)===ie){var $=G.revertLane;if($===0)j!==null&&(j=j.next={lane:0,revertLane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===Xa&&(ee=!0);else if((Mr&$)===$){G=G.next,$===Xa&&(ee=!0);continue}else ie={lane:0,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(w=j=ie,E=f):j=j.next=ie,ke.lanes|=$,qr|=$;ie=G.action,ea&&a(f,ie),f=G.hasEagerState?G.eagerState:a(f,ie)}else $={lane:ie,revertLane:G.revertLane,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},j===null?(w=j=$,E=f):j=j.next=$,ke.lanes|=ie,qr|=ie;G=G.next}while(G!==null&&G!==r);if(j===null?E=f:j.next=w,!bn(f,n.memoizedState)&&(Ut=!0,ee&&(a=Wa,a!==null)))throw a;n.memoizedState=f,n.baseState=E,n.baseQueue=j,l.lastRenderedState=f}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function wf(n){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,f=r.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do f=n(f,E.action),E=E.next;while(E!==d);bn(f,r.memoizedState)||(Ut=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function Ly(n,r,a){var l=ke,d=St(),f=Ge;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!bn((Ze||d).memoizedState,a);E&&(d.memoizedState=a,Ut=!0),d=d.queue;var w=qy.bind(null,l,d,n);if(Sl(2048,8,w,[n]),d.getSnapshot!==r||E||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,to(9,Dc(),By.bind(null,l,d,a,r),null),it===null)throw Error(s(349));f||(Mr&124)!==0||zy(l,r,a)}return a}function zy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=ke.updateQueue,r===null?(r=bf(),ke.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function By(n,r,a,l){r.value=a,r.getSnapshot=l,Hy(r)&&Fy(n)}function qy(n,r,a){return a(function(){Hy(r)&&Fy(n)})}function Hy(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!bn(n,a)}catch{return!0}}function Fy(n){var r=$a(n,2);r!==null&&Sn(r,n,2)}function xf(n){var r=hn();if(typeof n=="function"){var a=n;if(n=a(),ea){vn(!0);try{a()}finally{vn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:n},r}function Gy(n,r,a,l){return n.baseState=a,Tf(n,Ze,typeof l=="function"?l:Zi)}function Ww(n,r,a,l,d){if(Oc(n))throw Error(s(485));if(n=r.action,n!==null){var f={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,$y(r,f)):(f.next=a.next,r.pending=a.next=f)}}function $y(n,r){var a=r.action,l=r.payload,d=n.state;if(r.isTransition){var f=Q.T,E={};Q.T=E;try{var w=a(d,l),j=Q.S;j!==null&&j(E,w),Ky(n,r,w)}catch(G){Af(n,r,G)}finally{Q.T=f}}else try{f=a(d,l),Ky(n,r,f)}catch(G){Af(n,r,G)}}function Ky(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qy(n,r,l)},function(l){return Af(n,r,l)}):Qy(n,r,a)}function Qy(n,r,a){r.status="fulfilled",r.value=a,Yy(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,$y(n,a)))}function Af(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Yy(r),r=r.next;while(r!==l)}n.action=null}function Yy(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Xy(n,r){return r}function Wy(n,r){if(Ge){var a=it.formState;if(a!==null){e:{var l=ke;if(Ge){if(mt){t:{for(var d=mt,f=vi;d.nodeType!==8;){if(!f){d=null;break t}if(d=Jn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){mt=Jn(d.nextSibling),l=d.data==="F!";break e}}Xs(l)}l=!1}l&&(r=a[0])}}return a=hn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xy,lastRenderedState:r},a.queue=l,a=g0.bind(null,ke,l),l.dispatch=a,l=xf(!1),f=Cf.bind(null,ke,!1,l.queue),l=hn(),d={state:r,dispatch:null,action:n,pending:null},l.queue=d,a=Ww.bind(null,ke,d,f,a),d.dispatch=a,l.memoizedState=n,[r,a,!1]}function Zy(n){var r=St();return Jy(r,Ze,n)}function Jy(n,r,a){if(r=Tf(n,r,Xy)[0],n=Cc(Zi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Al(r)}catch(E){throw E===_l?xc:E}else l=r;r=St();var d=r.queue,f=d.dispatch;return a!==r.memoizedState&&(ke.flags|=2048,to(9,Dc(),Zw.bind(null,d,a),null)),[l,f,n]}function Zw(n,r){n.action=r}function e0(n){var r=St(),a=Ze;if(a!==null)return Jy(r,a,n);St(),r=r.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function to(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=ke.updateQueue,r===null&&(r=bf(),ke.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Dc(){return{destroy:void 0,resource:void 0}}function t0(){return St().memoizedState}function kc(n,r,a,l){var d=hn();l=l===void 0?null:l,ke.flags|=n,d.memoizedState=to(1|r,Dc(),a,l)}function Sl(n,r,a,l){var d=St();l=l===void 0?null:l;var f=d.memoizedState.inst;Ze!==null&&l!==null&&pf(l,Ze.memoizedState.deps)?d.memoizedState=to(r,f,a,l):(ke.flags|=n,d.memoizedState=to(1|r,f,a,l))}function n0(n,r){kc(8390656,8,n,r)}function i0(n,r){Sl(2048,8,n,r)}function r0(n,r){return Sl(4,2,n,r)}function s0(n,r){return Sl(4,4,n,r)}function a0(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function o0(n,r,a){a=a!=null?a.concat([n]):null,Sl(4,4,a0.bind(null,r,n),a)}function Sf(){}function l0(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&pf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function u0(n,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&pf(r,l[1]))return l[0];if(l=n(),ea){vn(!0);try{n()}finally{vn(!1)}}return a.memoizedState=[l,r],l}function Rf(n,r,a){return a===void 0||(Mr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=dv(),ke.lanes|=n,qr|=n,a)}function c0(n,r,a,l){return bn(a,r)?a:Za.current!==null?(n=Rf(n,a,l),bn(n,r)||(Ut=!0),n):(Mr&42)===0?(Ut=!0,n.memoizedState=a):(n=dv(),ke.lanes|=n,qr|=n,r)}function h0(n,r,a,l,d){var f=se.p;se.p=f!==0&&8>f?f:8;var E=Q.T,w={};Q.T=w,Cf(n,!1,r,a);try{var j=d(),G=Q.S;if(G!==null&&G(w,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var ee=Qw(j,l);Rl(n,r,ee,An(n))}else Rl(n,r,l,An(n))}catch(ie){Rl(n,r,{then:function(){},status:"rejected",reason:ie},An())}finally{se.p=f,Q.T=E}}function Jw(){}function Nf(n,r,a,l){if(n.tag!==5)throw Error(s(476));var d=d0(n).queue;h0(n,d,r,ce,a===null?Jw:function(){return f0(n),a(l)})}function d0(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ce},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function f0(n){var r=d0(n).next.queue;Rl(n,r,{},An())}function If(){return Zt(Gl)}function m0(){return St().memoizedState}function p0(){return St().memoizedState}function ex(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=An();n=Or(a);var l=jr(r,n,a);l!==null&&(Sn(l,r,a),El(l,r,a)),r={cache:sf()},n.payload=r;return}r=r.return}}function tx(n,r,a){var l=An();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Oc(n)?y0(r,a):(a=Qd(n,r,a,l),a!==null&&(Sn(a,n,l),v0(a,r,l)))}function g0(n,r,a){var l=An();Rl(n,r,a,l)}function Rl(n,r,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Oc(n))y0(r,d);else{var f=n.alternate;if(n.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var E=r.lastRenderedState,w=f(E,a);if(d.hasEagerState=!0,d.eagerState=w,bn(w,E))return gc(n,r,d,0),it===null&&pc(),!1}catch{}finally{}if(a=Qd(n,r,d,l),a!==null)return Sn(a,n,l),v0(a,r,l),!0}return!1}function Cf(n,r,a,l){if(l={lane:2,revertLane:lm(),action:l,hasEagerState:!1,eagerState:null,next:null},Oc(n)){if(r)throw Error(s(479))}else r=Qd(n,a,l,2),r!==null&&Sn(r,n,2)}function Oc(n){var r=n.alternate;return n===ke||r!==null&&r===ke}function y0(n,r){Ja=Rc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function v0(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Yo(n,a)}}var jc={readContext:Zt,use:Ic,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt},_0={readContext:Zt,use:Ic,useCallback:function(n,r){return hn().memoizedState=[n,r===void 0?null:r],n},useContext:Zt,useEffect:n0,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,kc(4194308,4,a0.bind(null,r,n),a)},useLayoutEffect:function(n,r){return kc(4194308,4,n,r)},useInsertionEffect:function(n,r){kc(4,2,n,r)},useMemo:function(n,r){var a=hn();r=r===void 0?null:r;var l=n();if(ea){vn(!0);try{n()}finally{vn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=hn();if(a!==void 0){var d=a(r);if(ea){vn(!0);try{a(r)}finally{vn(!1)}}}else d=r;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=tx.bind(null,ke,n),[l.memoizedState,n]},useRef:function(n){var r=hn();return n={current:n},r.memoizedState=n},useState:function(n){n=xf(n);var r=n.queue,a=g0.bind(null,ke,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:Sf,useDeferredValue:function(n,r){var a=hn();return Rf(a,n,r)},useTransition:function(){var n=xf(!1);return n=h0.bind(null,ke,n.queue,!0,!1),hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=ke,d=hn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));(Be&124)!==0||zy(l,r,a)}d.memoizedState=a;var f={value:a,getSnapshot:r};return d.queue=f,n0(qy.bind(null,l,f,n),[n]),l.flags|=2048,to(9,Dc(),By.bind(null,l,f,a,r),null),a},useId:function(){var n=hn(),r=it.identifierPrefix;if(Ge){var a=Yi,l=Qi;a=(l&~(1<<32-Wt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=Nc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=Yw++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:If,useFormState:Wy,useActionState:Wy,useOptimistic:function(n){var r=hn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Cf.bind(null,ke,!0,a),a.dispatch=r,[n,r]},useMemoCache:Ef,useCacheRefresh:function(){return hn().memoizedState=ex.bind(null,ke)}},b0={readContext:Zt,use:Ic,useCallback:l0,useContext:Zt,useEffect:i0,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:s0,useMemo:u0,useReducer:Cc,useRef:t0,useState:function(){return Cc(Zi)},useDebugValue:Sf,useDeferredValue:function(n,r){var a=St();return c0(a,Ze.memoizedState,n,r)},useTransition:function(){var n=Cc(Zi)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Al(n),r]},useSyncExternalStore:Ly,useId:m0,useHostTransitionStatus:If,useFormState:Zy,useActionState:Zy,useOptimistic:function(n,r){var a=St();return Gy(a,Ze,n,r)},useMemoCache:Ef,useCacheRefresh:p0},nx={readContext:Zt,use:Ic,useCallback:l0,useContext:Zt,useEffect:i0,useImperativeHandle:o0,useInsertionEffect:r0,useLayoutEffect:s0,useMemo:u0,useReducer:wf,useRef:t0,useState:function(){return wf(Zi)},useDebugValue:Sf,useDeferredValue:function(n,r){var a=St();return Ze===null?Rf(a,n,r):c0(a,Ze.memoizedState,n,r)},useTransition:function(){var n=wf(Zi)[0],r=St().memoizedState;return[typeof n=="boolean"?n:Al(n),r]},useSyncExternalStore:Ly,useId:m0,useHostTransitionStatus:If,useFormState:e0,useActionState:e0,useOptimistic:function(n,r){var a=St();return Ze!==null?Gy(a,Ze,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:p0},no=null,Nl=0;function Mc(n){var r=Nl;return Nl+=1,no===null&&(no=[]),Dy(no,n,r)}function Il(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Pc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function E0(n){var r=n._init;return r(n._payload)}function T0(n){function r(B,L){if(n){var H=B.deletions;H===null?(B.deletions=[L],B.flags|=16):H.push(L)}}function a(B,L){if(!n)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function d(B,L){return B=Ki(B,L),B.index=0,B.sibling=null,B}function f(B,L,H){return B.index=H,n?(H=B.alternate,H!==null?(H=H.index,H<L?(B.flags|=67108866,L):H):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function E(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function w(B,L,H,te){return L===null||L.tag!==6?(L=Xd(H,B.mode,te),L.return=B,L):(L=d(L,H),L.return=B,L)}function j(B,L,H,te){var pe=H.type;return pe===R?ee(B,L,H.props.children,te,H.key):L!==null&&(L.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&E0(pe)===L.type)?(L=d(L,H.props),Il(L,H),L.return=B,L):(L=vc(H.type,H.key,H.props,null,B.mode,te),Il(L,H),L.return=B,L)}function G(B,L,H,te){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Wd(H,B.mode,te),L.return=B,L):(L=d(L,H.children||[]),L.return=B,L)}function ee(B,L,H,te,pe){return L===null||L.tag!==7?(L=$s(H,B.mode,te,pe),L.return=B,L):(L=d(L,H),L.return=B,L)}function ie(B,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Xd(""+L,B.mode,H),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return H=vc(L.type,L.key,L.props,null,B.mode,H),Il(H,L),H.return=B,H;case P:return L=Wd(L,B.mode,H),L.return=B,L;case x:var te=L._init;return L=te(L._payload),ie(B,L,H)}if(fe(L)||k(L))return L=$s(L,B.mode,H,null),L.return=B,L;if(typeof L.then=="function")return ie(B,Mc(L),H);if(L.$$typeof===Z)return ie(B,Tc(B,L),H);Pc(B,L)}return null}function $(B,L,H,te){var pe=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:w(B,L,""+H,te);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return H.key===pe?j(B,L,H,te):null;case P:return H.key===pe?G(B,L,H,te):null;case x:return pe=H._init,H=pe(H._payload),$(B,L,H,te)}if(fe(H)||k(H))return pe!==null?null:ee(B,L,H,te,null);if(typeof H.then=="function")return $(B,L,Mc(H),te);if(H.$$typeof===Z)return $(B,L,Tc(B,H),te);Pc(B,H)}return null}function K(B,L,H,te,pe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(H)||null,w(L,B,""+te,pe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case T:return B=B.get(te.key===null?H:te.key)||null,j(L,B,te,pe);case P:return B=B.get(te.key===null?H:te.key)||null,G(L,B,te,pe);case x:var je=te._init;return te=je(te._payload),K(B,L,H,te,pe)}if(fe(te)||k(te))return B=B.get(H)||null,ee(L,B,te,pe,null);if(typeof te.then=="function")return K(B,L,H,Mc(te),pe);if(te.$$typeof===Z)return K(B,L,H,Tc(L,te),pe);Pc(L,te)}return null}function Se(B,L,H,te){for(var pe=null,je=null,ye=L,Te=L=0,zt=null;ye!==null&&Te<H.length;Te++){ye.index>Te?(zt=ye,ye=null):zt=ye.sibling;var Fe=$(B,ye,H[Te],te);if(Fe===null){ye===null&&(ye=zt);break}n&&ye&&Fe.alternate===null&&r(B,ye),L=f(Fe,L,Te),je===null?pe=Fe:je.sibling=Fe,je=Fe,ye=zt}if(Te===H.length)return a(B,ye),Ge&&Qs(B,Te),pe;if(ye===null){for(;Te<H.length;Te++)ye=ie(B,H[Te],te),ye!==null&&(L=f(ye,L,Te),je===null?pe=ye:je.sibling=ye,je=ye);return Ge&&Qs(B,Te),pe}for(ye=l(ye);Te<H.length;Te++)zt=K(ye,B,Te,H[Te],te),zt!==null&&(n&&zt.alternate!==null&&ye.delete(zt.key===null?Te:zt.key),L=f(zt,L,Te),je===null?pe=zt:je.sibling=zt,je=zt);return n&&ye.forEach(function(Wr){return r(B,Wr)}),Ge&&Qs(B,Te),pe}function Ee(B,L,H,te){if(H==null)throw Error(s(151));for(var pe=null,je=null,ye=L,Te=L=0,zt=null,Fe=H.next();ye!==null&&!Fe.done;Te++,Fe=H.next()){ye.index>Te?(zt=ye,ye=null):zt=ye.sibling;var Wr=$(B,ye,Fe.value,te);if(Wr===null){ye===null&&(ye=zt);break}n&&ye&&Wr.alternate===null&&r(B,ye),L=f(Wr,L,Te),je===null?pe=Wr:je.sibling=Wr,je=Wr,ye=zt}if(Fe.done)return a(B,ye),Ge&&Qs(B,Te),pe;if(ye===null){for(;!Fe.done;Te++,Fe=H.next())Fe=ie(B,Fe.value,te),Fe!==null&&(L=f(Fe,L,Te),je===null?pe=Fe:je.sibling=Fe,je=Fe);return Ge&&Qs(B,Te),pe}for(ye=l(ye);!Fe.done;Te++,Fe=H.next())Fe=K(ye,B,Te,Fe.value,te),Fe!==null&&(n&&Fe.alternate!==null&&ye.delete(Fe.key===null?Te:Fe.key),L=f(Fe,L,Te),je===null?pe=Fe:je.sibling=Fe,je=Fe);return n&&ye.forEach(function(iA){return r(B,iA)}),Ge&&Qs(B,Te),pe}function et(B,L,H,te){if(typeof H=="object"&&H!==null&&H.type===R&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case T:e:{for(var pe=H.key;L!==null;){if(L.key===pe){if(pe=H.type,pe===R){if(L.tag===7){a(B,L.sibling),te=d(L,H.props.children),te.return=B,B=te;break e}}else if(L.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===x&&E0(pe)===L.type){a(B,L.sibling),te=d(L,H.props),Il(te,H),te.return=B,B=te;break e}a(B,L);break}else r(B,L);L=L.sibling}H.type===R?(te=$s(H.props.children,B.mode,te,H.key),te.return=B,B=te):(te=vc(H.type,H.key,H.props,null,B.mode,te),Il(te,H),te.return=B,B=te)}return E(B);case P:e:{for(pe=H.key;L!==null;){if(L.key===pe)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){a(B,L.sibling),te=d(L,H.children||[]),te.return=B,B=te;break e}else{a(B,L);break}else r(B,L);L=L.sibling}te=Wd(H,B.mode,te),te.return=B,B=te}return E(B);case x:return pe=H._init,H=pe(H._payload),et(B,L,H,te)}if(fe(H))return Se(B,L,H,te);if(k(H)){if(pe=k(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),Ee(B,L,H,te)}if(typeof H.then=="function")return et(B,L,Mc(H),te);if(H.$$typeof===Z)return et(B,L,Tc(B,H),te);Pc(B,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(a(B,L.sibling),te=d(L,H),te.return=B,B=te):(a(B,L),te=Xd(H,B.mode,te),te.return=B,B=te),E(B)):a(B,L)}return function(B,L,H,te){try{Nl=0;var pe=et(B,L,H,te);return no=null,pe}catch(ye){if(ye===_l||ye===xc)throw ye;var je=En(29,ye,null,B.mode);return je.lanes=te,je.return=B,je}finally{}}}var io=T0(!0),w0=T0(!1),Bn=W(null),_i=null;function Pr(n){var r=n.alternate;J(jt,jt.current&1),J(Bn,n),_i===null&&(r===null||Za.current!==null||r.memoizedState!==null)&&(_i=n)}function x0(n){if(n.tag===22){if(J(jt,jt.current),J(Bn,n),_i===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(_i=n)}}else Vr()}function Vr(){J(jt,jt.current),J(Bn,Bn.current)}function Ji(n){ae(Bn),_i===n&&(_i=null),ae(jt)}var jt=W(0);function Vc(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Df(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:b({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var kf={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=An(),d=Or(l);d.payload=r,a!=null&&(d.callback=a),r=jr(n,d,l),r!==null&&(Sn(r,n,l),El(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=An(),d=Or(l);d.tag=1,d.payload=r,a!=null&&(d.callback=a),r=jr(n,d,l),r!==null&&(Sn(r,n,l),El(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=An(),l=Or(a);l.tag=2,r!=null&&(l.callback=r),r=jr(n,l,a),r!==null&&(Sn(r,n,a),El(r,n,a))}};function A0(n,r,a,l,d,f,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,f,E):r.prototype&&r.prototype.isPureReactComponent?!hl(a,l)||!hl(d,f):!0}function S0(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&kf.enqueueReplaceState(r,r.state,null)}function ta(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=b({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var Uc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function R0(n){Uc(n)}function N0(n){console.error(n)}function I0(n){Uc(n)}function Lc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function C0(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Of(n,r,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){Lc(n,r)},a}function D0(n){return n=Or(n),n.tag=3,n}function k0(n,r,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;n.payload=function(){return d(f)},n.callback=function(){C0(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){C0(r,a,l),typeof d!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function ix(n,r,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&gl(r,a,d,!0),a=Bn.current,a!==null){switch(a.tag){case 13:return _i===null?im():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===lf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),sm(n,l,d)),!1;case 22:return a.flags|=65536,l===lf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),sm(n,l,d)),!1}throw Error(s(435,a.tag))}return sm(n,l,d),im(),!1}if(Ge)return r=Bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==ef&&(n=Error(s(422),{cause:l}),pl(Vn(n,a)))):(l!==ef&&(r=Error(s(423),{cause:l}),pl(Vn(r,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Vn(l,a),d=Of(n.stateNode,l,d),hf(n,d),pt!==4&&(pt=2)),!1;var f=Error(s(520),{cause:l});if(f=Vn(f,a),Pl===null?Pl=[f]:Pl.push(f),pt!==4&&(pt=2),r===null)return!0;l=Vn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=Of(a.stateNode,l,n),hf(a,n),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hr===null||!Hr.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=D0(d),k0(d,n,a,l),hf(a,d),!1}a=a.return}while(a!==null);return!1}var O0=Error(s(461)),Ut=!1;function Ft(n,r,a,l){r.child=n===null?w0(r,null,a,l):io(r,n.child,a,l)}function j0(n,r,a,l,d){a=a.render;var f=r.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Zs(r),l=gf(n,r,a,E,f,d),w=yf(),n!==null&&!Ut?(vf(n,r,d),er(n,r,d)):(Ge&&w&&Zd(r),r.flags|=1,Ft(n,r,l,d),r.child)}function M0(n,r,a,l,d){if(n===null){var f=a.type;return typeof f=="function"&&!Yd(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,P0(n,r,f,l,d)):(n=vc(a.type,null,l,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(f=n.child,!Bf(n,d)){var E=f.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(E,l)&&n.ref===r.ref)return er(n,r,d)}return r.flags|=1,n=Ki(f,l),n.ref=r.ref,n.return=r,r.child=n}function P0(n,r,a,l,d){if(n!==null){var f=n.memoizedProps;if(hl(f,l)&&n.ref===r.ref)if(Ut=!1,r.pendingProps=l=f,Bf(n,d))(n.flags&131072)!==0&&(Ut=!0);else return r.lanes=n.lanes,er(n,r,d)}return jf(n,r,a,l,d)}function V0(n,r,a){var l=r.pendingProps,d=l.children,f=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,n!==null){for(d=r.child=n.child,f=0;d!==null;)f=f|d.lanes|d.childLanes,d=d.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return U0(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&wc(r,f!==null?f.cachePool:null),f!==null?Py(r,f):ff(),x0(r);else return r.lanes=r.childLanes=536870912,U0(n,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(wc(r,f.cachePool),Py(r,f),Vr(),r.memoizedState=null):(n!==null&&wc(r,null),ff(),Vr());return Ft(n,r,d,a),r.child}function U0(n,r,a,l){var d=of();return d=d===null?null:{parent:Ot._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},n!==null&&wc(r,null),ff(),x0(r),n!==null&&gl(n,r,l,!0),null}function zc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function jf(n,r,a,l,d){return Zs(r),a=gf(n,r,a,l,void 0,d),l=yf(),n!==null&&!Ut?(vf(n,r,d),er(n,r,d)):(Ge&&l&&Zd(r),r.flags|=1,Ft(n,r,a,d),r.child)}function L0(n,r,a,l,d,f){return Zs(r),r.updateQueue=null,a=Uy(r,l,a,d),Vy(n),l=yf(),n!==null&&!Ut?(vf(n,r,f),er(n,r,f)):(Ge&&l&&Zd(r),r.flags|=1,Ft(n,r,a,f),r.child)}function z0(n,r,a,l,d){if(Zs(r),r.stateNode===null){var f=Ka,E=a.contextType;typeof E=="object"&&E!==null&&(f=Zt(E)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=kf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},uf(r),E=a.contextType,f.context=typeof E=="object"&&E!==null?Zt(E):Ka,f.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Df(r,a,E,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&kf.enqueueReplaceState(f,f.state,null),wl(r,l,f,d),Tl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){f=r.stateNode;var w=r.memoizedProps,j=ta(a,w);f.props=j;var G=f.context,ee=a.contextType;E=Ka,typeof ee=="object"&&ee!==null&&(E=Zt(ee));var ie=a.getDerivedStateFromProps;ee=typeof ie=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,ee||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||G!==E)&&S0(r,f,l,E),kr=!1;var $=r.memoizedState;f.state=$,wl(r,l,f,d),Tl(),G=r.memoizedState,w||$!==G||kr?(typeof ie=="function"&&(Df(r,a,ie,l),G=r.memoizedState),(j=kr||A0(r,a,j,l,$,G,E))?(ee||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),f.props=l,f.state=G,f.context=E,l=j):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,cf(n,r),E=r.memoizedProps,ee=ta(a,E),f.props=ee,ie=r.pendingProps,$=f.context,G=a.contextType,j=Ka,typeof G=="object"&&G!==null&&(j=Zt(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==ie||$!==j)&&S0(r,f,l,j),kr=!1,$=r.memoizedState,f.state=$,wl(r,l,f,d),Tl();var K=r.memoizedState;E!==ie||$!==K||kr||n!==null&&n.dependencies!==null&&Ec(n.dependencies)?(typeof w=="function"&&(Df(r,a,w,l),K=r.memoizedState),(ee=kr||A0(r,a,ee,l,$,K,j)||n!==null&&n.dependencies!==null&&Ec(n.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,K,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,K,j)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),f.props=l,f.state=K,f.context=j,l=ee):(typeof f.componentDidUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&$===n.memoizedState||(r.flags|=1024),l=!1)}return f=l,zc(n,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,n!==null&&l?(r.child=io(r,n.child,null,d),r.child=io(r,null,a,d)):Ft(n,r,a,d),r.memoizedState=f.state,n=r.child):n=er(n,r,d),n}function B0(n,r,a,l){return ml(),r.flags|=256,Ft(n,r,a,l),r.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(n){return{baseLanes:n,cachePool:Ny()}}function Vf(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=qn),n}function q0(n,r,a){var l=r.pendingProps,d=!1,f=(r.flags&128)!==0,E;if((E=f)||(E=n!==null&&n.memoizedState===null?!1:(jt.current&2)!==0),E&&(d=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ge){if(d?Pr(r):Vr(),Ge){var w=mt,j;if(j=w){e:{for(j=w,w=vi;j.nodeType!==8;){if(!w){w=null;break e}if(j=Jn(j.nextSibling),j===null){w=null;break e}}w=j}w!==null?(r.memoizedState={dehydrated:w,treeContext:Ks!==null?{id:Qi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},j=En(18,null,null,0),j.stateNode=w,j.return=r,r.child=j,ln=r,mt=null,j=!0):j=!1}j||Xs(r)}if(w=r.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return bm(w)?r.lanes=32:r.lanes=536870912,null;Ji(r)}return w=l.children,l=l.fallback,d?(Vr(),d=r.mode,w=Bc({mode:"hidden",children:w},d),l=$s(l,d,a,null),w.return=r,l.return=r,w.sibling=l,r.child=w,d=r.child,d.memoizedState=Pf(a),d.childLanes=Vf(n,E,a),r.memoizedState=Mf,l):(Pr(r),Uf(r,w))}if(j=n.memoizedState,j!==null&&(w=j.dehydrated,w!==null)){if(f)r.flags&256?(Pr(r),r.flags&=-257,r=Lf(n,r,a)):r.memoizedState!==null?(Vr(),r.child=n.child,r.flags|=128,r=null):(Vr(),d=l.fallback,w=r.mode,l=Bc({mode:"visible",children:l.children},w),d=$s(d,w,a,null),d.flags|=2,l.return=r,d.return=r,l.sibling=d,r.child=l,io(r,n.child,null,a),l=r.child,l.memoizedState=Pf(a),l.childLanes=Vf(n,E,a),r.memoizedState=Mf,r=d);else if(Pr(r),bm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var G=E.dgst;E=G,l=Error(s(419)),l.stack="",l.digest=E,pl({value:l,source:null,stack:null}),r=Lf(n,r,a)}else if(Ut||gl(n,r,a,!1),E=(a&n.childLanes)!==0,Ut||E){if(E=it,E!==null&&(l=a&-a,l=(l&42)!==0?1:xr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==j.retryLane))throw j.retryLane=l,$a(n,l),Sn(E,n,l),O0;w.data==="$?"||im(),r=Lf(n,r,a)}else w.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=j.treeContext,mt=Jn(w.nextSibling),ln=r,Ge=!0,Ys=null,vi=!1,n!==null&&(Ln[zn++]=Qi,Ln[zn++]=Yi,Ln[zn++]=Ks,Qi=n.id,Yi=n.overflow,Ks=r),r=Uf(r,l.children),r.flags|=4096);return r}return d?(Vr(),d=l.fallback,w=r.mode,j=n.child,G=j.sibling,l=Ki(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,G!==null?d=Ki(G,d):(d=$s(d,w,a,null),d.flags|=2),d.return=r,l.return=r,l.sibling=d,r.child=l,l=d,d=r.child,w=n.child.memoizedState,w===null?w=Pf(a):(j=w.cachePool,j!==null?(G=Ot._currentValue,j=j.parent!==G?{parent:G,pool:G}:j):j=Ny(),w={baseLanes:w.baseLanes|a,cachePool:j}),d.memoizedState=w,d.childLanes=Vf(n,E,a),r.memoizedState=Mf,l):(Pr(r),a=n.child,n=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function Uf(n,r){return r=Bc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Bc(n,r){return n=En(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Lf(n,r,a){return io(r,n.child,null,a),n=Uf(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function H0(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),nf(n.return,r,a)}function zf(n,r,a,l,d){var f=n.memoizedState;f===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=d)}function F0(n,r,a){var l=r.pendingProps,d=l.revealOrder,f=l.tail;if(Ft(n,r,l.children,a),l=jt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&H0(n,a,r);else if(n.tag===19)H0(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(J(jt,l),d){case"forwards":for(a=r.child,d=null;a!==null;)n=a.alternate,n!==null&&Vc(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=r.child,r.child=null):(d=a.sibling,a.sibling=null),zf(r,!1,d,a,f);break;case"backwards":for(a=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&Vc(n)===null){r.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}zf(r,!0,a,null,f);break;case"together":zf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function er(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),qr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(gl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Ki(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Ki(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Bf(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Ec(n)))}function rx(n,r,a){switch(r.tag){case 3:He(r,r.stateNode.containerInfo),Dr(r,Ot,n.memoizedState.cache),ml();break;case 27:case 5:Cn(r);break;case 4:He(r,r.stateNode.containerInfo);break;case 10:Dr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?q0(n,r,a):(Pr(r),n=er(n,r,a),n!==null?n.sibling:null);Pr(r);break;case 19:var d=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(gl(n,r,a,!1),l=(a&r.childLanes)!==0),d){if(l)return F0(n,r,a);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(jt,jt.current),l)break;return null;case 22:case 23:return r.lanes=0,V0(n,r,a);case 24:Dr(r,Ot,n.memoizedState.cache)}return er(n,r,a)}function G0(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)Ut=!0;else{if(!Bf(n,a)&&(r.flags&128)===0)return Ut=!1,rx(n,r,a);Ut=(n.flags&131072)!==0}else Ut=!1,Ge&&(r.flags&1048576)!==0&&Ey(r,bc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,d=l._init;if(l=d(l._payload),r.type=l,typeof l=="function")Yd(l)?(n=ta(l,n),r.tag=1,r=z0(null,r,l,n,a)):(r.tag=0,r=jf(null,r,l,n,a));else{if(l!=null){if(d=l.$$typeof,d===oe){r.tag=11,r=j0(null,r,l,n,a);break e}else if(d===O){r.tag=14,r=M0(null,r,l,n,a);break e}}throw r=be(l)||l,Error(s(306,r,""))}}return r;case 0:return jf(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,d=ta(l,r.pendingProps),z0(n,r,l,d,a);case 3:e:{if(He(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;d=f.element,cf(n,r),wl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Dr(r,Ot,l),l!==f.cache&&rf(r,[Ot],a,!0),Tl(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=B0(n,r,l,a);break e}else if(l!==d){d=Vn(Error(s(424)),r),pl(d),r=B0(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(mt=Jn(n.firstChild),ln=r,Ge=!0,Ys=null,vi=!0,a=w0(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ml(),l===d){r=er(n,r,a);break e}Ft(n,r,l,a)}r=r.child}return r;case 26:return zc(n,r),n===null?(a=Yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,n=r.pendingProps,l=th(ve.current).createElement(a),l[Ct]=r,l[wt]=n,$t(l,a,n),_t(l),r.stateNode=l):r.memoizedState=Yv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Cn(r),n===null&&Ge&&(l=r.stateNode=$v(r.type,r.pendingProps,ve.current),ln=r,vi=!0,d=mt,$r(r.type)?(Em=d,mt=Jn(l.firstChild)):mt=d),Ft(n,r,r.pendingProps.children,a),zc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ge&&((d=l=mt)&&(l=kx(l,r.type,r.pendingProps,vi),l!==null?(r.stateNode=l,ln=r,mt=Jn(l.firstChild),vi=!1,d=!0):d=!1),d||Xs(r)),Cn(r),d=r.type,f=r.pendingProps,E=n!==null?n.memoizedProps:null,l=f.children,ym(d,f)?l=null:E!==null&&ym(d,E)&&(r.flags|=32),r.memoizedState!==null&&(d=gf(n,r,Xw,null,null,a),Gl._currentValue=d),zc(n,r),Ft(n,r,l,a),r.child;case 6:return n===null&&Ge&&((n=a=mt)&&(a=Ox(a,r.pendingProps,vi),a!==null?(r.stateNode=a,ln=r,mt=null,n=!0):n=!1),n||Xs(r)),null;case 13:return q0(n,r,a);case 4:return He(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=io(r,null,l,a):Ft(n,r,l,a),r.child;case 11:return j0(n,r,r.type,r.pendingProps,a);case 7:return Ft(n,r,r.pendingProps,a),r.child;case 8:return Ft(n,r,r.pendingProps.children,a),r.child;case 12:return Ft(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Dr(r,r.type,l.value),Ft(n,r,l.children,a),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Zs(r),d=Zt(d),l=l(d),r.flags|=1,Ft(n,r,l,a),r.child;case 14:return M0(n,r,r.type,r.pendingProps,a);case 15:return P0(n,r,r.type,r.pendingProps,a);case 19:return F0(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Bc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Ki(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return V0(n,r,a);case 24:return Zs(r),l=Zt(Ot),n===null?(d=of(),d===null&&(d=it,f=sf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),r.memoizedState={parent:l,cache:d},uf(r),Dr(r,Ot,d)):((n.lanes&a)!==0&&(cf(n,r),wl(r,null,null,a),Tl()),d=n.memoizedState,f=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),Dr(r,Ot,l)):(l=f.cache,Dr(r,Ot,l),l!==d.cache&&rf(r,[Ot],a,!0))),Ft(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function tr(n){n.flags|=4}function $0(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!e_(r)){if(r=Bn.current,r!==null&&((Be&4194048)===Be?_i!==null:(Be&62914560)!==Be&&(Be&536870912)===0||r!==_i))throw bl=lf,Iy;n.flags|=8192}}function qc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Ko():536870912,n.lanes|=r,oo|=r)}function Cl(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function sx(n,r,a){var l=r.pendingProps;switch(Jd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Wi(Ot),nt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(fl(r)?tr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,xy())),ht(r),null;case 26:return a=r.memoizedState,n===null?(tr(r),a!==null?(ht(r),$0(r,a)):(ht(r),r.flags&=-16777217)):a?a!==n.memoizedState?(tr(r),ht(r),$0(r,a)):(ht(r),r.flags&=-16777217):(n.memoizedProps!==l&&tr(r),ht(r),r.flags&=-16777217),null;case 27:ji(r),a=ve.current;var d=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}n=me.current,fl(r)?Ty(r):(n=$v(d,l,a),r.stateNode=n,tr(r))}return ht(r),null;case 5:if(ji(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(n=me.current,fl(r))Ty(r);else{switch(d=th(ve.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}n[Ct]=r,n[wt]=l;e:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break e;for(;d.sibling===null;){if(d.return===null||d.return===r)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=n;e:switch($t(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&tr(r)}}return ht(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&tr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=ve.current,fl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,d=ln,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[Ct]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Lv(n.nodeValue,a)),n||Xs(r)}else n=th(n).createTextNode(l),n[Ct]=r,r.stateNode=n}return ht(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=fl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(s(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Ct]=r}else ml(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),d=!1}else d=xy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Ji(r),r):(Ji(r),null)}if(Ji(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),qc(r,r.updateQueue),ht(r),null;case 4:return nt(),n===null&&dm(r.stateNode.containerInfo),ht(r),null;case 10:return Wi(r.type),ht(r),null;case 19:if(ae(jt),d=r.memoizedState,d===null)return ht(r),null;if(l=(r.flags&128)!==0,f=d.rendering,f===null)if(l)Cl(d,!1);else{if(pt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(f=Vc(n),f!==null){for(r.flags|=128,Cl(d,!1),n=f.updateQueue,r.updateQueue=n,qc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)by(a,n),a=a.sibling;return J(jt,jt.current&1|2),r.child}n=n.sibling}d.tail!==null&&Dn()>Gc&&(r.flags|=128,l=!0,Cl(d,!1),r.lanes=4194304)}else{if(!l)if(n=Vc(f),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,qc(r,n),Cl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!f.alternate&&!Ge)return ht(r),null}else 2*Dn()-d.renderingStartTime>Gc&&a!==536870912&&(r.flags|=128,l=!0,Cl(d,!1),r.lanes=4194304);d.isBackwards?(f.sibling=r.child,r.child=f):(n=d.last,n!==null?n.sibling=f:r.child=f,d.last=f)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Dn(),r.sibling=null,n=jt.current,J(jt,l?n&1|2:n&1),r):(ht(r),null);case 22:case 23:return Ji(r),mf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),a=r.updateQueue,a!==null&&qc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&ae(Js),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Wi(Ot),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function ax(n,r){switch(Jd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Wi(Ot),nt(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ji(r),null;case 13:if(Ji(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ml()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ae(jt),null;case 4:return nt(),null;case 10:return Wi(r.type),null;case 22:case 23:return Ji(r),mf(),n!==null&&ae(Js),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Wi(Ot),null;case 25:return null;default:return null}}function K0(n,r){switch(Jd(r),r.tag){case 3:Wi(Ot),nt();break;case 26:case 27:case 5:ji(r);break;case 4:nt();break;case 13:Ji(r);break;case 19:ae(jt);break;case 10:Wi(r.type);break;case 22:case 23:Ji(r),mf(),n!==null&&ae(Js);break;case 24:Wi(Ot)}}function Dl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var f=a.create,E=a.inst;l=f(),E.destroy=l}a=a.next}while(a!==d)}}catch(w){tt(r,r.return,w)}}function Ur(n,r,a){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&n)===n){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,d=r;var j=a,G=w;try{G()}catch(ee){tt(d,j,ee)}}}l=l.next}while(l!==f)}}catch(ee){tt(r,r.return,ee)}}function Q0(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{My(r,a)}catch(l){tt(n,n.return,l)}}}function Y0(n,r,a){a.props=ta(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){tt(n,r,l)}}function kl(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){tt(n,r,d)}}function bi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){tt(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){tt(n,r,d)}else a.current=null}function X0(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){tt(n,n.return,d)}}function qf(n,r,a){try{var l=n.stateNode;Rx(l,n.type,a,r),l[wt]=r}catch(d){tt(n,n.return,d)}}function W0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&$r(n.type)||n.tag===4}function Hf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||W0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&$r(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ff(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=eh));else if(l!==4&&(l===27&&$r(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Ff(n,r,a),n=n.sibling;n!==null;)Ff(n,r,a),n=n.sibling}function Hc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&$r(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Hc(n,r,a),n=n.sibling;n!==null;)Hc(n,r,a),n=n.sibling}function Z0(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);$t(r,l,a),r[Ct]=n,r[wt]=a}catch(f){tt(n,n.return,f)}}var nr=!1,Et=!1,Gf=!1,J0=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function ox(n,r){if(n=n.containerInfo,pm=oh,n=cy(n),qd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var E=0,w=-1,j=-1,G=0,ee=0,ie=n,$=null;t:for(;;){for(var K;ie!==a||d!==0&&ie.nodeType!==3||(w=E+d),ie!==f||l!==0&&ie.nodeType!==3||(j=E+l),ie.nodeType===3&&(E+=ie.nodeValue.length),(K=ie.firstChild)!==null;)$=ie,ie=K;for(;;){if(ie===n)break t;if($===a&&++G===d&&(w=E),$===f&&++ee===l&&(j=E),(K=ie.nextSibling)!==null)break;ie=$,$=ie.parentNode}ie=K}a=w===-1||j===-1?null:{start:w,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(gm={focusedElem:n,selectionRange:a},oh=!1,Lt=r;Lt!==null;)if(r=Lt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Lt=n;else for(;Lt!==null;){switch(r=Lt,f=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&f!==null){n=void 0,a=r,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Se=ta(a.type,d,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Se,f),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ee){tt(a,a.return,Ee)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)_m(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":_m(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Lt=n;break}Lt=r.return}}function ev(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Lr(n,a),l&4&&Dl(5,a);break;case 1:if(Lr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){tt(a,a.return,E)}else{var d=ta(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(a,a.return,E)}}l&64&&Q0(a),l&512&&kl(a,a.return);break;case 3:if(Lr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{My(n,r)}catch(E){tt(a,a.return,E)}}break;case 27:r===null&&l&4&&Z0(a);case 26:case 5:Lr(n,a),r===null&&l&4&&X0(a),l&512&&kl(a,a.return);break;case 12:Lr(n,a);break;case 13:Lr(n,a),l&4&&iv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=gx.bind(null,a),jx(n,a))));break;case 22:if(l=a.memoizedState!==null||nr,!l){r=r!==null&&r.memoizedState!==null||Et,d=nr;var f=Et;nr=l,(Et=r)&&!f?zr(n,a,(a.subtreeFlags&8772)!==0):Lr(n,a),nr=d,Et=f}break;case 30:break;default:Lr(n,a)}}function tv(n){var r=n.alternate;r!==null&&(n.alternate=null,tv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Rr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var lt=null,dn=!1;function ir(n,r,a){for(a=a.child;a!==null;)nv(n,r,a),a=a.sibling}function nv(n,r,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:Et||bi(a,r),ir(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Et||bi(a,r);var l=lt,d=dn;$r(a.type)&&(lt=a.stateNode,dn=!1),ir(n,r,a),Bl(a.stateNode),lt=l,dn=d;break;case 5:Et||bi(a,r);case 6:if(l=lt,d=dn,lt=null,ir(n,r,a),lt=l,dn=d,lt!==null)if(dn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){tt(a,r,f)}else try{lt.removeChild(a.stateNode)}catch(f){tt(a,r,f)}break;case 18:lt!==null&&(dn?(n=lt,Fv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Yl(n)):Fv(lt,a.stateNode));break;case 4:l=lt,d=dn,lt=a.stateNode.containerInfo,dn=!0,ir(n,r,a),lt=l,dn=d;break;case 0:case 11:case 14:case 15:Et||Ur(2,a,r),Et||Ur(4,a,r),ir(n,r,a);break;case 1:Et||(bi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Y0(a,r,l)),ir(n,r,a);break;case 21:ir(n,r,a);break;case 22:Et=(l=Et)||a.memoizedState!==null,ir(n,r,a),Et=l;break;default:ir(n,r,a)}}function iv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Yl(n)}catch(a){tt(r,r.return,a)}}function lx(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new J0),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new J0),r;default:throw Error(s(435,n.tag))}}function $f(n,r){var a=lx(n);r.forEach(function(l){var d=yx.bind(null,n,l);a.has(l)||(a.add(l),l.then(d,d))})}function Tn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=n,E=r,w=E;e:for(;w!==null;){switch(w.tag){case 27:if($r(w.type)){lt=w.stateNode,dn=!1;break e}break;case 5:lt=w.stateNode,dn=!1;break e;case 3:case 4:lt=w.stateNode.containerInfo,dn=!0;break e}w=w.return}if(lt===null)throw Error(s(160));nv(f,E,d),lt=null,dn=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)rv(r,n),r=r.sibling}var Zn=null;function rv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tn(r,n),wn(n),l&4&&(Ur(3,n,n.return),Dl(3,n),Ur(5,n,n.return));break;case 1:Tn(r,n),wn(n),l&512&&(Et||a===null||bi(a,a.return)),l&64&&nr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=Zn;if(Tn(r,n),wn(n),l&512&&(Et||a===null||bi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[Cs]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),$t(f,l,a),f[Ct]=n,_t(f),l=f;break e;case"link":var E=Zv("link","href",d).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(f=E[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}f=d.createElement(l),$t(f,l,a),d.head.appendChild(f);break;case"meta":if(E=Zv("meta","content",d).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(f=E[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}f=d.createElement(l),$t(f,l,a),d.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ct]=n,_t(f),l=f}n.stateNode=l}else Jv(d,n.type,n.stateNode);else n.stateNode=Wv(d,l,n.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Jv(d,n.type,n.stateNode):Wv(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&qf(n,n.memoizedProps,a.memoizedProps)}break;case 27:Tn(r,n),wn(n),l&512&&(Et||a===null||bi(a,a.return)),a!==null&&l&4&&qf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Tn(r,n),wn(n),l&512&&(Et||a===null||bi(a,a.return)),n.flags&32){d=n.stateNode;try{On(d,"")}catch(K){tt(n,n.return,K)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,qf(n,d,a!==null?a.memoizedProps:d)),l&1024&&(Gf=!0);break;case 6:if(Tn(r,n),wn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){tt(n,n.return,K)}}break;case 3:if(rh=null,d=Zn,Zn=nh(r.containerInfo),Tn(r,n),Zn=d,wn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yl(r.containerInfo)}catch(K){tt(n,n.return,K)}Gf&&(Gf=!1,sv(n));break;case 4:l=Zn,Zn=nh(n.stateNode.containerInfo),Tn(r,n),wn(n),Zn=l;break;case 12:Tn(r,n),wn(n);break;case 13:Tn(r,n),wn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Zf=Dn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$f(n,l)));break;case 22:d=n.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,G=nr,ee=Et;if(nr=G||d,Et=ee||j,Tn(r,n),Et=ee,nr=G,wn(n),l&8192)e:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(a===null||j||nr||Et||na(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){j=a=r;try{if(f=j.stateNode,d)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=j.stateNode;var ie=j.memoizedProps.style,$=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){tt(j,j.return,K)}}}else if(r.tag===6){if(a===null){j=r;try{j.stateNode.nodeValue=d?"":j.memoizedProps}catch(K){tt(j,j.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,$f(n,a))));break;case 19:Tn(r,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,$f(n,l)));break;case 30:break;case 21:break;default:Tn(r,n),wn(n)}}function wn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(W0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var d=a.stateNode,f=Hf(n);Hc(n,f,d);break;case 5:var E=a.stateNode;a.flags&32&&(On(E,""),a.flags&=-33);var w=Hf(n);Hc(n,w,E);break;case 3:case 4:var j=a.stateNode.containerInfo,G=Hf(n);Ff(n,G,j);break;default:throw Error(s(161))}}catch(ee){tt(n,n.return,ee)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function sv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;sv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Lr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ev(n,r.alternate,r),r=r.sibling}function na(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ur(4,r,r.return),na(r);break;case 1:bi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Y0(r,r.return,a),na(r);break;case 27:Bl(r.stateNode);case 26:case 5:bi(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}n=n.sibling}}function zr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=n,f=r,E=f.flags;switch(f.tag){case 0:case 11:case 15:zr(d,f,a),Dl(4,f);break;case 1:if(zr(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){tt(l,l.return,G)}if(l=f,d=l.updateQueue,d!==null){var w=l.stateNode;try{var j=d.shared.hiddenCallbacks;if(j!==null)for(d.shared.hiddenCallbacks=null,d=0;d<j.length;d++)jy(j[d],w)}catch(G){tt(l,l.return,G)}}a&&E&64&&Q0(f),kl(f,f.return);break;case 27:Z0(f);case 26:case 5:zr(d,f,a),a&&l===null&&E&4&&X0(f),kl(f,f.return);break;case 12:zr(d,f,a);break;case 13:zr(d,f,a),a&&E&4&&iv(d,f);break;case 22:f.memoizedState===null&&zr(d,f,a),kl(f,f.return);break;case 30:break;default:zr(d,f,a)}r=r.sibling}}function Kf(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&yl(a))}function Qf(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yl(n))}function Ei(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)av(n,r,a,l),r=r.sibling}function av(n,r,a,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(n,r,a,l),d&2048&&Dl(9,r);break;case 1:Ei(n,r,a,l);break;case 3:Ei(n,r,a,l),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yl(n)));break;case 12:if(d&2048){Ei(n,r,a,l),n=r.stateNode;try{var f=r.memoizedProps,E=f.id,w=f.onPostCommit;typeof w=="function"&&w(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(j){tt(r,r.return,j)}}else Ei(n,r,a,l);break;case 13:Ei(n,r,a,l);break;case 23:break;case 22:f=r.stateNode,E=r.alternate,r.memoizedState!==null?f._visibility&2?Ei(n,r,a,l):Ol(n,r):f._visibility&2?Ei(n,r,a,l):(f._visibility|=2,ro(n,r,a,l,(r.subtreeFlags&10256)!==0)),d&2048&&Kf(E,r);break;case 24:Ei(n,r,a,l),d&2048&&Qf(r.alternate,r);break;default:Ei(n,r,a,l)}}function ro(n,r,a,l,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=n,E=r,w=a,j=l,G=E.flags;switch(E.tag){case 0:case 11:case 15:ro(f,E,w,j,d),Dl(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?ro(f,E,w,j,d):Ol(f,E):(ee._visibility|=2,ro(f,E,w,j,d)),d&&G&2048&&Kf(E.alternate,E);break;case 24:ro(f,E,w,j,d),d&&G&2048&&Qf(E.alternate,E);break;default:ro(f,E,w,j,d)}r=r.sibling}}function Ol(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,d=l.flags;switch(l.tag){case 22:Ol(a,l),d&2048&&Kf(l.alternate,l);break;case 24:Ol(a,l),d&2048&&Qf(l.alternate,l);break;default:Ol(a,l)}r=r.sibling}}var jl=8192;function so(n){if(n.subtreeFlags&jl)for(n=n.child;n!==null;)ov(n),n=n.sibling}function ov(n){switch(n.tag){case 26:so(n),n.flags&jl&&n.memoizedState!==null&&Kx(Zn,n.memoizedState,n.memoizedProps);break;case 5:so(n);break;case 3:case 4:var r=Zn;Zn=nh(n.stateNode.containerInfo),so(n),Zn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=jl,jl=16777216,so(n),jl=r):so(n));break;default:so(n)}}function lv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Ml(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,cv(l,n)}lv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)uv(n),n=n.sibling}function uv(n){switch(n.tag){case 0:case 11:case 15:Ml(n),n.flags&2048&&Ur(9,n,n.return);break;case 3:Ml(n);break;case 12:Ml(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Fc(n)):Ml(n);break;default:Ml(n)}}function Fc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,cv(l,n)}lv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ur(8,r,r.return),Fc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Fc(r));break;default:Fc(r)}n=n.sibling}}function cv(n,r){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Ur(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:yl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=n;Lt!==null;){l=Lt;var d=l.sibling,f=l.return;if(tv(l),l===a){Lt=null;break e}if(d!==null){d.return=f,Lt=d;break e}Lt=f}}}var ux={getCacheForType:function(n){var r=Zt(Ot),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},cx=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Me=null,Be=0,Xe=0,xn=null,Br=!1,ao=!1,Yf=!1,rr=0,pt=0,qr=0,ia=0,Xf=0,qn=0,oo=0,Pl=null,fn=null,Wf=!1,Zf=0,Gc=1/0,$c=null,Hr=null,Gt=0,Fr=null,lo=null,uo=0,Jf=0,em=null,hv=null,Vl=0,tm=null;function An(){if((Ye&2)!==0&&Be!==0)return Be&-Be;if(Q.T!==null){var n=Xa;return n!==0?n:lm()}return Ar()}function dv(){qn===0&&(qn=(Be&536870912)===0||Ge?$o():536870912);var n=Bn.current;return n!==null&&(n.flags|=32),qn}function Sn(n,r,a){(n===it&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(co(n,0),Gr(n,Be,qn,!1)),Pi(n,a),((Ye&2)===0||n!==it)&&(n===it&&((Ye&2)===0&&(ia|=a),pt===4&&Gr(n,Be,qn,!1)),Ti(n))}function fv(n,r,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Is(n,r),d=l?fx(n,r):rm(n,r,!0),f=l;do{if(d===0){ao&&!l&&Gr(n,r,0,!1);break}else{if(a=n.current.alternate,f&&!hx(a)){d=rm(n,r,!1),f=!1;continue}if(d===2){if(f=r,n.errorRecoveryDisabledLanes&f)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var w=n;d=Pl;var j=w.current.memoizedState.isDehydrated;if(j&&(co(w,E).flags|=256),E=rm(w,E,!1),E!==2){if(Yf&&!j){w.errorRecoveryDisabledLanes|=f,ia|=f,d=4;break e}f=fn,fn=d,f!==null&&(fn===null?fn=f:fn.push.apply(fn,f))}d=E}if(f=!1,d!==2)continue}}if(d===1){co(n,0),Gr(n,r,0,!0);break}e:{switch(l=n,f=d,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Gr(l,r,qn,!Br);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(d=Zf+300-Dn(),10<d)){if(Gr(l,r,qn,!Br),Ra(l,0,!0)!==0)break e;l.timeoutHandle=qv(mv.bind(null,l,a,fn,$c,Wf,r,qn,ia,oo,Br,f,2,-0,0),d);break e}mv(l,a,fn,$c,Wf,r,qn,ia,oo,Br,f,0,-0,0)}}break}while(!0);Ti(n)}function mv(n,r,a,l,d,f,E,w,j,G,ee,ie,$,K){if(n.timeoutHandle=-1,ie=r.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Fl={stylesheets:null,count:0,unsuspend:$x},ov(r),ie=Qx(),ie!==null)){n.cancelPendingCommit=ie(Ev.bind(null,n,r,f,a,l,d,E,w,j,ee,1,$,K)),Gr(n,f,E,!G);return}Ev(n,r,f,a,l,d,E,w,j)}function hx(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!bn(f(),d))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Gr(n,r,a,l){r&=~Xf,r&=~ia,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var d=r;0<d;){var f=31-Wt(d),E=1<<f;l[f]=-1,d&=~E}a!==0&&oi(n,a,r)}function Kc(){return(Ye&6)===0?(Ul(0),!1):!0}function nm(){if(Me!==null){if(Xe===0)var n=Me.return;else n=Me,Xi=Ws=null,_f(n),no=null,Nl=0,n=Me;for(;n!==null;)K0(n.alternate,n),n=n.return;Me=null}}function co(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,Ix(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),nm(),it=n,Me=a=Ki(n.current,null),Be=r,Xe=0,xn=null,Br=!1,ao=Is(n,r),Yf=!1,oo=qn=Xf=ia=qr=pt=0,fn=Pl=null,Wf=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var d=31-Wt(l),f=1<<d;r|=n[d],l&=~f}return rr=r,pc(),a}function pv(n,r){ke=null,Q.H=jc,r===_l||r===xc?(r=ky(),Xe=3):r===Iy?(r=ky(),Xe=4):Xe=r===O0?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,Me===null&&(pt=1,Lc(n,Vn(r,n.current)))}function gv(){var n=Q.H;return Q.H=jc,n===null?jc:n}function yv(){var n=Q.A;return Q.A=ux,n}function im(){pt=4,Br||(Be&4194048)!==Be&&Bn.current!==null||(ao=!0),(qr&134217727)===0&&(ia&134217727)===0||it===null||Gr(it,Be,qn,!1)}function rm(n,r,a){var l=Ye;Ye|=2;var d=gv(),f=yv();(it!==n||Be!==r)&&($c=null,co(n,r)),r=!1;var E=pt;e:do try{if(Xe!==0&&Me!==null){var w=Me,j=xn;switch(Xe){case 8:nm(),E=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(r=!0);var G=Xe;if(Xe=0,xn=null,ho(n,w,j,G),a&&ao){E=0;break e}break;default:G=Xe,Xe=0,xn=null,ho(n,w,j,G)}}dx(),E=pt;break}catch(ee){pv(n,ee)}while(!0);return r&&n.shellSuspendCounter++,Xi=Ws=null,Ye=l,Q.H=d,Q.A=f,Me===null&&(it=null,Be=0,pc()),E}function dx(){for(;Me!==null;)vv(Me)}function fx(n,r){var a=Ye;Ye|=2;var l=gv(),d=yv();it!==n||Be!==r?($c=null,Gc=Dn()+500,co(n,r)):ao=Is(n,r);e:do try{if(Xe!==0&&Me!==null){r=Me;var f=xn;t:switch(Xe){case 1:Xe=0,xn=null,ho(n,r,f,1);break;case 2:case 9:if(Cy(f)){Xe=0,xn=null,_v(r);break}r=function(){Xe!==2&&Xe!==9||it!==n||(Xe=7),Ti(n)},f.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Cy(f)?(Xe=0,xn=null,_v(r)):(Xe=0,xn=null,ho(n,r,f,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var w=Me;if(!E||e_(E)){Xe=0,xn=null;var j=w.sibling;if(j!==null)Me=j;else{var G=w.return;G!==null?(Me=G,Qc(G)):Me=null}break t}}Xe=0,xn=null,ho(n,r,f,5);break;case 6:Xe=0,xn=null,ho(n,r,f,6);break;case 8:nm(),pt=6;break e;default:throw Error(s(462))}}mx();break}catch(ee){pv(n,ee)}while(!0);return Xi=Ws=null,Q.H=l,Q.A=d,Ye=a,Me!==null?0:(it=null,Be=0,pc(),pt)}function mx(){for(;Me!==null&&!qo();)vv(Me)}function vv(n){var r=G0(n.alternate,n,rr);n.memoizedProps=n.pendingProps,r===null?Qc(n):Me=r}function _v(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=L0(a,r,r.pendingProps,r.type,void 0,Be);break;case 11:r=L0(a,r,r.pendingProps,r.type.render,r.ref,Be);break;case 5:_f(r);default:K0(a,r),r=Me=by(r,rr),r=G0(a,r,rr)}n.memoizedProps=n.pendingProps,r===null?Qc(n):Me=r}function ho(n,r,a,l){Xi=Ws=null,_f(r),no=null,Nl=0;var d=r.return;try{if(ix(n,d,r,a,Be)){pt=1,Lc(n,Vn(a,n.current)),Me=null;return}}catch(f){if(d!==null)throw Me=d,f;pt=1,Lc(n,Vn(a,n.current)),Me=null;return}r.flags&32768?(Ge||l===1?n=!0:ao||(Be&536870912)!==0?n=!1:(Br=n=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),bv(r,n)):Qc(r)}function Qc(n){var r=n;do{if((r.flags&32768)!==0){bv(r,Br);return}n=r.return;var a=sx(r.alternate,r,rr);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=n}while(r!==null);pt===0&&(pt=5)}function bv(n,r){do{var a=ax(n.alternate,n);if(a!==null){a.flags&=32767,Me=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Me=n;return}Me=n=a}while(n!==null);pt=6,Me=null}function Ev(n,r,a,l,d,f,E,w,j){n.cancelPendingCommit=null;do Yc();while(Gt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Kd,Qo(n,a,f,E,w,j),n===it&&(Me=it=null,Be=0),lo=r,Fr=n,uo=a,Jf=f,em=d,hv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,vx(As,function(){return Sv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=se.p,se.p=2,E=Ye,Ye|=4;try{ox(n,r,a)}finally{Ye=E,se.p=d,Q.T=l}}Gt=1,Tv(),wv(),xv()}}function Tv(){if(Gt===1){Gt=0;var n=Fr,r=lo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var d=Ye;Ye|=4;try{rv(r,n);var f=gm,E=cy(n.containerInfo),w=f.focusedElem,j=f.selectionRange;if(E!==w&&w&&w.ownerDocument&&uy(w.ownerDocument.documentElement,w)){if(j!==null&&qd(w)){var G=j.start,ee=j.end;if(ee===void 0&&(ee=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(ee,w.value.length);else{var ie=w.ownerDocument||document,$=ie&&ie.defaultView||window;if($.getSelection){var K=$.getSelection(),Se=w.textContent.length,Ee=Math.min(j.start,Se),et=j.end===void 0?Ee:Math.min(j.end,Se);!K.extend&&Ee>et&&(E=et,et=Ee,Ee=E);var B=ly(w,Ee),L=ly(w,et);if(B&&L&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var H=ie.createRange();H.setStart(B.node,B.offset),K.removeAllRanges(),Ee>et?(K.addRange(H),K.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),K.addRange(H))}}}}for(ie=[],K=w;K=K.parentNode;)K.nodeType===1&&ie.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var te=ie[w];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}oh=!!pm,gm=pm=null}finally{Ye=d,se.p=l,Q.T=a}}n.current=r,Gt=2}}function wv(){if(Gt===2){Gt=0;var n=Fr,r=lo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=se.p;se.p=2;var d=Ye;Ye|=4;try{ev(n,r.alternate,r)}finally{Ye=d,se.p=l,Q.T=a}}Gt=3}}function xv(){if(Gt===4||Gt===3){Gt=0,Fu();var n=Fr,r=lo,a=uo,l=hv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,lo=Fr=null,Av(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Hr=null),Na(a),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Q.T,d=se.p,se.p=2,Q.T=null;try{for(var f=n.onRecoverableError,E=0;E<l.length;E++){var w=l[E];f(w.value,{componentStack:w.stack})}}finally{Q.T=r,se.p=d}}(uo&3)!==0&&Yc(),Ti(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===tm?Vl++:(Vl=0,tm=n):Vl=0,Ul(0)}}function Av(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,yl(r)))}function Yc(n){return Tv(),wv(),xv(),Sv()}function Sv(){if(Gt!==5)return!1;var n=Fr,r=Jf;Jf=0;var a=Na(uo),l=Q.T,d=se.p;try{se.p=32>a?32:a,Q.T=null,a=em,em=null;var f=Fr,E=uo;if(Gt=0,lo=Fr=null,uo=0,(Ye&6)!==0)throw Error(s(331));var w=Ye;if(Ye|=4,uv(f.current),av(f,f.current,E,a),Ye=w,Ul(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ft,f)}catch{}return!0}finally{se.p=d,Q.T=l,Av(n,r)}}function Rv(n,r,a){r=Vn(a,r),r=Of(n.stateNode,r,2),n=jr(n,r,2),n!==null&&(Pi(n,2),Ti(n))}function tt(n,r,a){if(n.tag===3)Rv(n,n,a);else for(;r!==null;){if(r.tag===3){Rv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){n=Vn(a,n),a=D0(2),l=jr(r,a,2),l!==null&&(k0(a,l,r,n),Pi(l,2),Ti(l));break}}r=r.return}}function sm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new cx;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(a)||(Yf=!0,d.add(a),n=px.bind(null,n,r,a),r.then(n,n))}function px(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,it===n&&(Be&a)===a&&(pt===4||pt===3&&(Be&62914560)===Be&&300>Dn()-Zf?(Ye&2)===0&&co(n,0):Xf|=a,oo===Be&&(oo=0)),Ti(n)}function Nv(n,r){r===0&&(r=Ko()),n=$a(n,r),n!==null&&(Pi(n,r),Ti(n))}function gx(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Nv(n,a)}function yx(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Nv(n,a)}function vx(n,r){return ws(n,r)}var Xc=null,fo=null,am=!1,Wc=!1,om=!1,ra=0;function Ti(n){n!==fo&&n.next===null&&(fo===null?Xc=fo=n:fo=fo.next=n),Wc=!0,am||(am=!0,bx())}function Ul(n,r){if(!om&&Wc){om=!0;do for(var a=!1,l=Xc;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var E=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-Wt(42|n)+1)-1,f&=d&~(E&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,kv(l,f))}else f=Be,f=Ra(l,l===it?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Is(l,f)||(a=!0,kv(l,f));l=l.next}while(a);om=!1}}function _x(){Iv()}function Iv(){Wc=am=!1;var n=0;ra!==0&&(Nx()&&(n=ra),ra=0);for(var r=Dn(),a=null,l=Xc;l!==null;){var d=l.next,f=Cv(l,r);f===0?(l.next=null,a===null?Xc=d:a.next=d,d===null&&(fo=a)):(a=l,(n!==0||(f&3)!==0)&&(Wc=!0)),l=d}Ul(n)}function Cv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,f=n.pendingLanes&-62914561;0<f;){var E=31-Wt(f),w=1<<E,j=d[E];j===-1?((w&a)===0||(w&l)!==0)&&(d[E]=Go(w,r)):j<=r&&(n.expiredLanes|=w),f&=~w}if(r=it,a=Be,a=Ra(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&xs(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Is(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&xs(l),Na(a)){case 2:case 8:a=Aa;break;case 32:a=As;break;case 268435456:a=Sa;break;default:a=As}return l=Dv.bind(null,n),a=ws(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&xs(l),n.callbackPriority=2,n.callbackNode=null,2}function Dv(n,r){if(Gt!==0&&Gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Yc()&&n.callbackNode!==a)return null;var l=Be;return l=Ra(n,n===it?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(fv(n,l,r),Cv(n,Dn()),n.callbackNode!=null&&n.callbackNode===a?Dv.bind(null,n):null)}function kv(n,r){if(Yc())return null;fv(n,r,!0)}function bx(){Cx(function(){(Ye&6)!==0?ws(Ho,_x):Iv()})}function lm(){return ra===0&&(ra=$o()),ra}function Ov(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ja(""+n)}function jv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function Ex(n,r,a,l,d){if(r==="submit"&&a&&a.stateNode===d){var f=Ov((d[wt]||null).action),E=l.submitter;E&&(r=(r=E[wt]||null)?Ov(r.formAction):E.getAttribute("formAction"),r!==null&&(f=r,E=null));var w=new Ma("action","action",null,l,d);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var j=E?jv(d,E):new FormData(d);Nf(a,{pending:!0,data:j,method:d.method,action:f},null,j)}}else typeof f=="function"&&(w.preventDefault(),j=E?jv(d,E):new FormData(d),Nf(a,{pending:!0,data:j,method:d.method,action:f},f,j))},currentTarget:d}]})}}for(var um=0;um<$d.length;um++){var cm=$d[um],Tx=cm.toLowerCase(),wx=cm[0].toUpperCase()+cm.slice(1);Wn(Tx,"on"+wx)}Wn(fy,"onAnimationEnd"),Wn(my,"onAnimationIteration"),Wn(py,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(zw,"onTransitionRun"),Wn(Bw,"onTransitionStart"),Wn(qw,"onTransitionCancel"),Wn(gy,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function Mv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var E=l.length-1;0<=E;E--){var w=l[E],j=w.instance,G=w.currentTarget;if(w=w.listener,j!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=G;try{f(d)}catch(ee){Uc(ee)}d.currentTarget=null,f=j}else for(E=0;E<l.length;E++){if(w=l[E],j=w.instance,G=w.currentTarget,w=w.listener,j!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=G;try{f(d)}catch(ee){Uc(ee)}d.currentTarget=null,f=j}}}}function Pe(n,r){var a=r[Xo];a===void 0&&(a=r[Xo]=new Set);var l=n+"__bubble";a.has(l)||(Pv(r,n,2,!1),a.add(l))}function hm(n,r,a){var l=0;r&&(l|=4),Pv(a,n,l,r)}var Zc="_reactListening"+Math.random().toString(36).slice(2);function dm(n){if(!n[Zc]){n[Zc]=!0,Wo.forEach(function(a){a!=="selectionchange"&&(xx.has(a)||hm(a,!1,n),hm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Zc]||(r[Zc]=!0,hm("selectionchange",!1,r))}}function Pv(n,r,a,l){switch(a_(r)){case 2:var d=Wx;break;case 8:d=Zx;break;default:d=Sm}a=d.bind(null,r,a,n),d=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(r,a,{capture:!0,passive:d}):n.addEventListener(r,a,!0):d!==void 0?n.addEventListener(r,a,{passive:d}):n.addEventListener(r,a,!1)}function fm(n,r,a,l,d){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===d)break;if(E===4)for(E=l.return;E!==null;){var j=E.tag;if((j===3||j===4)&&E.stateNode.containerInfo===d)return;E=E.return}for(;w!==null;){if(E=Vi(w),E===null)return;if(j=E.tag,j===5||j===6||j===26||j===27){l=f=E;continue e}w=w.parentNode}}l=l.return}ec(function(){var G=f,ee=jn(a),ie=[];e:{var $=yy.get(n);if($!==void 0){var K=Ma,Se=n;switch(n){case"keypress":if(fi(a)===0)break e;case"keydown":case"keyup":K=Ba;break;case"focusin":Se="focus",K=Ua;break;case"focusout":Se="blur",K=Ua;break;case"beforeblur":case"afterblur":K=Ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=lc;break;case fy:case my:case py:K=La;break;case gy:K=cc;break;case"scroll":case"scrollend":K=tc;break;case"wheel":K=qa;break;case"copy":case"cut":case"paste":K=za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ul;break;case"toggle":case"beforetoggle":K=dc}var Ee=(r&4)!==0,et=!Ee&&(n==="scroll"||n==="scrollend"),B=Ee?$!==null?$+"Capture":null:$;Ee=[];for(var L=G,H;L!==null;){var te=L;if(H=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||H===null||B===null||(te=Vs(L,B),te!=null&&Ee.push(zl(L,te,H))),et)break;L=L.return}0<Ee.length&&($=new K($,Se,null,a,ee),ie.push({event:$,listeners:Ee}))}}if((r&7)===0){e:{if($=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",$&&a!==Bi&&(Se=a.relatedTarget||a.fromElement)&&(Vi(Se)||Se[kn]))break e;if((K||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Se=a.relatedTarget||a.toElement,K=G,Se=Se?Vi(Se):null,Se!==null&&(et=u(Se),Ee=Se.tag,Se!==et||Ee!==5&&Ee!==27&&Ee!==6)&&(Se=null)):(K=null,Se=G),K!==Se)){if(Ee=Pn,te="onMouseLeave",B="onMouseEnter",L="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=ul,te="onPointerLeave",B="onPointerEnter",L="pointer"),et=K==null?$:ui(K),H=Se==null?$:ui(Se),$=new Ee(te,L+"leave",K,a,ee),$.target=et,$.relatedTarget=H,te=null,Vi(ee)===G&&(Ee=new Ee(B,L+"enter",Se,a,ee),Ee.target=H,Ee.relatedTarget=et,te=Ee),et=te,K&&Se)t:{for(Ee=K,B=Se,L=0,H=Ee;H;H=mo(H))L++;for(H=0,te=B;te;te=mo(te))H++;for(;0<L-H;)Ee=mo(Ee),L--;for(;0<H-L;)B=mo(B),H--;for(;L--;){if(Ee===B||B!==null&&Ee===B.alternate)break t;Ee=mo(Ee),B=mo(B)}Ee=null}else Ee=null;K!==null&&Vv(ie,$,K,Ee,!1),Se!==null&&et!==null&&Vv(ie,et,Se,Ee,!0)}}e:{if($=G?ui(G):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var pe=ny;else if(kt($))if(iy)pe=Vw;else{pe=Mw;var je=jw}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?G&&nl(G.elementType)&&(pe=ny):pe=Pw;if(pe&&(pe=pe(n,G))){$i(ie,pe,a,ee);break e}je&&je(n,$,G),n==="focusout"&&G&&$.type==="number"&&G.memoizedProps.value!=null&&Ir($,"number",$.value)}switch(je=G?ui(G):window,n){case"focusin":(kt(je)||je.contentEditable==="true")&&(Ha=je,Hd=G,dl=null);break;case"focusout":dl=Hd=Ha=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,hy(ie,a,ee);break;case"selectionchange":if(Lw)break;case"keydown":case"keyup":hy(ie,a,ee)}var ye;if(gi)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Le?X(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(_&&a.locale!=="ko"&&(Le||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Le&&(ye=rl()):(di=ee,Cr="value"in di?di.value:di.textContent,Le=!0)),je=Jc(G,Te),0<je.length&&(Te=new ol(Te,n,null,a,ee),ie.push({event:Te,listeners:je}),ye?Te.data=ye:(ye=le(a),ye!==null&&(Te.data=ye)))),(ye=v?Dt(n,a):ze(n,a))&&(Te=Jc(G,"onBeforeInput"),0<Te.length&&(je=new ol("onBeforeInput","beforeinput",null,a,ee),ie.push({event:je,listeners:Te}),je.data=ye)),Ex(ie,n,G,a,ee)}Mv(ie,r)})}function zl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Jc(n,r){for(var a=r+"Capture",l=[];n!==null;){var d=n,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Vs(n,a),d!=null&&l.unshift(zl(n,d,f)),d=Vs(n,r),d!=null&&l.push(zl(n,d,f))),n.tag===3)return l;n=n.return}return[]}function mo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Vv(n,r,a,l,d){for(var f=r._reactName,E=[];a!==null&&a!==l;){var w=a,j=w.alternate,G=w.stateNode;if(w=w.tag,j!==null&&j===l)break;w!==5&&w!==26&&w!==27||G===null||(j=G,d?(G=Vs(a,f),G!=null&&E.unshift(zl(a,G,j))):d||(G=Vs(a,f),G!=null&&E.push(zl(a,G,j)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var Ax=/\r\n?/g,Sx=/\u0000|\uFFFD/g;function Uv(n){return(typeof n=="string"?n:""+n).replace(Ax,`
`).replace(Sx,"")}function Lv(n,r){return r=Uv(r),Uv(n)===r}function eh(){}function Je(n,r,a,l,d,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||On(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&On(n,""+l);break;case"className":ci(n,"class",l);break;case"tabIndex":ci(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(n,a,l);break;case"style":tl(n,l,f);break;case"data":if(r!=="object"){ci(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ja(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Je(n,r,"name",d.name,d,null),Je(n,r,"formEncType",d.formEncType,d,null),Je(n,r,"formMethod",d.formMethod,d,null),Je(n,r,"formTarget",d.formTarget,d,null)):(Je(n,r,"encType",d.encType,d,null),Je(n,r,"method",d.method,d,null),Je(n,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=ja(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=eh);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=ja(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Pe("beforetoggle",n),Pe("toggle",n),Nr(n,"popover",l);break;case"xlinkActuate":qt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pd.get(a)||a,Nr(n,a,l))}}function mm(n,r,a,l,d,f){switch(a){case"style":tl(n,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?On(n,l):(typeof l=="number"||typeof l=="bigint")&&On(n,""+l);break;case"onScroll":l!=null&&Pe("scroll",n);break;case"onScrollEnd":l!=null&&Pe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=eh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ia.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),r=a.slice(2,d?a.length-7:void 0),f=n[wt]||null,f=f!=null?f[a]:null,typeof f=="function"&&n.removeEventListener(r,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Nr(n,a,l)}}}function $t(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",n),Pe("load",n);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var E=a[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,f,E,a,null)}}d&&Je(n,r,"srcSet",a.srcSet,a,null),l&&Je(n,r,"src",a.src,a,null);return;case"input":Pe("invalid",n);var w=f=E=d=null,j=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":d=ee;break;case"type":E=ee;break;case"checked":j=ee;break;case"defaultChecked":G=ee;break;case"value":f=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:Je(n,r,l,ee,a,null)}}js(n,f,w,j,G,E,d,!1),Oa(n);return;case"select":Pe("invalid",n),l=E=f=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":f=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:Je(n,r,d,w,a,null)}r=f,a=E,n.multiple=!!l,r!=null?zi(n,!!l,r,!1):a!=null&&zi(n,!!l,a,!0);return;case"textarea":Pe("invalid",n),f=d=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":d=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Je(n,r,E,w,a,null)}Ms(n,l,d,f),Oa(n);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,r,j,l,a,null)}return;case"dialog":Pe("beforetoggle",n),Pe("toggle",n),Pe("cancel",n),Pe("close",n);break;case"iframe":case"object":Pe("load",n);break;case"video":case"audio":for(l=0;l<Ll.length;l++)Pe(Ll[l],n);break;case"image":Pe("error",n),Pe("load",n);break;case"details":Pe("toggle",n);break;case"embed":case"source":case"link":Pe("error",n),Pe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,G,l,a,null)}return;default:if(nl(r)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&mm(n,r,ee,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Je(n,r,w,l,a,null))}function Rx(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,E=null,w=null,j=null,G=null,ee=null;for(K in a){var ie=a[K];if(a.hasOwnProperty(K)&&ie!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":j=ie;default:l.hasOwnProperty(K)||Je(n,r,K,null,l,ie)}}for(var $ in l){var K=l[$];if(ie=a[$],l.hasOwnProperty($)&&(K!=null||ie!=null))switch($){case"type":f=K;break;case"name":d=K;break;case"checked":G=K;break;case"defaultChecked":ee=K;break;case"value":E=K;break;case"defaultValue":w=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==ie&&Je(n,r,$,K,l,ie)}}_n(n,E,w,j,G,ee,f,d);return;case"select":K=E=w=$=null;for(f in a)if(j=a[f],a.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":K=j;default:l.hasOwnProperty(f)||Je(n,r,f,null,l,j)}for(d in l)if(f=l[d],j=a[d],l.hasOwnProperty(d)&&(f!=null||j!=null))switch(d){case"value":$=f;break;case"defaultValue":w=f;break;case"multiple":E=f;default:f!==j&&Je(n,r,d,f,l,j)}r=w,a=E,l=K,$!=null?zi(n,!!a,$,!1):!!l!=!!a&&(r!=null?zi(n,!!a,r,!0):zi(n,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Je(n,r,w,null,l,d)}for(E in l)if(d=l[E],f=a[E],l.hasOwnProperty(E)&&(d!=null||f!=null))switch(E){case"value":$=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==f&&Je(n,r,E,d,l,f)}We(n,$,K);return;case"option":for(var Se in a)if($=a[Se],a.hasOwnProperty(Se)&&$!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:Je(n,r,Se,null,l,$)}for(j in l)if($=l[j],K=a[j],l.hasOwnProperty(j)&&$!==K&&($!=null||K!=null))switch(j){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Je(n,r,j,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)$=a[Ee],a.hasOwnProperty(Ee)&&$!=null&&!l.hasOwnProperty(Ee)&&Je(n,r,Ee,null,l,$);for(G in l)if($=l[G],K=a[G],l.hasOwnProperty(G)&&$!==K&&($!=null||K!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Je(n,r,G,$,l,K)}return;default:if(nl(r)){for(var et in a)$=a[et],a.hasOwnProperty(et)&&$!==void 0&&!l.hasOwnProperty(et)&&mm(n,r,et,void 0,l,$);for(ee in l)$=l[ee],K=a[ee],!l.hasOwnProperty(ee)||$===K||$===void 0&&K===void 0||mm(n,r,ee,$,l,K);return}}for(var B in a)$=a[B],a.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&Je(n,r,B,null,l,$);for(ie in l)$=l[ie],K=a[ie],!l.hasOwnProperty(ie)||$===K||$==null&&K==null||Je(n,r,ie,$,l,K)}var pm=null,gm=null;function th(n){return n.nodeType===9?n:n.ownerDocument}function zv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function ym(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var vm=null;function Nx(){var n=window.event;return n&&n.type==="popstate"?n===vm?!1:(vm=n,!0):(vm=null,!1)}var qv=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,Cx=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(n){return Hv.resolve(null).then(n).catch(Dx)}:qv;function Dx(n){setTimeout(function(){throw n})}function $r(n){return n==="head"}function Fv(n,r){var a=r,l=0,d=0;do{var f=a.nextSibling;if(n.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Bl(E.documentElement),a&2&&Bl(E.body),a&4)for(a=E.head,Bl(a),E=a.firstChild;E;){var w=E.nextSibling,j=E.nodeName;E[Cs]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=w}}if(d===0){n.removeChild(f),Yl(r);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Yl(r)}function _m(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":_m(a),Rr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function kx(n,r,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Cs])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(f=n.getAttribute("rel"),f==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(f!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(f=n.getAttribute("src"),(f!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===f)return n}else return n;if(n=Jn(n.nextSibling),n===null)break}return null}function Ox(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Jn(n.nextSibling),n===null))return null;return n}function bm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function jx(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Jn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Em=null;function Gv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function $v(n,r,a){switch(r=th(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Bl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Rr(n)}var Hn=new Map,Kv=new Set;function nh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var sr=se.d;se.d={f:Mx,r:Px,D:Vx,C:Ux,L:Lx,m:zx,X:qx,S:Bx,M:Hx};function Mx(){var n=sr.f(),r=Kc();return n||r}function Px(n){var r=li(n);r!==null&&r.tag===5&&r.type==="form"?f0(r):sr.r(n)}var po=typeof document>"u"?null:document;function Qv(n,r,a){var l=po;if(l&&typeof r=="string"&&r){var d=xt(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Kv.has(d)||(Kv.add(d),n={rel:n,crossOrigin:a,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),$t(r,"link",n),_t(r),l.head.appendChild(r)))}}function Vx(n){sr.D(n),Qv("dns-prefetch",n,null)}function Ux(n,r){sr.C(n,r),Qv("preconnect",n,r)}function Lx(n,r,a){sr.L(n,r,a);var l=po;if(l&&n&&r){var d='link[rel="preload"][as="'+xt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+xt(a.imageSizes)+'"]')):d+='[href="'+xt(n)+'"]';var f=d;switch(r){case"style":f=go(n);break;case"script":f=yo(n)}Hn.has(f)||(n=b({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Hn.set(f,n),l.querySelector(d)!==null||r==="style"&&l.querySelector(ql(f))||r==="script"&&l.querySelector(Hl(f))||(r=l.createElement("link"),$t(r,"link",n),_t(r),l.head.appendChild(r)))}}function zx(n,r){sr.m(n,r);var a=po;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(n)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=yo(n)}if(!Hn.has(f)&&(n=b({rel:"modulepreload",href:n},r),Hn.set(f,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(f)))return}l=a.createElement("link"),$t(l,"link",n),_t(l),a.head.appendChild(l)}}}function Bx(n,r,a){sr.S(n,r,a);var l=po;if(l&&n){var d=sn(l).hoistableStyles,f=go(n);r=r||"default";var E=d.get(f);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(ql(f)))w.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Hn.get(f))&&Tm(n,a);var j=E=l.createElement("link");_t(j),$t(j,"link",n),j._p=new Promise(function(G,ee){j.onload=G,j.onerror=ee}),j.addEventListener("load",function(){w.loading|=1}),j.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ih(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:w},d.set(f,E)}}}function qx(n,r){sr.X(n,r);var a=po;if(a&&n){var l=sn(a).hoistableScripts,d=yo(n),f=l.get(d);f||(f=a.querySelector(Hl(d)),f||(n=b({src:n,async:!0},r),(r=Hn.get(d))&&wm(n,r),f=a.createElement("script"),_t(f),$t(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Hx(n,r){sr.M(n,r);var a=po;if(a&&n){var l=sn(a).hoistableScripts,d=yo(n),f=l.get(d);f||(f=a.querySelector(Hl(d)),f||(n=b({src:n,async:!0,type:"module"},r),(r=Hn.get(d))&&wm(n,r),f=a.createElement("script"),_t(f),$t(f,"link",n),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function Yv(n,r,a,l){var d=(d=ve.current)?nh(d):null;if(!d)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=go(a.href),a=sn(d).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=go(a.href);var f=sn(d).hoistableStyles,E=f.get(n);if(E||(d=d.ownerDocument||d,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(n,E),(f=d.querySelector(ql(n)))&&!f._p&&(E.instance=f,E.state.loading=5),Hn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(n,a),f||Fx(d,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=yo(a),a=sn(d).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function go(n){return'href="'+xt(n)+'"'}function ql(n){return'link[rel="stylesheet"]['+n+"]"}function Xv(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function Fx(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),_t(r),n.head.appendChild(r))}function yo(n){return'[src="'+xt(n)+'"]'}function Hl(n){return"script[async]"+n}function Wv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return r.instance=l,_t(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),_t(l),$t(l,"style",d),ih(l,a.precedence,n),r.instance=l;case"stylesheet":d=go(a.href);var f=n.querySelector(ql(d));if(f)return r.state.loading|=4,r.instance=f,_t(f),f;l=Xv(a),(d=Hn.get(d))&&Tm(l,d),f=(n.ownerDocument||n).createElement("link"),_t(f);var E=f;return E._p=new Promise(function(w,j){E.onload=w,E.onerror=j}),$t(f,"link",l),r.state.loading|=4,ih(f,a.precedence,n),r.instance=f;case"script":return f=yo(a.src),(d=n.querySelector(Hl(f)))?(r.instance=d,_t(d),d):(l=a,(d=Hn.get(f))&&(l=b({},a),wm(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),_t(d),$t(d,"link",l),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ih(l,a.precedence,n));return r.instance}function ih(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===r)f=w;else if(f!==d)break}f?f.parentNode.insertBefore(n,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Tm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function wm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var rh=null;function Zv(n,r,a){if(rh===null){var l=new Map,d=rh=new Map;d.set(a,l)}else d=rh,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var f=a[d];if(!(f[Cs]||f[Ct]||n==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(r)||"";E=n+E;var w=l.get(E);w?w.push(f):l.set(E,[f])}}return l}function Jv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function Gx(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function e_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Fl=null;function $x(){}function Kx(n,r,a){if(Fl===null)throw Error(s(475));var l=Fl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=go(a.href),f=n.querySelector(ql(d));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=sh.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=f,_t(f);return}f=n.ownerDocument||n,a=Xv(a),(d=Hn.get(d))&&Tm(a,d),f=f.createElement("link"),_t(f);var E=f;E._p=new Promise(function(w,j){E.onload=w,E.onerror=j}),$t(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=sh.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function Qx(){if(Fl===null)throw Error(s(475));var n=Fl;return n.stylesheets&&n.count===0&&xm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&xm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function sh(){if(this.count--,this.count===0){if(this.stylesheets)xm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var ah=null;function xm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,ah=new Map,r.forEach(Yx,n),ah=null,sh.call(n))}function Yx(n,r){if(!(r.state.loading&4)){var a=ah.get(n);if(a)var l=a.get(null);else{a=new Map,ah.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var E=d[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}d=r.instance,E=d.getAttribute("data-precedence"),f=a.get(E)||l,f===l&&a.set(null,d),a.set(E,d),this.count++,l=sh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var Gl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Xx(n,r,a,l,d,f,E,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function t_(n,r,a,l,d,f,E,w,j,G,ee,ie){return n=new Xx(n,r,a,E,w,j,G,ie),r=1,f===!0&&(r|=24),f=En(3,null,null,r),n.current=f,f.stateNode=n,r=sf(),r.refCount++,n.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},uf(f),n}function n_(n){return n?(n=Ka,n):Ka}function i_(n,r,a,l,d,f){d=n_(d),l.context===null?l.context=d:l.pendingContext=d,l=Or(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=jr(n,l,r),a!==null&&(Sn(a,n,r),El(a,n,r))}function r_(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function Am(n,r){r_(n,r),(n=n.alternate)&&r_(n,r)}function s_(n){if(n.tag===13){var r=$a(n,67108864);r!==null&&Sn(r,n,67108864),Am(n,67108864)}}var oh=!0;function Wx(n,r,a,l){var d=Q.T;Q.T=null;var f=se.p;try{se.p=2,Sm(n,r,a,l)}finally{se.p=f,Q.T=d}}function Zx(n,r,a,l){var d=Q.T;Q.T=null;var f=se.p;try{se.p=8,Sm(n,r,a,l)}finally{se.p=f,Q.T=d}}function Sm(n,r,a,l){if(oh){var d=Rm(l);if(d===null)fm(n,r,l,lh,a),o_(n,l);else if(eA(d,n,r,a,l))l.stopPropagation();else if(o_(n,l),r&4&&-1<Jx.indexOf(n)){for(;d!==null;){var f=li(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Qn(f.pendingLanes);if(E!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var j=1<<31-Wt(E);w.entanglements[1]|=j,E&=~j}Ti(f),(Ye&6)===0&&(Gc=Dn()+500,Ul(0))}}break;case 13:w=$a(f,2),w!==null&&Sn(w,f,2),Kc(),Am(f,2)}if(f=Rm(l),f===null&&fm(n,r,l,lh,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else fm(n,r,l,null,a)}}function Rm(n){return n=jn(n),Nm(n)}var lh=null;function Nm(n){if(lh=null,n=Vi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return lh=n,null}function a_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cd()){case Ho:return 2;case Aa:return 8;case As:case Dd:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var Im=!1,Kr=null,Qr=null,Yr=null,$l=new Map,Kl=new Map,Xr=[],Jx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o_(n,r){switch(n){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":$l.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(r.pointerId)}}function Ql(n,r,a,l,d,f){return n===null||n.nativeEvent!==f?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},r!==null&&(r=li(r),r!==null&&s_(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function eA(n,r,a,l,d){switch(r){case"focusin":return Kr=Ql(Kr,n,r,a,l,d),!0;case"dragenter":return Qr=Ql(Qr,n,r,a,l,d),!0;case"mouseover":return Yr=Ql(Yr,n,r,a,l,d),!0;case"pointerover":var f=d.pointerId;return $l.set(f,Ql($l.get(f)||null,n,r,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Kl.set(f,Ql(Kl.get(f)||null,n,r,a,l,d)),!0}return!1}function l_(n){var r=Vi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Ku(n.priority,function(){if(a.tag===13){var l=An();l=xr(l);var d=$a(a,l);d!==null&&Sn(d,a,l),Am(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=Rm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Bi=l,a.target.dispatchEvent(l),Bi=null}else return r=li(a),r!==null&&s_(r),n.blockedOn=a,!1;r.shift()}return!0}function u_(n,r,a){uh(n)&&a.delete(r)}function tA(){Im=!1,Kr!==null&&uh(Kr)&&(Kr=null),Qr!==null&&uh(Qr)&&(Qr=null),Yr!==null&&uh(Yr)&&(Yr=null),$l.forEach(u_),Kl.forEach(u_)}function ch(n,r){n.blockedOn===r&&(n.blockedOn=null,Im||(Im=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,tA)))}var hh=null;function c_(n){hh!==n&&(hh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){hh===n&&(hh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],d=n[r+2];if(typeof l!="function"){if(Nm(l||a)===null)continue;break}var f=li(a);f!==null&&(n.splice(r,3),r-=3,Nf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Yl(n){function r(j){return ch(j,n)}Kr!==null&&ch(Kr,n),Qr!==null&&ch(Qr,n),Yr!==null&&ch(Yr,n),$l.forEach(r),Kl.forEach(r);for(var a=0;a<Xr.length;a++){var l=Xr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)l_(a),a.blockedOn===null&&Xr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],E=d[wt]||null;if(typeof f=="function")E||c_(a);else if(E){var w=null;if(f&&f.hasAttribute("formAction")){if(d=f,E=f[wt]||null)w=E.formAction;else if(Nm(d)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),c_(a)}}}function Cm(n){this._internalRoot=n}dh.prototype.render=Cm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=An();i_(a,l,n,r,null,null)},dh.prototype.unmount=Cm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;i_(n.current,2,null,n,null,null),Kc(),r[kn]=null}};function dh(n){this._internalRoot=n}dh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ar();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Xr.length&&r!==0&&r<Xr[a].priority;a++);Xr.splice(a,0,n),a===0&&l_(n)}};var h_=e.version;if(h_!=="19.1.0")throw Error(s(527,h_,"19.1.0"));se.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=g(r),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var nA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{ft=fh.inject(nA),Qe=fh}catch{}}return Wl.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",d=R0,f=N0,E=I0,w=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(w=r.unstable_transitionCallbacks)),r=t_(n,1,!1,null,null,a,l,d,f,E,w,null),n[kn]=r.current,dm(n),new Cm(r)},Wl.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,d="",f=R0,E=N0,w=I0,j=null,G=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(j=a.unstable_transitionCallbacks),a.formState!==void 0&&(G=a.formState)),r=t_(n,1,!0,r,a??null,l,d,f,E,w,j,G),r.context=n_(null),a=r.current,l=An(),l=xr(l),d=Or(l),d.callback=null,jr(a,d,l),a=l,r.current.lanes=a,Pi(r,a),Ti(r),n[kn]=r.current,dm(n),new dh(r)},Wl.version="19.1.0",Wl}var E_;function dA(){if(E_)return Om.exports;E_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Om.exports=hA(),Om.exports}var fA=dA(),Zl={},T_;function mA(){if(T_)return Zl;T_=1,Object.defineProperty(Zl,"__esModule",{value:!0}),Zl.parse=h,Zl.serialize=y;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,P){const R=new u,z=T.length;if(z<2)return R;const V=(P==null?void 0:P.decode)||b;let F=0;do{const Y=T.indexOf("=",F);if(Y===-1)break;const Z=T.indexOf(";",F),oe=Z===-1?z:Z;if(Y>oe){F=T.lastIndexOf(";",Y-1)+1;continue}const ue=m(T,F,Y),ge=g(T,Y,ue),O=T.slice(ue,ge);if(R[O]===void 0){let x=m(T,Y+1,oe),I=g(T,oe,x);const M=V(T.slice(x,I));R[O]=M}F=oe+1}while(F<z);return R}function m(T,P,R){do{const z=T.charCodeAt(P);if(z!==32&&z!==9)return P}while(++P<R);return R}function g(T,P,R){for(;P>R;){const z=T.charCodeAt(--P);if(z!==32&&z!==9)return P+1}return R}function y(T,P,R){const z=(R==null?void 0:R.encode)||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const V=z(P);if(!e.test(V))throw new TypeError(`argument val is invalid: ${P}`);let F=T+"="+V;if(!R)return F;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);F+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);F+="; Domain="+R.domain}if(R.path){if(!s.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);F+="; Path="+R.path}if(R.expires){if(!A(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);F+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(F+="; HttpOnly"),R.secure&&(F+="; Secure"),R.partitioned&&(F+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return F}function b(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function A(T){return o.call(T)==="[object Date]"}return Zl}mA();var w_="popstate";function pA(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:g=""}=Ea(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),np("",{pathname:h,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function t(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:gu(u))}function s(o,u){$n(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return yA(e,t,s,i)}function ut(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function $n(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gA(){return Math.random().toString(36).substring(2,10)}function x_(i,e){return{usr:i.state,key:i.key,idx:e}}function np(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:t,key:e&&e.key||s||gA()}}function gu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Ea(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function yA(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",g=null,y=b();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function b(){return(h.state||{idx:null}).idx}function A(){m="POP";let V=b(),F=V==null?null:V-y;y=V,g&&g({action:m,location:z.location,delta:F})}function T(V,F){m="PUSH";let Y=np(z.location,V,F);t&&t(Y,V),y=b()+1;let Z=x_(Y,y),oe=z.createHref(Y);try{h.pushState(Z,"",oe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(oe)}u&&g&&g({action:m,location:z.location,delta:1})}function P(V,F){m="REPLACE";let Y=np(z.location,V,F);t&&t(Y,V),y=b();let Z=x_(Y,y),oe=z.createHref(Y);h.replaceState(Z,"",oe),u&&g&&g({action:m,location:z.location,delta:0})}function R(V){return vA(V)}let z={get action(){return m},get location(){return i(o,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(w_,A),g=V,()=>{o.removeEventListener(w_,A),g=null}},createHref(V){return e(o,V)},createURL:R,encodeLocation(V){let F=R(V);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:T,replace:P,go(V){return h.go(V)}};return z}function vA(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ut(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:gu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function gE(i,e,t="/"){return _A(i,e,t,!1)}function _A(i,e,t,s){let o=typeof e=="string"?Ea(e):e,u=mr(o.pathname||"/",t);if(u==null)return null;let h=yE(i);bA(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let y=DA(u);m=IA(h[g],y,s)}return m}function yE(i,e=[],t=[],s=""){let o=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(ut(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=cr([s,g.relativePath]),b=t.concat(g);u.children&&u.children.length>0&&(ut(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),yE(u.children,e,b,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:RA(y,u.index),routesMeta:b})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let g of vE(u.path))o(u,h,g)}),e}function vE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=vE(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function bA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:NA(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var EA=/^:[\w-]+$/,TA=3,wA=2,xA=1,AA=10,SA=-2,A_=i=>i==="*";function RA(i,e){let t=i.split("/"),s=t.length;return t.some(A_)&&(s+=SA),e&&(s+=wA),t.filter(o=>!A_(o)).reduce((o,u)=>o+(EA.test(u)?TA:u===""?xA:AA),s)}function NA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function IA(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",A=Vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),T=g.route;if(!A&&y&&t&&!s[s.length-1].route.index&&(A=Vh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:cr([u,A.pathname]),pathnameBase:MA(cr([u,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(u=cr([u,A.pathnameBase]))}return h}function Vh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=CA(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:A},T)=>{if(b==="*"){let R=m[T]||"";h=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const P=m[T];return A&&!P?y[b]=void 0:y[b]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function CA(i,e=!1,t=!0){$n(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function DA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function mr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function kA(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Ea(i):i;return{pathname:t?t.startsWith("/")?t:OA(t,e):e,search:PA(s),hash:VA(o)}}function OA(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Vm(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Lp(i){let e=jA(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function zp(i,e,t,s=!1){let o;typeof i=="string"?o=Ea(i):(o={...i},ut(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),ut(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),ut(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let A=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),A-=1;o.pathname=T.join("/")}m=A>=0?e[A]:"/"}let g=kA(o,m),y=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var cr=i=>i.join("/").replace(/\/\/+/g,"/"),MA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),PA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,VA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function UA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var _E=["POST","PUT","PATCH","DELETE"];new Set(_E);var LA=["GET",..._E];new Set(LA);var jo=U.createContext(null);jo.displayName="DataRouter";var rd=U.createContext(null);rd.displayName="DataRouterState";var bE=U.createContext({isTransitioning:!1});bE.displayName="ViewTransition";var zA=U.createContext(new Map);zA.displayName="Fetchers";var BA=U.createContext(null);BA.displayName="Await";var si=U.createContext(null);si.displayName="Navigation";var Nu=U.createContext(null);Nu.displayName="Location";var ai=U.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var Bp=U.createContext(null);Bp.displayName="RouteError";function qA(i,{relative:e}={}){ut(Mo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=U.useContext(si),{hash:o,pathname:u,search:h}=Iu(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:cr([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Mo(){return U.useContext(Nu)!=null}function br(){return ut(Mo(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(Nu).location}var EE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function TE(i){U.useContext(si).static||U.useLayoutEffect(i)}function Er(){let{isDataRoute:i}=U.useContext(ai);return i?tS():HA()}function HA(){ut(Mo(),"useNavigate() may be used only in the context of a <Router> component.");let i=U.useContext(jo),{basename:e,navigator:t}=U.useContext(si),{matches:s}=U.useContext(ai),{pathname:o}=br(),u=JSON.stringify(Lp(s)),h=U.useRef(!1);return TE(()=>{h.current=!0}),U.useCallback((g,y={})=>{if($n(h.current,EE),!h.current)return;if(typeof g=="number"){t.go(g);return}let b=zp(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:cr([e,b.pathname])),(y.replace?t.replace:t.push)(b,y.state,y)},[e,t,u,o,i])}U.createContext(null);function wE(){let{matches:i}=U.useContext(ai),e=i[i.length-1];return e?e.params:{}}function Iu(i,{relative:e}={}){let{matches:t}=U.useContext(ai),{pathname:s}=br(),o=JSON.stringify(Lp(t));return U.useMemo(()=>zp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function FA(i,e){return xE(i,e)}function xE(i,e,t,s){var F;ut(Mo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=U.useContext(si),{matches:u}=U.useContext(ai),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",b=h&&h.route;{let Y=b&&b.path||"";AE(g,!b||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=br(),T;if(e){let Y=typeof e=="string"?Ea(e):e;ut(y==="/"||((F=Y.pathname)==null?void 0:F.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),T=Y}else T=A;let P=T.pathname||"/",R=P;if(y!=="/"){let Y=y.replace(/^\//,"").split("/");R="/"+P.replace(/^\//,"").split("/").slice(Y.length).join("/")}let z=gE(i,{pathname:R});$n(b||z!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),$n(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=YA(z&&z.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:cr([y,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?y:cr([y,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,t,s);return e&&V?U.createElement(Nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},V):V}function GA(){let i=eS(),e=UA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),t?U.createElement("pre",{style:o},t):null,h)}var $A=U.createElement(GA,null),KA=class extends U.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?U.createElement(ai.Provider,{value:this.props.routeContext},U.createElement(Bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QA({routeContext:i,match:e,children:t}){let s=U.useContext(jo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ai.Provider,{value:i},t)}function YA(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,m=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:b,errors:A}=t,T=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||T){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,b)=>{let A,T=!1,P=null,R=null;t&&(A=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||$A,h&&(m<0&&b===0?(AE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,R=null):m===b&&(T=!0,R=y.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,b+1)),V=()=>{let F;return A?F=P:T?F=R:y.route.Component?F=U.createElement(y.route.Component,null):y.route.element?F=y.route.element:F=g,U.createElement(QA,{match:y,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:F})};return t&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?U.createElement(KA,{location:t.location,revalidation:t.revalidation,component:P,error:A,children:V(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):V()},null)}function qp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(i){let e=U.useContext(jo);return ut(e,qp(i)),e}function WA(i){let e=U.useContext(rd);return ut(e,qp(i)),e}function ZA(i){let e=U.useContext(ai);return ut(e,qp(i)),e}function Hp(i){let e=ZA(i),t=e.matches[e.matches.length-1];return ut(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function JA(){return Hp("useRouteId")}function eS(){var s;let i=U.useContext(Bp),e=WA("useRouteError"),t=Hp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[t]}function tS(){let{router:i}=XA("useNavigate"),e=Hp("useNavigate"),t=U.useRef(!1);return TE(()=>{t.current=!0}),U.useCallback(async(o,u={})=>{$n(t.current,EE),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var S_={};function AE(i,e,t){!e&&!S_[i]&&(S_[i]=!0,$n(!1,t))}U.memo(nS);function nS({routes:i,future:e,state:t}){return xE(i,void 0,t,e)}function SE({to:i,replace:e,state:t,relative:s}){ut(Mo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=U.useContext(si);$n(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(ai),{pathname:h}=br(),m=Er(),g=zp(i,Lp(u),h,s==="path"),y=JSON.stringify(g);return U.useEffect(()=>{m(JSON.parse(y),{replace:e,state:t,relative:s})},[m,y,s,e,t]),null}function ei(i){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iS({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ut(!Mo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=Ea(t));let{pathname:g="/",search:y="",hash:b="",state:A=null,key:T="default"}=t,P=U.useMemo(()=>{let R=mr(g,h);return R==null?null:{location:{pathname:R,search:y,hash:b,state:A,key:T},navigationType:s}},[h,g,y,b,A,T,s]);return $n(P!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:U.createElement(si.Provider,{value:m},U.createElement(Nu.Provider,{children:e,value:P}))}function rS({children:i,location:e}){return FA(ip(i),e)}function ip(i,e=[]){let t=[];return U.Children.forEach(i,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){t.push.apply(t,ip(s.props.children,u));return}ut(s.type===ei,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=ip(s.props.children,u)),t.push(h)}),t}var xh="get",Ah="application/x-www-form-urlencoded";function sd(i){return i!=null&&typeof i.tagName=="string"}function sS(i){return sd(i)&&i.tagName.toLowerCase()==="button"}function aS(i){return sd(i)&&i.tagName.toLowerCase()==="form"}function oS(i){return sd(i)&&i.tagName.toLowerCase()==="input"}function lS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function uS(i,e){return i.button===0&&(!e||e==="_self")&&!lS(i)}var mh=null;function cS(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var hS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(i){return i!=null&&!hS.has(i)?($n(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ah}"`),null):i}function dS(i,e){let t,s,o,u,h;if(aS(i)){let m=i.getAttribute("action");s=m?mr(m,e):null,t=i.getAttribute("method")||xh,o=Um(i.getAttribute("enctype"))||Ah,u=new FormData(i)}else if(sS(i)||oS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?mr(g,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||xh,o=Um(i.getAttribute("formenctype"))||Um(m.getAttribute("enctype"))||Ah,u=new FormData(m,i),!cS()){let{name:y,type:b,value:A}=i;if(b==="image"){let T=y?`${y}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else y&&u.append(y,A)}}else{if(sd(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=xh,s=null,o=Ah,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}function Fp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function fS(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function pS(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await fS(u,t);return h.links?h.links():[]}return[]}));return _S(s.flat(1).filter(mS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function R_(i,e,t,s,o,u){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,m=(g,y)=>{var b;return t[y].pathname!==g.pathname||((b=t[y].route.path)==null?void 0:b.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>h(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var A;let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(h(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let T=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=t[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function gS(i,e,{includeHydrateFallback:t}={}){return yS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yS(i){return[...new Set(i)]}function vS(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function _S(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(vS(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var bS=new Set([100,101,204,205]);function ES(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&mr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function RE(){let i=U.useContext(jo);return Fp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function TS(){let i=U.useContext(rd);return Fp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Gp=U.createContext(void 0);Gp.displayName="FrameworkContext";function NE(){let i=U.useContext(Gp);return Fp(i,"You must render this element inside a <HydratedRouter> element"),i}function wS(i,e){let t=U.useContext(Gp),[s,o]=U.useState(!1),[u,h]=U.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:A}=e,T=U.useRef(null);U.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let z=F=>{F.forEach(Y=>{h(Y.isIntersecting)})},V=new IntersectionObserver(z,{threshold:.5});return T.current&&V.observe(T.current),()=>{V.disconnect()}}},[i]),U.useEffect(()=>{if(s){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[s]);let P=()=>{o(!0)},R=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,T,{}]:[u,T,{onFocus:Jl(m,P),onBlur:Jl(g,R),onMouseEnter:Jl(y,P),onMouseLeave:Jl(b,R),onTouchStart:Jl(A,P)}]:[!1,T,{}]}function Jl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function xS({page:i,...e}){let{router:t}=RE(),s=U.useMemo(()=>gE(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?U.createElement(SS,{page:i,matches:s,...e}):null}function AS(i){let{manifest:e,routeModules:t}=NE(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return pS(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function SS({page:i,matches:e,...t}){let s=br(),{manifest:o,routeModules:u}=NE(),{basename:h}=RE(),{loaderData:m,matches:g}=TS(),y=U.useMemo(()=>R_(i,e,g,o,s,"data"),[i,e,g,o,s]),b=U.useMemo(()=>R_(i,e,g,o,s,"assets"),[i,e,g,o,s]),A=U.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let R=new Set,z=!1;if(e.forEach(F=>{var Z;let Y=o.routes[F.route.id];!Y||!Y.hasLoader||(!y.some(oe=>oe.route.id===F.route.id)&&F.route.id in m&&((Z=u[F.route.id])!=null&&Z.shouldRevalidate)||Y.hasClientLoader?z=!0:R.add(F.route.id))}),R.size===0)return[];let V=ES(i,h);return z&&R.size>0&&V.searchParams.set("_routes",e.filter(F=>R.has(F.route.id)).map(F=>F.route.id).join(",")),[V.pathname+V.search]},[h,m,s,o,y,e,i,u]),T=U.useMemo(()=>gS(b,o),[b,o]),P=AS(b);return U.createElement(U.Fragment,null,A.map(R=>U.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),T.map(R=>U.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),P.map(({key:R,link:z})=>U.createElement("link",{key:R,...z})))}function RS(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IE&&(window.__reactRouterVersion="7.6.3")}catch{}function NS({basename:i,children:e,window:t}){let s=U.useRef();s.current==null&&(s.current=pA({window:t,v5Compat:!0}));let o=s.current,[u,h]=U.useState({action:o.action,location:o.location}),m=U.useCallback(g=>{U.startTransition(()=>h(g))},[h]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(iS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var CE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DE=U.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:g,to:y,preventScrollReset:b,viewTransition:A,...T},P){let{basename:R}=U.useContext(si),z=typeof y=="string"&&CE.test(y),V,F=!1;if(typeof y=="string"&&z&&(V=y,IE))try{let I=new URL(window.location.href),M=y.startsWith("//")?new URL(I.protocol+y):new URL(y),N=mr(M.pathname,R);M.origin===I.origin&&N!=null?y=N+M.search+M.hash:F=!0}catch{$n(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=qA(y,{relative:o}),[Z,oe,ue]=wS(s,T),ge=kS(y,{replace:h,state:m,target:g,preventScrollReset:b,relative:o,viewTransition:A});function O(I){e&&e(I),I.defaultPrevented||ge(I)}let x=U.createElement("a",{...T,...ue,href:V||Y,onClick:F||u?e:O,ref:RS(P,oe),target:g,"data-discover":!z&&t==="render"?"true":void 0});return Z&&!z?U.createElement(U.Fragment,null,x,U.createElement(xS,{page:Y})):x});DE.displayName="Link";var IS=U.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:g,...y},b){let A=Iu(h,{relative:y.relative}),T=br(),P=U.useContext(rd),{navigator:R,basename:z}=U.useContext(si),V=P!=null&&VS(A)&&m===!0,F=R.encodeLocation?R.encodeLocation(A).pathname:A.pathname,Y=T.pathname,Z=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(Y=Y.toLowerCase(),Z=Z?Z.toLowerCase():null,F=F.toLowerCase()),Z&&z&&(Z=mr(Z,z)||Z);const oe=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ue=Y===F||!o&&Y.startsWith(F)&&Y.charAt(oe)==="/",ge=Z!=null&&(Z===F||!o&&Z.startsWith(F)&&Z.charAt(F.length)==="/"),O={isActive:ue,isPending:ge,isTransitioning:V},x=ue?e:void 0,I;typeof s=="function"?I=s(O):I=[s,ue?"active":null,ge?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(O):u;return U.createElement(DE,{...y,"aria-current":x,className:I,ref:b,style:M,to:h,viewTransition:m},typeof g=="function"?g(O):g)});IS.displayName="NavLink";var CS=U.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=xh,action:m,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:A,...T},P)=>{let R=MS(),z=PS(m,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",F=typeof m=="string"&&CE.test(m),Y=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let oe=Z.nativeEvent.submitter,ue=(oe==null?void 0:oe.getAttribute("formmethod"))||h;R(oe||Z.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:o,state:u,relative:y,preventScrollReset:b,viewTransition:A})};return U.createElement("form",{ref:P,method:V,action:z,onSubmit:s?g:Y,...T,"data-discover":!F&&i==="render"?"true":void 0})});CS.displayName="Form";function DS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kE(i){let e=U.useContext(jo);return ut(e,DS(i)),e}function kS(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Er(),g=br(),y=Iu(i,{relative:u});return U.useCallback(b=>{if(uS(b,e)){b.preventDefault();let A=t!==void 0?t:gu(g)===gu(y);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[g,m,y,t,s,e,i,o,u,h])}var OS=0,jS=()=>`__${String(++OS)}__`;function MS(){let{router:i}=kE("useSubmit"),{basename:e}=U.useContext(si),t=JA();return U.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:g,body:y}=dS(s,e);if(o.navigate===!1){let b=o.fetcherKey||jS();await i.fetch(b,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function PS(i,{relative:e}={}){let{basename:t}=U.useContext(si),s=U.useContext(ai);ut(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Iu(i||".",{relative:e})},h=br();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let b=m.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:cr([t,u.pathname])),gu(u)}function VS(i,e={}){let t=U.useContext(bE);ut(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=kE("useViewTransitionState"),o=Iu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=mr(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=mr(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,u)!=null}[...bS];/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),LS=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),N_=i=>{const e=LS(i);return e.charAt(0).toUpperCase()+e.slice(1)},OE=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),zS=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=U.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},g)=>U.createElement("svg",{ref:g,...BS,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:OE("lucide",o),...!u&&!zS(m)&&{"aria-hidden":"true"},...m},[...h.map(([y,b])=>U.createElement(y,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(i,e)=>{const t=U.forwardRef(({className:s,...o},u)=>U.createElement(qS,{ref:u,iconNode:e,className:OE(`lucide-${US(N_(i))}`,`lucide-${i}`,s),...o}));return t.displayName=N_(i),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$p=De("arrow-left",HS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],jE=De("award",FS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],$S=De("bookmark",GS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rp=De("calendar",KS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],YS=De("camera",QS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],WS=De("chevron-down",XS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ME=De("chevron-left",ZS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kp=De("chevron-right",JS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],t2=De("circle-alert",e2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PE=De("circle-check-big",n2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],r2=De("circle-plus",i2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],hr=De("clock",s2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],is=De("crown",a2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],I_=De("flame",o2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],C_=De("house",l2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],c2=De("info",u2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],oa=De("lock",h2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],sp=De("log-out",d2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],m2=De("mail",f2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],g2=De("medal",p2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],v2=De("menu",y2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ap=De("message-circle",_2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],E2=De("pen-line",b2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],w2=De("phone",T2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],To=De("play",x2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S2=De("search",A2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],VE=De("send",R2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D_=De("settings",N2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],C2=De("share-2",I2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],k2=De("smile",D2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Sh=De("star",O2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],op=De("target",j2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],P2=De("thumbs-up",M2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],U2=De("timer",V2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],UE=De("trending-up",L2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],B2=De("triangle-alert",z2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],Uh=De("trophy",q2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ti=De("user",H2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],k_=De("users",F2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],LE=De("x",G2);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zE=De("zap",$2),K2=()=>{};var O_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Q2=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],g=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,b=u>>2,A=(u&3)<<4|m>>4;let T=(m&15)<<2|y>>6,P=y&63;g||(P=64,h||(T=64)),s.push(t[b],t[A],t[T],t[P])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(BE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Q2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const y=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||A==null)throw new Y2;const T=u<<2|m>>4;if(s.push(T),y!==64){const P=m<<4&240|y>>2;if(s.push(P),A!==64){const R=y<<6&192|A;s.push(R)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Y2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X2=function(i){const e=BE(i);return qE.encodeByteArray(e,!0)},Lh=function(i){return X2(i).replace(/\./g,"")},HE=function(i){try{return qE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=()=>W2().__FIREBASE_DEFAULTS__,J2=()=>{if(typeof process>"u"||typeof O_>"u")return;const i=O_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},eR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&HE(i[1]);return e&&JSON.parse(e)},ad=()=>{try{return K2()||Z2()||J2()||eR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},FE=i=>{var e,t;return(t=(e=ad())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},GE=i=>{const e=FE(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},$E=()=>{var i;return(i=ad())===null||i===void 0?void 0:i.config},KE=i=>{var e;return(e=ad())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Lh(JSON.stringify(t)),Lh(JSON.stringify(h)),""].join(".")}const uu={};function nR(){const i={prod:[],emulator:[]};for(const e of Object.keys(uu))uu[e]?i.emulator.push(e):i.prod.push(e);return i}function iR(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let j_=!1;function Yp(i,e){if(typeof window>"u"||typeof document>"u"||!ys(window.location.host)||uu[i]===e||uu[i]||j_)return;uu[i]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=nR().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function g(T,P){T.setAttribute("width","24"),T.setAttribute("id",P),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function y(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{j_=!0,h()},T}function b(T,P){T.setAttribute("id",P),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function A(){const T=iR(s),P=t("text"),R=document.getElementById(P)||document.createElement("span"),z=t("learnmore"),V=document.getElementById(z)||document.createElement("a"),F=t("preprendIcon"),Y=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Z=T.element;m(Z),b(V,z);const oe=y();g(Y,F),Z.append(Y,R,V,oe),document.body.appendChild(Z)}u?(R.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function sR(){var i;const e=(i=ad())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function lR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uR(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function cR(){return!sR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hR(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR="FirebaseError";class ki extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=fR,Object.setPrototypeOf(this,ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cu.prototype.create)}}class Cu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?mR(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new ki(o,m,s)}}function mR(i,e){return i.replace(pR,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const pR=/\{\$([^}]+)}/g;function gR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function fa(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(M_(u)&&M_(h)){if(!fa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function M_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function nu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function iu(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function yR(i,e){const t=new vR(i,e);return t.subscribe.bind(t)}class vR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");_R(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Lm),o.error===void 0&&(o.error=Lm),o.complete===void 0&&(o.complete=Lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _R(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ct(i){return i&&i._delegate?i._delegate:i}class us{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new tR;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TR(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ER(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ER(i){return i===sa?void 0:i}function TR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new bR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const xR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},AR=Ve.INFO,SR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},RR=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=SR[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xp{constructor(e){this.name=e,this._logLevel=AR,this._logHandler=RR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const NR=(i,e)=>e.some(t=>i instanceof t);let P_,V_;function IR(){return P_||(P_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return V_||(V_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,lp=new WeakMap,XE=new WeakMap,zm=new WeakMap,Wp=new WeakMap;function DR(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ss(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&YE.set(t,i)}).catch(()=>{}),Wp.set(e,i),e}function kR(i){if(lp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});lp.set(i,e)}let up={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return lp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||XE.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ss(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function OR(i){up=i(up)}function jR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Bm(this),e,...t);return XE.set(s,e.sort?e.sort():[e]),ss(s)}:CR().includes(i)?function(...e){return i.apply(Bm(this),e),ss(YE.get(this))}:function(...e){return ss(i.apply(Bm(this),e))}}function MR(i){return typeof i=="function"?jR(i):(i instanceof IDBTransaction&&kR(i),NR(i,IR())?new Proxy(i,up):i)}function ss(i){if(i instanceof IDBRequest)return DR(i);if(zm.has(i))return zm.get(i);const e=MR(i);return e!==i&&(zm.set(i,e),Wp.set(e,i)),e}const Bm=i=>Wp.get(i);function PR(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ss(h);return s&&h.addEventListener("upgradeneeded",g=>{s(ss(h.result),g.oldVersion,g.newVersion,ss(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const VR=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],qm=new Map;function U_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(qm.get(e))return qm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=UR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VR.includes(t)))return;const u=async function(h,...m){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&g.done]))[0]};return qm.set(e,u),u}OR(i=>({...i,get:(e,t,s)=>U_(e,t)||i.get(e,t,s),has:(e,t)=>!!U_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(zR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function zR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cp="@firebase/app",L_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Xp("@firebase/app"),BR="@firebase/app-compat",qR="@firebase/analytics-compat",HR="@firebase/analytics",FR="@firebase/app-check-compat",GR="@firebase/app-check",$R="@firebase/auth",KR="@firebase/auth-compat",QR="@firebase/database",YR="@firebase/data-connect",XR="@firebase/database-compat",WR="@firebase/functions",ZR="@firebase/functions-compat",JR="@firebase/installations",eN="@firebase/installations-compat",tN="@firebase/messaging",nN="@firebase/messaging-compat",iN="@firebase/performance",rN="@firebase/performance-compat",sN="@firebase/remote-config",aN="@firebase/remote-config-compat",oN="@firebase/storage",lN="@firebase/storage-compat",uN="@firebase/firestore",cN="@firebase/ai",hN="@firebase/firestore-compat",dN="firebase",fN="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp="[DEFAULT]",mN={[cp]:"fire-core",[BR]:"fire-core-compat",[HR]:"fire-analytics",[qR]:"fire-analytics-compat",[GR]:"fire-app-check",[FR]:"fire-app-check-compat",[$R]:"fire-auth",[KR]:"fire-auth-compat",[QR]:"fire-rtdb",[YR]:"fire-data-connect",[XR]:"fire-rtdb-compat",[WR]:"fire-fn",[ZR]:"fire-fn-compat",[JR]:"fire-iid",[eN]:"fire-iid-compat",[tN]:"fire-fcm",[nN]:"fire-fcm-compat",[iN]:"fire-perf",[rN]:"fire-perf-compat",[sN]:"fire-rc",[aN]:"fire-rc-compat",[oN]:"fire-gcs",[lN]:"fire-gcs-compat",[uN]:"fire-fst",[hN]:"fire-fst-compat",[cN]:"fire-vertex","fire-js":"fire-js",[dN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Map,pN=new Map,dp=new Map;function z_(i,e){try{i.container.addComponent(e)}catch(t){pr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ma(i){const e=i.name;if(dp.has(e))return pr.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,i);for(const t of zh.values())z_(t,i);for(const t of pN.values())z_(t,i);return!0}function od(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function pn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new Cu("app","Firebase",gN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=fN;function WE(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:hp,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(t||(t=$E()),!t)throw as.create("no-options");const u=zh.get(o);if(u){if(fa(t,u.options)&&fa(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const h=new wR(o);for(const g of dp.values())h.addComponent(g);const m=new yN(t,s,h);return zh.set(o,m),m}function Zp(i=hp){const e=zh.get(i);if(!e&&i===hp&&$E())return WE();if(!e)throw as.create("no-app",{appName:i});return e}function Ai(i,e,t){var s;let o=(s=mN[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pr.warn(m.join(" "));return}ma(new us(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="firebase-heartbeat-database",_N=1,yu="firebase-heartbeat-store";let Hm=null;function ZE(){return Hm||(Hm=PR(vN,_N,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(yu)}catch(t){console.warn(t)}}}}).catch(i=>{throw as.create("idb-open",{originalErrorMessage:i.message})})),Hm}async function bN(i){try{const t=(await ZE()).transaction(yu),s=await t.objectStore(yu).get(JE(i));return await t.done,s}catch(e){if(e instanceof ki)pr.warn(e.message);else{const t=as.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pr.warn(t.message)}}}async function B_(i,e){try{const s=(await ZE()).transaction(yu,"readwrite");await s.objectStore(yu).put(e,JE(i)),await s.done}catch(t){if(t instanceof ki)pr.warn(t.message);else{const s=as.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});pr.warn(s.message)}}}function JE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=1024,TN=30;class wN{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new AN(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=q_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>TN){const h=SN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){pr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=q_(),{heartbeatsToSend:s,unsentEntries:o}=xN(this._heartbeatsCache.heartbeats),u=Lh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return pr.warn(t),""}}}function q_(){return new Date().toISOString().substring(0,10)}function xN(i,e=EN){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),H_(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),H_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class AN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hR()?dR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await bN(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return B_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function H_(i){return Lh(JSON.stringify({version:2,heartbeats:i})).length}function SN(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(i){ma(new us("platform-logger",e=>new LR(e),"PRIVATE")),ma(new us("heartbeat",e=>new wN(e),"PRIVATE")),Ai(cp,L_,i),Ai(cp,L_,"esm2017"),Ai("fire-js","")}RN("");function Jp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function e1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NN=e1,t1=new Cu("auth","Firebase",e1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new Xp("@firebase/auth");function IN(i,...e){Bh.logLevel<=Ve.WARN&&Bh.warn(`Auth (${Ta}): ${i}`,...e)}function Rh(i,...e){Bh.logLevel<=Ve.ERROR&&Bh.error(`Auth (${Ta}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(i,...e){throw tg(i,...e)}function ii(i,...e){return tg(i,...e)}function eg(i,e,t){const s=Object.assign(Object.assign({},NN()),{[e]:t});return new Cu("auth","Firebase",s).create(e,{appName:i.name})}function dr(i){return eg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CN(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Kn(i,"argument-error"),eg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tg(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return t1.create(i,...e)}function xe(i,e,...t){if(!i)throw tg(e,...t)}function lr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Rh(e),new Error(e)}function gr(i,e){i||lr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function DN(){return F_()==="http:"||F_()==="https:"}function F_(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(DN()||oR()||"connection"in navigator)?navigator.onLine:!0}function ON(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t){this.shortDelay=e,this.longDelay=t,gr(t>e,"Short delay should be less than long delay!"),this.isMobile=rR()||lR()}get(){return kN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i,e){gr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PN=new ku(3e4,6e4);function Tr(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function Oi(i,e,t,s,o={}){return i1(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Du(Object.assign({key:i.config.apiKey},h)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y=Object.assign({method:e,headers:g},u);return aR()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&ys(i.emulatorConfig.host)&&(y.credentials="include"),n1.fetch()(await r1(i,i.config.apiHost,t,m),y)})}async function i1(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},jN),e);try{const o=new UN(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ph(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(i,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw ph(i,"email-already-in-use",h);if(g==="USER_DISABLED")throw ph(i,"user-disabled",h);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw eg(i,b,y);Kn(i,b)}}catch(o){if(o instanceof ki)throw o;Kn(i,"network-request-failed",{message:String(o)})}}async function Ou(i,e,t,s,o={}){const u=await Oi(i,e,t,s,o);return"mfaPendingCredential"in u&&Kn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function r1(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?ng(i.config,o):`${i.config.apiScheme}://${o}`;return MN.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function VN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class UN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ii(this.auth,"network-request-failed")),PN.get())})}}function ph(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ii(i,e,s);return o.customData._tokenResponse=t,o}function G_(i){return i!==void 0&&i.enterprise!==void 0}class LN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return VN(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function zN(i,e){return Oi(i,"GET","/v2/recaptchaConfig",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BN(i,e){return Oi(i,"POST","/v1/accounts:delete",e)}async function qh(i,e){return Oi(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qN(i,e=!1){const t=ct(i),s=await t.getIdToken(e),o=ig(s);xe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:cu(Fm(o.auth_time)),issuedAtTime:cu(Fm(o.iat)),expirationTime:cu(Fm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Fm(i){return Number(i)*1e3}function ig(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=HE(t);return o?JSON.parse(o):(Rh("Failed to decode base64 JWT payload"),null)}catch(o){return Rh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function $_(i){const e=ig(i);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ki&&HN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function HN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cu(this.lastLoginAt),this.creationTime=cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await Ro(i,qh(t,{idToken:s}));xe(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?s1(u.providerUserInfo):[],m=$N(i.providerData,h),g=i.isAnonymous,y=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),b=g?y:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new mp(u.createdAt,u.lastLoginAt),isAnonymous:b};Object.assign(i,A)}async function GN(i){const e=ct(i);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $N(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function s1(i){return i.map(e=>{var{providerId:t}=e,s=Jp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(i,e){const t=await i1(i,{},async()=>{const s=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await r1(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&ys(i.emulatorConfig.host)&&(g.credentials="include"),n1.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function QN(i,e){return Oi(i,"POST","/v2/accounts:revokeToken",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xe(e.length!==0,"internal-error");const t=$_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(xe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await KN(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new wo;return s&&(xe(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(xe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(xe(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i,e){xe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ni{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new mp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Ro(this,this.stsTokenManager.getToken(this.auth,e));return xe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qN(this,e)}reload(){return GN(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(dr(this.auth));const e=await this.getIdToken();return await Ro(this,BN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,g,y,b;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,T=(o=t.email)!==null&&o!==void 0?o:void 0,P=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,R=(h=t.photoURL)!==null&&h!==void 0?h:void 0,z=(m=t.tenantId)!==null&&m!==void 0?m:void 0,V=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,F=(y=t.createdAt)!==null&&y!==void 0?y:void 0,Y=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:Z,emailVerified:oe,isAnonymous:ue,providerData:ge,stsTokenManager:O}=t;xe(Z&&O,e,"internal-error");const x=wo.fromJSON(this.name,O);xe(typeof Z=="string",e,"internal-error"),Zr(A,e.name),Zr(T,e.name),xe(typeof oe=="boolean",e,"internal-error"),xe(typeof ue=="boolean",e,"internal-error"),Zr(P,e.name),Zr(R,e.name),Zr(z,e.name),Zr(V,e.name),Zr(F,e.name),Zr(Y,e.name);const I=new ni({uid:Z,auth:e,email:T,emailVerified:oe,displayName:A,isAnonymous:ue,photoURL:R,phoneNumber:P,tenantId:z,stsTokenManager:x,createdAt:F,lastLoginAt:Y});return ge&&Array.isArray(ge)&&(I.providerData=ge.map(M=>Object.assign({},M))),V&&(I._redirectEventId=V),I}static async _fromIdTokenResponse(e,t,s=!1){const o=new wo;o.updateFromServerResponse(t);const u=new ni({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Hh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];xe(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?s1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new wo;m.updateFromIdToken(s);const g=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function ur(i){gr(i instanceof Function,"Expected a class definition");let e=K_.get(i);return e?(gr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,K_.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}a1.type="NONE";const Q_=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(i,e,t){return`firebase:${i}:${e}:${t}`}class xo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Nh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await qh(this.auth,{idToken:e}).catch(()=>{});return t?ni._fromGetAccountInfoResponse(this.auth,t,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new xo(ur(Q_),e,s);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ur(Q_);const h=Nh(s,e.config.apiKey,e.name);let m=null;for(const y of t)try{const b=await y._get(h);if(b){let A;if(typeof b=="string"){const T=await qh(e,{idToken:b}).catch(()=>{});if(!T)break;A=await ni._fromGetAccountInfoResponse(e,T,b)}else A=ni._fromJSON(e,b);y!==u&&(m=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new xo(u,e,s):(u=g[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new xo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d1(e))return"Blackberry";if(f1(e))return"Webos";if(l1(e))return"Safari";if((e.includes("chrome/")||u1(e))&&!e.includes("edge/"))return"Chrome";if(h1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function o1(i=rn()){return/firefox\//i.test(i)}function l1(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function u1(i=rn()){return/crios\//i.test(i)}function c1(i=rn()){return/iemobile/i.test(i)}function h1(i=rn()){return/android/i.test(i)}function d1(i=rn()){return/blackberry/i.test(i)}function f1(i=rn()){return/webos/i.test(i)}function rg(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function YN(i=rn()){var e;return rg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function XN(){return uR()&&document.documentMode===10}function m1(i=rn()){return rg(i)||h1(i)||f1(i)||d1(i)||/windows phone/i.test(i)||c1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(i,e=[]){let t;switch(i){case"Browser":t=Y_(rn());break;case"Worker":t=`${Y_(rn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ta}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const g=e(u);h(g)}catch(g){m(g)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(i,e={}){return Oi(i,"GET","/v2/passwordPolicy",Tr(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=6;class eI{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:JN,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new WN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ur(t)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await qh(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(pn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return xe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ON()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(dr(this));const t=e?ct(e):null;return t&&xe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&xe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ZN(this),t=new eI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Cu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await QN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ur(e)||this._popupRedirectResolver;xe(t,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[ur(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(xe(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,s,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=p1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&IN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function wr(i){return ct(i)}class X_{constructor(e){this.auth=e,this.observer=null,this.addObserver=yR(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nI(i){ld=i}function g1(i){return ld.loadJS(i)}function iI(){return ld.recaptchaEnterpriseScript}function rI(){return ld.gapiScript}function sI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class aI{constructor(){this.enterprise=new oI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class oI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const lI="recaptcha-enterprise",y1="NO_RECAPTCHA";class uI{constructor(e){this.type=lI,this.auth=wr(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{zN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new LN(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,h,m){const g=window.grecaptcha;G_(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(y1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new aI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&G_(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=iI();g.length!==0&&(g+=m),g1(g).then(()=>{o(m,u,h)}).catch(y=>{h(y)})}}).catch(m=>{h(m)})})}}async function W_(i,e,t,s=!1,o=!1){const u=new uI(i);let h;if(o)h=y1;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Fh(i,e,t,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await W_(i,e,t,t==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await W_(i,e,t,t==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(i,e){const t=od(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(fa(u,e??{}))return o;Kn(o,"already-initialized")}return t.initialize({options:e})}function hI(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(ur);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function dI(i,e,t){const s=wr(i);xe(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=v1(e),{host:h,port:m}=fI(e),g=m===null?"":`:${m}`,y={url:`${u}//${h}${g}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){xe(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),xe(fa(y,s.config.emulator)&&fa(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,ys(h)?(Qp(`${u}//${h}${g}`),Yp("Auth",!0)):mI()}function v1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function fI(i){const e=v1(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Z_(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:Z_(h)}}}function Z_(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function mI(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,t){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function pI(i,e){return Oi(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(i,e){return Ou(i,"POST","/v1/accounts:signInWithPassword",Tr(i,e))}async function yI(i,e){return Oi(i,"POST","/v1/accounts:sendOobCode",Tr(i,e))}async function vI(i,e){return yI(i,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",Tr(i,e))}async function bI(i,e){return Ou(i,"POST","/v1/accounts:signInWithEmailLink",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu extends sg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new vu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new vu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fh(e,t,"signInWithPassword",gI);case"emailLink":return _I(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fh(e,s,"signUpPassword",pI);case"emailLink":return bI(e,{idToken:t,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ao(i,e){return Ou(i,"POST","/v1/accounts:signInWithIdp",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="http://localhost";class pa extends sg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Jp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new pa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Ao(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Ao(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ao(e,t)}buildRequest(){const e={requestUri:EI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wI(i){const e=nu(iu(i)).link,t=e?nu(iu(e)).deep_link_id:null,s=nu(iu(i)).deep_link_id;return(s?nu(iu(s)).link:null)||s||t||e||i}class ag{constructor(e){var t,s,o,u,h,m;const g=nu(iu(e)),y=(t=g.apiKey)!==null&&t!==void 0?t:null,b=(s=g.oobCode)!==null&&s!==void 0?s:null,A=TI((o=g.mode)!==null&&o!==void 0?o:null);xe(y&&b&&A,"argument-error"),this.apiKey=y,this.operation=A,this.code=b,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=g.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=wI(e);try{return new ag(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,t){return vu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=ag.parseLink(t);return xe(s,"argument-error"),vu._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju extends og{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends ju{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return pa._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return or.credential(t,s)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends ju{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends ju{constructor(){super("twitter.com")}static credential(e,t){return pa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ts.credential(t,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(i,e){return Ou(i,"POST","/v1/accounts:signUp",Tr(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),h=J_(s);return new ga({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=J_(s);return new ga({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function J_(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends ki{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Gh(e,t,s,o)}}function _1(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(i,u,e,s):u})}async function AI(i,e,t=!1){const s=await Ro(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ga._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(i,e,t=!1){const{auth:s}=i;if(pn(s.app))return Promise.reject(dr(s));const o="reauthenticate";try{const u=await Ro(i,_1(s,o,e,i),t);xe(u.idToken,s,"internal-error");const h=ig(u.idToken);xe(h,s,"internal-error");const{sub:m}=h;return xe(i.uid===m,s,"user-mismatch"),ga._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Kn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(i,e,t=!1){if(pn(i.app))return Promise.reject(dr(i));const s="signIn",o=await _1(i,s,e),u=await ga._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function RI(i,e){return b1(wr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(i){const e=wr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NI(i,e,t){const s=wr(i);await Fh(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",vI)}async function II(i,e,t){if(pn(i.app))return Promise.reject(dr(i));const s=wr(i),h=await Fh(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&E1(i),g}),m=await ga._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function CI(i,e,t){return pn(i.app)?Promise.reject(dr(i)):RI(ct(i),Po.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&E1(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(i,e){return Oi(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=ct(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Ro(s,DI(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:g})=>g==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function kI(i,e,t,s){return ct(i).onIdTokenChanged(e,t,s)}function OI(i,e,t){return ct(i).beforeAuthStateChanged(e,t)}function Mu(i,e,t,s){return ct(i).onAuthStateChanged(e,t,s)}function w1(i){return ct(i).signOut()}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI=1e3,MI=10;class A1 extends x1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=m1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,g)=>{this.notifyListeners(h,g)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);XN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MI):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},jI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}A1.type="LOCAL";const PI=A1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends x1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}S1.type="SESSION";const R1=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new ud(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async y=>y(t.origin,u)),g=await VI(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ud.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,g)=>{const y=lg("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const T=A;if(T.data.eventId===y)switch(T.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function LI(i){Si().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function zI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function qI(){return N1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firebaseLocalStorageDb",HI=1,Kh="firebaseLocalStorage",C1="fbase_key";class Pu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function cd(i,e){return i.transaction([Kh],e?"readwrite":"readonly").objectStore(Kh)}function FI(){const i=indexedDB.deleteDatabase(I1);return new Pu(i).toPromise()}function pp(){const i=indexedDB.open(I1,HI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Kh,{keyPath:C1})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Kh)?e(s):(s.close(),await FI(),e(await pp()))})})}async function eb(i,e,t){const s=cd(i,!0).put({[C1]:e,value:t});return new Pu(s).toPromise()}async function GI(i,e){const t=cd(i,!1).get(e),s=await new Pu(t).toPromise();return s===void 0?null:s.value}function tb(i,e){const t=cd(i,!0).delete(e);return new Pu(t).toPromise()}const $I=800,KI=3;class D1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await pp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>KI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return N1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ud._getInstance(qI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await zI(),!this.activeServiceWorker)return;this.sender=new UI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await pp();return await eb(e,$h,"1"),await tb(e,$h),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>eb(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>GI(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>tb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=cd(o,!1).getAll();return new Pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D1.type="LOCAL";const QI=D1;new ku(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(i,e){return e?ur(e):(xe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug extends sg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ao(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ao(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YI(i){return b1(i.auth,new ug(i),i.bypassAuthState)}function XI(i){const{auth:e,user:t}=i;return xe(t,e,"internal-error"),SI(t,new ug(i),i.bypassAuthState)}async function WI(i){const{auth:e,user:t}=i;return xe(t,e,"internal-error"),AI(t,new ug(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YI;case"linkViaPopup":case"linkViaRedirect":return WI;case"reauthViaPopup":case"reauthViaRedirect":return XI;default:Kn(this.auth,"internal-error")}}resolve(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new ku(2e3,1e4);async function JI(i,e,t){if(pn(i.app))return Promise.reject(ii(i,"operation-not-supported-in-this-environment"));const s=wr(i);CN(i,e,og);const o=k1(s,t);return new la(s,"signInViaPopup",e,o).executeNotNull()}class la extends O1{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,la.currentPopupAction&&la.currentPopupAction.cancel(),la.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xe(e,this.auth,"internal-error"),e}async onExecution(){gr(this.filter.length===1,"Popup operations only handle one event");const e=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,la.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZI.get())};e()}}la.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="pendingRedirect",Ih=new Map;class tC extends O1{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Ih.get(this.auth._key());if(!e){try{const s=await nC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Ih.set(this.auth._key(),e)}return this.bypassAuthState||Ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nC(i,e){const t=sC(e),s=rC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function iC(i,e){Ih.set(i._key(),e)}function rC(i){return ur(i._redirectPersistence)}function sC(i){return Nh(eC,i.config.apiKey,i.name)}async function aC(i,e,t=!1){if(pn(i.app))return Promise.reject(dr(i));const s=wr(i),o=k1(s,e),h=await new tC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=10*60*1e3;class lC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!j1(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ii(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oC&&this.cachedEventUids.clear(),this.cachedEventUids.has(nb(e))}saveEventToCache(e){this.cachedEventUids.add(nb(e)),this.lastProcessedEventTime=Date.now()}}function nb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function j1({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return j1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cC(i,e={}){return Oi(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dC=/^https?/;async function fC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await cC(i);for(const t of e)try{if(mC(t))return}catch{}Kn(i,"unauthorized-domain")}function mC(i){const e=fp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!dC.test(t))return!1;if(hC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new ku(3e4,6e4);function ib(){const i=Si().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function gC(i){return new Promise((e,t)=>{var s,o,u;function h(){ib(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ib(),t(ii(i,"network-request-failed"))},timeout:pC.get()})}if(!((o=(s=Si().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Si().gapi)===null||u===void 0)&&u.load)h();else{const m=sI("iframefcb");return Si()[m]=()=>{gapi.load?h():t(ii(i,"network-request-failed"))},g1(`${rI()}?onload=${m}`).catch(g=>t(g))}}).catch(e=>{throw Ch=null,e})}let Ch=null;function yC(i){return Ch=Ch||gC(i),Ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new ku(5e3,15e3),_C="__/auth/iframe",bC="emulator/auth/iframe",EC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wC(i){const e=i.config;xe(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?ng(e,bC):`https://${i.config.authDomain}/${_C}`,s={apiKey:e.apiKey,appName:i.name,v:Ta},o=TC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Du(s).slice(1)}`}async function xC(i){const e=await yC(i),t=Si().gapi;return xe(t,i,"internal-error"),e.open({where:document.body,url:wC(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ii(i,"network-request-failed"),m=Si().setTimeout(()=>{u(h)},vC.get());function g(){Si().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SC=500,RC=600,NC="_blank",IC="http://localhost";class rb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CC(i,e,t,s=SC,o=RC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},AC),{width:s.toString(),height:o.toString(),top:u,left:h}),y=rn().toLowerCase();t&&(m=u1(y)?NC:t),o1(y)&&(e=e||IC,g.scrollbars="yes");const b=Object.entries(g).reduce((T,[P,R])=>`${T}${P}=${R},`,"");if(YN(y)&&m!=="_self")return DC(e||"",m),new rb(null);const A=window.open(e||"",m,b);xe(A,i,"popup-blocked");try{A.focus()}catch{}return new rb(A)}function DC(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="__/auth/handler",OC="emulator/auth/handler",jC=encodeURIComponent("fac");async function sb(i,e,t,s,o,u){xe(i.config.authDomain,i,"auth-domain-config-required"),xe(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Ta,eventId:o};if(e instanceof og){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",gR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,A]of Object.entries({}))h[b]=A}if(e instanceof ju){const b=e.getScopes().filter(A=>A!=="");b.length>0&&(h.scopes=b.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await i._getAppCheckToken(),y=g?`#${jC}=${encodeURIComponent(g)}`:"";return`${MC(i)}?${Du(m).slice(1)}${y}`}function MC({config:i}){return i.emulator?ng(i,OC):`https://${i.authDomain}/${kC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class PC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R1,this._completeRedirectFn=aC,this._overrideRedirectResult=iC}async _openPopup(e,t,s,o){var u;gr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await sb(e,t,s,fp(),o);return CC(e,h,lg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await sb(e,t,s,fp(),o);return LI(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(gr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await xC(e),s=new lC(e);return t.register("authEvent",o=>(xe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gm,{type:Gm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Gm];h!==void 0&&t(!!h),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=fC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return m1()||l1()||rg()}}const VC=PC;var ab="@firebase/auth",ob="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function zC(i){ma(new us("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;xe(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:p1(i)},y=new tI(s,o,u,g);return hI(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ma(new us("auth-internal",e=>{const t=wr(e.getProvider("auth").getImmediate());return(s=>new UC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(ab,ob,LC(i)),Ai(ab,ob,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=5*60,qC=KE("authIdTokenMaxAge")||BC;let lb=null;const HC=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>qC)return;const o=t==null?void 0:t.token;lb!==o&&(lb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vs(i=Zp()){const e=od(i,"auth");if(e.isInitialized())return e.getImmediate();const t=cI(i,{popupRedirectResolver:VC,persistence:[QI,PI,R1]}),s=KE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=HC(u.toString());OI(t,h,()=>h(t.currentUser)),kI(t,m=>h(m))}}const o=FE("auth");return o&&dI(t,`http://${o}`),t}function FC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}nI({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ii("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",FC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});zC("Browser");function In(){const i=Er(),[e,t]=U.useState(!1),[s,o]=U.useState(!1),[u,h]=U.useState(null),m=vs(),g=U.useRef(null);U.useEffect(()=>Mu(m,R=>{h(R)}),[m]),U.useEffect(()=>{const P=R=>{g.current&&!g.current.contains(R.target)&&o(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const y=async()=>{try{await w1(m),o(!1),i("/auth")}catch(P){console.error("Erro ao fazer logout: ",P)}},b=()=>{t(!e)},A=()=>{o(!s)},T=P=>{switch(o(!1),P){case"profile":i("/profile");break;case"journey":i("/jornada-hiit");break;case"settings":console.log("Navegar para Gerenciar Conta");break;case"logout":y();break}};return p.jsx("header",{className:"bg-gray-900 text-white shadow-lg fixed top-0 left-0 right-0 z-50",children:p.jsxs("div",{className:"container mx-auto px-6",children:[p.jsxs("div",{className:"flex justify-between items-center py-4",children:[p.jsx("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>i("/dashboard"),children:p.jsx("img",{src:"/fina.png",alt:"Team HIIT Logo",className:"h-8"})}),p.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[p.jsxs("button",{onClick:()=>i("/dashboard"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:[p.jsx(C_,{className:"w-4 h-4"}),p.jsx("span",{children:"Dashboard"})]}),p.jsxs("button",{onClick:()=>i(u?"/community":"/auth"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:[p.jsx(k_,{className:"w-4 h-4"}),p.jsx("span",{children:"Comunidade"})]}),u&&p.jsxs("div",{className:"relative",ref:g,children:[p.jsxs("button",{onClick:A,className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:[u.photoURL?p.jsx("img",{src:u.photoURL,alt:"Foto de Perfil",className:"w-6 h-6 rounded-full object-cover"}):p.jsx(ti,{className:"w-4 h-4"}),p.jsx("span",{children:u.displayName||"Usuário"}),p.jsx(WS,{className:`w-4 h-4 transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&p.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[p.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:u.photoURL?p.jsx("img",{src:u.photoURL,alt:"Foto de Perfil",className:"w-8 h-8 rounded-full object-cover"}):p.jsx(ti,{className:"w-4 h-4 text-white"})}),p.jsx("span",{className:"font-medium text-gray-900",children:u.displayName||"Usuário"})]})}),p.jsxs("button",{onClick:()=>T("profile"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[p.jsx(ti,{className:"w-4 h-4 text-gray-500"}),p.jsx("span",{className:"text-gray-700",children:"Meu perfil"})]}),p.jsxs("button",{onClick:()=>T("journey"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[p.jsx(Uh,{className:"w-4 h-4 text-gray-500"}),p.jsx("span",{className:"text-gray-700",children:"Jornada HIIT"})]}),p.jsxs("button",{onClick:()=>T("settings"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[p.jsx(D_,{className:"w-4 h-4 text-gray-500"}),p.jsx("span",{className:"text-gray-700",children:"Gerenciar conta"})]}),p.jsx("div",{className:"border-t border-gray-100 mt-2 pt-2",children:p.jsxs("button",{onClick:()=>T("logout"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[p.jsx(sp,{className:"w-4 h-4 text-red-500"}),p.jsx("span",{className:"text-red-600",children:"Sair"})]})})]})]}),!u&&p.jsxs("button",{onClick:()=>i("/auth"),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200",children:[p.jsx(ti,{className:"w-4 h-4"}),p.jsx("span",{children:"Entrar"})]})]}),p.jsx("button",{onClick:b,className:"md:hidden p-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:e?p.jsx(LE,{className:"w-6 h-6"}):p.jsx(v2,{className:"w-6 h-6"})})]}),e&&p.jsx("div",{className:"md:hidden py-4 border-t border-gray-700",children:p.jsxs("nav",{className:"space-y-2",children:[p.jsxs("button",{onClick:()=>{i("/dashboard"),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[p.jsx(C_,{className:"w-5 h-5"}),p.jsx("span",{children:"Dashboard"})]}),p.jsxs("button",{onClick:()=>{i(u?"/community":"/auth"),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[p.jsx(k_,{className:"w-5 h-5"}),p.jsx("span",{children:"Comunidade"})]}),u&&p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>{i("/profile"),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[u.photoURL?p.jsx("img",{src:u.photoURL,alt:"Foto de Perfil",className:"w-8 h-8 rounded-full object-cover"}):p.jsx(ti,{className:"w-5 h-5"}),p.jsx("span",{children:"Meu perfil"})]}),p.jsxs("button",{onClick:()=>{i("/jornada-hiit"),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[p.jsx(Uh,{className:"w-5 h-5"}),p.jsx("span",{children:"Jornada HIIT"})]}),p.jsxs("button",{onClick:()=>{t(!1),console.log("Navegar para Gerenciar Conta")},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[p.jsx(D_,{className:"w-5 h-5"}),p.jsx("span",{children:"Gerenciar conta"})]}),p.jsxs("button",{onClick:()=>{y(),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200 text-left",children:[p.jsx(sp,{className:"w-5 h-5"}),p.jsx("span",{children:"Sair"})]})]}),!u&&p.jsxs("button",{onClick:()=>{i("/auth"),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200 text-left",children:[p.jsx(ti,{className:"w-5 h-5"}),p.jsx("span",{children:"Entrar"})]})]})})]})})}const M1=U.createContext(),P1=()=>{const i=U.useContext(M1);if(!i)throw new Error("useToast must be used within a ToastProvider");return i},GC=({children:i})=>{const[e,t]=U.useState([]),s=U.useCallback((h,m="info",g=5e3)=>{const y=Date.now()+Math.random(),b={id:y,message:h,type:m,duration:g};return t(A=>[...A,b]),g>0&&setTimeout(()=>{t(A=>A.filter(T=>T.id!==y))},g),y},[]),o=U.useCallback(h=>{t(m=>m.filter(g=>g.id!==h))},[]),u={addToast:s,removeToast:o,ToastContainer:()=>p.jsx($C,{toasts:e,removeToast:o})};return p.jsx(M1.Provider,{value:u,children:i})},$C=({toasts:i,removeToast:e})=>i.length===0?null:p.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:i.map(t=>p.jsx(KC,{toast:t,onClose:()=>e(t.id)},t.id))}),KC=({toast:i,onClose:e})=>{const t=()=>{switch(i.type){case"success":return p.jsx(PE,{className:"w-5 h-5 text-green-500"});case"error":return p.jsx(t2,{className:"w-5 h-5 text-red-500"});case"warning":return p.jsx(B2,{className:"w-5 h-5 text-yellow-500"});default:return p.jsx(c2,{className:"w-5 h-5 text-blue-500"})}},s=()=>{switch(i.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}};return p.jsxs("div",{className:`flex items-center p-4 rounded-lg border shadow-lg min-w-80 ${s()}`,children:[t(),p.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 flex-1",children:i.message}),p.jsx("button",{onClick:e,className:"ml-3 text-gray-400 hover:text-gray-600",children:p.jsx(LE,{className:"w-4 h-4"})})]})},$m=({src:i,alt:e,className:t="",style:s={},placeholder:o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkNhcnJlZ2FuZG8uLi48L3RleHQ+PC9zdmc+",onLoad:u,onError:h})=>{const[m,g]=U.useState(!1),[y,b]=U.useState(!1),[A,T]=U.useState(!1),P=U.useRef();U.useEffect(()=>{const V=new IntersectionObserver(([F])=>{F.isIntersecting&&(b(!0),V.disconnect())},{threshold:.1,rootMargin:"50px"});return P.current&&V.observe(P.current),()=>V.disconnect()},[]);const R=()=>{g(!0),u&&u()},z=()=>{T(!0),h&&h()};return p.jsxs("div",{ref:P,className:`relative overflow-hidden ${t}`,style:s,children:[!m&&!A&&p.jsx("img",{src:o,alt:"",className:"w-full h-full object-cover absolute inset-0 blur-sm",style:{filter:"blur(5px)"}}),!m&&!A&&y&&p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-200",children:p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-600"})}),y&&!A&&p.jsx("img",{src:i,alt:e,className:`w-full h-full object-cover transition-opacity duration-300 ${m?"opacity-100":"opacity-0"}`,onLoad:R,onError:z,loading:"lazy",decoding:"async"}),A&&p.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-500",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl mb-2",children:"📷"}),p.jsx("div",{className:"text-sm",children:"Erro ao carregar imagem"})]})})]})};function QC(){const[i,e]=U.useState([]),[t,s]=U.useState(""),[o,u]=U.useState(0),[h,m]=U.useState(!0),g=Er(),{addToast:y,ToastContainer:b}=P1();U.useEffect(()=>{(async()=>{try{const z=document.createElement("script");z.src="/trainings.js",z.onload=()=>{if(window.trainingsData&&window.trainingsData.sections)e(window.trainingsData.sections),m(!1);else throw new Error("Dados dos treinos não encontrados")},z.onerror=()=>{throw new Error("Erro ao carregar arquivo de treinos")},document.head.appendChild(z)}catch(z){console.error("Erro ao carregar treinos:",z),s(`Erro ao carregar treinos: ${z.message}`),y("Erro ao carregar treinos","error"),m(!1)}})()},[]),U.useEffect(()=>{const R=setInterval(()=>{u(z=>(z+1)%2)},5e3);return()=>clearInterval(R)},[]);const A=R=>{switch(R.toLowerCase()){case"força":case"específico":return"from-blue-500 to-blue-600";case"cardio":case"hiit":case"desafio":return"from-red-500 to-orange-500";case"guia":case"suporte":return"from-green-500 to-teal-500";default:return"from-purple-500 to-pink-500"}},T=[p.jsxs("div",{className:"relative overflow-hidden",style:{height:"800px"},children:[p.jsx($m,{src:"/BANNER PRINCIPAL/TREINOS-GRATIS.png",alt:"Team HIIT - Treinos Grátis",className:"w-full h-full",style:{objectFit:"cover",objectPosition:"center center"}}),p.jsx("div",{className:"absolute inset-0 bg-black/10"})]},"slide1"),p.jsxs("div",{className:"relative overflow-hidden",style:{height:"800px"},children:[p.jsx($m,{src:"/BANNER PRINCIPAL/Indique-um-amigo.png",alt:"Team HIIT - Indique um Amigo",className:"w-full h-full",style:{objectFit:"cover",objectPosition:"center center"}}),p.jsx("div",{className:"absolute inset-0 bg-black/10"})]},"slide2")],P=()=>i.reduce((R,z)=>R+z.trainings.length,0);return h?p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx(In,{}),p.jsx("div",{className:"container mx-auto px-4 py-8",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((R,z)=>p.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[p.jsx("div",{className:"skeleton h-48 rounded-lg mb-4 bg-gray-200 animate-pulse"}),p.jsx("div",{className:"skeleton h-6 rounded mb-2 bg-gray-200 animate-pulse"}),p.jsx("div",{className:"skeleton h-4 rounded mb-4 bg-gray-200 animate-pulse"}),p.jsx("div",{className:"skeleton h-10 rounded bg-gray-200 animate-pulse"})]},z))})})]}):p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsx(b,{}),p.jsx("div",{className:"w-full mb-8 animate-fade-in-up pt-20",children:p.jsxs("div",{className:"relative overflow-hidden",style:{height:"800px"},children:[p.jsx("div",{className:"flex transition-transform duration-500 ease-in-out h-full",style:{transform:`translateX(-${o*100}%)`},children:T.map((R,z)=>p.jsx("div",{className:"w-full flex-shrink-0 h-full",children:R},z))}),p.jsx("button",{onClick:()=>u(o===0?T.length-1:o-1),className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 hover:scale-110 backdrop-blur-sm z-10",children:"←"}),p.jsx("button",{onClick:()=>u(o===T.length-1?0:o+1),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 hover:scale-110 backdrop-blur-sm z-10",children:"→"}),p.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10",children:T.map((R,z)=>p.jsx("button",{onClick:()=>u(z),className:`w-3 h-3 rounded-full transition-all duration-300 ${z===o?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`},z))})]})}),p.jsxs("div",{className:"container mx-auto px-6 py-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-100",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mb-4",children:p.jsx(UE,{className:"w-6 h-6 text-white"})}),p.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:P()}),p.jsx("p",{className:"text-gray-400",children:"Treinos Disponíveis"})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-200",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-green-500 to-teal-500 rounded-full mb-4",children:p.jsx(jE,{className:"w-6 h-6 text-white"})}),p.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"12"}),p.jsx("p",{className:"text-gray-400",children:"Treinos Concluídos"})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-300",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mb-4",children:p.jsx(zE,{className:"w-6 h-6 text-white"})}),p.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"2,847"}),p.jsx("p",{className:"text-gray-400",children:"Calorias Queimadas"})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-400",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-4",children:p.jsx(hr,{className:"w-6 h-6 text-white"})}),p.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"48h"}),p.jsx("p",{className:"text-gray-400",children:"Tempo Total"})]})]}),t&&p.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:t}),i.map((R,z)=>p.jsxs("div",{className:"mb-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:R.title==="CANAIS DE SUPORTE"?"CRONOGRAMAS SEMANAIS":R.title}),R.description&&p.jsx("p",{className:"text-gray-400 mb-6",children:R.description}),R.trainings.length>0?p.jsx("div",{className:"overflow-x-auto pb-4 md:overflow-visible",children:p.jsx("div",{className:"flex gap-8 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-8",children:R.trainings.map((V,F)=>p.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer transform transition-transform duration-300 hover:scale-105 hover:shadow-xl flex-shrink-0 w-72 md:w-auto flex flex-col aspect-[3/4]",onClick:()=>g(`/trainings/${V.id}`),children:[p.jsx("div",{className:"relative flex-1",children:p.jsx($m,{src:`/${V.imageUrl}`,alt:V.title,className:"w-full h-full",style:{objectFit:"cover"}})}),p.jsxs("div",{className:"p-4 bg-white",children:[p.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:V.title}),p.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[p.jsx(hr,{className:"w-4 h-4 mr-1"}),p.jsx("span",{children:V.duration}),p.jsx("span",{className:"mx-2",children:"•"}),p.jsx("span",{children:V.level})]}),p.jsx("div",{className:"flex flex-wrap gap-2",children:V.categories.slice(0,2).map(Y=>p.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full text-white 
                                bg-gradient-to-r ${A(Y)}
                              `,children:Y},Y))})]})]},V.id))})}):p.jsxs("div",{className:"text-center py-12",children:[p.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:p.jsx(S2,{className:"w-8 h-8 text-gray-400"})}),p.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Nenhum treino encontrado"}),p.jsx("p",{className:"text-gray-600",children:"Nenhum treino disponível nesta categoria no momento."})]})]},R.id))]})]})}var ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,V1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,x){function I(){}I.prototype=x.prototype,O.D=x.prototype,O.prototype=new I,O.prototype.constructor=O,O.C=function(M,N,k){for(var C=Array(arguments.length-2),be=2;be<arguments.length;be++)C[be-2]=arguments[be];return x.prototype[N].apply(M,C)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,x,I){I||(I=0);var M=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)M[N]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(N=0;16>N;++N)M[N]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=O.g[0],I=O.g[1],N=O.g[2];var k=O.g[3],C=x+(k^I&(N^k))+M[0]+3614090360&4294967295;x=I+(C<<7&4294967295|C>>>25),C=k+(N^x&(I^N))+M[1]+3905402710&4294967295,k=x+(C<<12&4294967295|C>>>20),C=N+(I^k&(x^I))+M[2]+606105819&4294967295,N=k+(C<<17&4294967295|C>>>15),C=I+(x^N&(k^x))+M[3]+3250441966&4294967295,I=N+(C<<22&4294967295|C>>>10),C=x+(k^I&(N^k))+M[4]+4118548399&4294967295,x=I+(C<<7&4294967295|C>>>25),C=k+(N^x&(I^N))+M[5]+1200080426&4294967295,k=x+(C<<12&4294967295|C>>>20),C=N+(I^k&(x^I))+M[6]+2821735955&4294967295,N=k+(C<<17&4294967295|C>>>15),C=I+(x^N&(k^x))+M[7]+4249261313&4294967295,I=N+(C<<22&4294967295|C>>>10),C=x+(k^I&(N^k))+M[8]+1770035416&4294967295,x=I+(C<<7&4294967295|C>>>25),C=k+(N^x&(I^N))+M[9]+2336552879&4294967295,k=x+(C<<12&4294967295|C>>>20),C=N+(I^k&(x^I))+M[10]+4294925233&4294967295,N=k+(C<<17&4294967295|C>>>15),C=I+(x^N&(k^x))+M[11]+2304563134&4294967295,I=N+(C<<22&4294967295|C>>>10),C=x+(k^I&(N^k))+M[12]+1804603682&4294967295,x=I+(C<<7&4294967295|C>>>25),C=k+(N^x&(I^N))+M[13]+4254626195&4294967295,k=x+(C<<12&4294967295|C>>>20),C=N+(I^k&(x^I))+M[14]+2792965006&4294967295,N=k+(C<<17&4294967295|C>>>15),C=I+(x^N&(k^x))+M[15]+1236535329&4294967295,I=N+(C<<22&4294967295|C>>>10),C=x+(N^k&(I^N))+M[1]+4129170786&4294967295,x=I+(C<<5&4294967295|C>>>27),C=k+(I^N&(x^I))+M[6]+3225465664&4294967295,k=x+(C<<9&4294967295|C>>>23),C=N+(x^I&(k^x))+M[11]+643717713&4294967295,N=k+(C<<14&4294967295|C>>>18),C=I+(k^x&(N^k))+M[0]+3921069994&4294967295,I=N+(C<<20&4294967295|C>>>12),C=x+(N^k&(I^N))+M[5]+3593408605&4294967295,x=I+(C<<5&4294967295|C>>>27),C=k+(I^N&(x^I))+M[10]+38016083&4294967295,k=x+(C<<9&4294967295|C>>>23),C=N+(x^I&(k^x))+M[15]+3634488961&4294967295,N=k+(C<<14&4294967295|C>>>18),C=I+(k^x&(N^k))+M[4]+3889429448&4294967295,I=N+(C<<20&4294967295|C>>>12),C=x+(N^k&(I^N))+M[9]+568446438&4294967295,x=I+(C<<5&4294967295|C>>>27),C=k+(I^N&(x^I))+M[14]+3275163606&4294967295,k=x+(C<<9&4294967295|C>>>23),C=N+(x^I&(k^x))+M[3]+4107603335&4294967295,N=k+(C<<14&4294967295|C>>>18),C=I+(k^x&(N^k))+M[8]+1163531501&4294967295,I=N+(C<<20&4294967295|C>>>12),C=x+(N^k&(I^N))+M[13]+2850285829&4294967295,x=I+(C<<5&4294967295|C>>>27),C=k+(I^N&(x^I))+M[2]+4243563512&4294967295,k=x+(C<<9&4294967295|C>>>23),C=N+(x^I&(k^x))+M[7]+1735328473&4294967295,N=k+(C<<14&4294967295|C>>>18),C=I+(k^x&(N^k))+M[12]+2368359562&4294967295,I=N+(C<<20&4294967295|C>>>12),C=x+(I^N^k)+M[5]+4294588738&4294967295,x=I+(C<<4&4294967295|C>>>28),C=k+(x^I^N)+M[8]+2272392833&4294967295,k=x+(C<<11&4294967295|C>>>21),C=N+(k^x^I)+M[11]+1839030562&4294967295,N=k+(C<<16&4294967295|C>>>16),C=I+(N^k^x)+M[14]+4259657740&4294967295,I=N+(C<<23&4294967295|C>>>9),C=x+(I^N^k)+M[1]+2763975236&4294967295,x=I+(C<<4&4294967295|C>>>28),C=k+(x^I^N)+M[4]+1272893353&4294967295,k=x+(C<<11&4294967295|C>>>21),C=N+(k^x^I)+M[7]+4139469664&4294967295,N=k+(C<<16&4294967295|C>>>16),C=I+(N^k^x)+M[10]+3200236656&4294967295,I=N+(C<<23&4294967295|C>>>9),C=x+(I^N^k)+M[13]+681279174&4294967295,x=I+(C<<4&4294967295|C>>>28),C=k+(x^I^N)+M[0]+3936430074&4294967295,k=x+(C<<11&4294967295|C>>>21),C=N+(k^x^I)+M[3]+3572445317&4294967295,N=k+(C<<16&4294967295|C>>>16),C=I+(N^k^x)+M[6]+76029189&4294967295,I=N+(C<<23&4294967295|C>>>9),C=x+(I^N^k)+M[9]+3654602809&4294967295,x=I+(C<<4&4294967295|C>>>28),C=k+(x^I^N)+M[12]+3873151461&4294967295,k=x+(C<<11&4294967295|C>>>21),C=N+(k^x^I)+M[15]+530742520&4294967295,N=k+(C<<16&4294967295|C>>>16),C=I+(N^k^x)+M[2]+3299628645&4294967295,I=N+(C<<23&4294967295|C>>>9),C=x+(N^(I|~k))+M[0]+4096336452&4294967295,x=I+(C<<6&4294967295|C>>>26),C=k+(I^(x|~N))+M[7]+1126891415&4294967295,k=x+(C<<10&4294967295|C>>>22),C=N+(x^(k|~I))+M[14]+2878612391&4294967295,N=k+(C<<15&4294967295|C>>>17),C=I+(k^(N|~x))+M[5]+4237533241&4294967295,I=N+(C<<21&4294967295|C>>>11),C=x+(N^(I|~k))+M[12]+1700485571&4294967295,x=I+(C<<6&4294967295|C>>>26),C=k+(I^(x|~N))+M[3]+2399980690&4294967295,k=x+(C<<10&4294967295|C>>>22),C=N+(x^(k|~I))+M[10]+4293915773&4294967295,N=k+(C<<15&4294967295|C>>>17),C=I+(k^(N|~x))+M[1]+2240044497&4294967295,I=N+(C<<21&4294967295|C>>>11),C=x+(N^(I|~k))+M[8]+1873313359&4294967295,x=I+(C<<6&4294967295|C>>>26),C=k+(I^(x|~N))+M[15]+4264355552&4294967295,k=x+(C<<10&4294967295|C>>>22),C=N+(x^(k|~I))+M[6]+2734768916&4294967295,N=k+(C<<15&4294967295|C>>>17),C=I+(k^(N|~x))+M[13]+1309151649&4294967295,I=N+(C<<21&4294967295|C>>>11),C=x+(N^(I|~k))+M[4]+4149444226&4294967295,x=I+(C<<6&4294967295|C>>>26),C=k+(I^(x|~N))+M[11]+3174756917&4294967295,k=x+(C<<10&4294967295|C>>>22),C=N+(x^(k|~I))+M[2]+718787259&4294967295,N=k+(C<<15&4294967295|C>>>17),C=I+(k^(N|~x))+M[9]+3951481745&4294967295,O.g[0]=O.g[0]+x&4294967295,O.g[1]=O.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+k&4294967295}s.prototype.u=function(O,x){x===void 0&&(x=O.length);for(var I=x-this.blockSize,M=this.B,N=this.h,k=0;k<x;){if(N==0)for(;k<=I;)o(this,O,k),k+=this.blockSize;if(typeof O=="string"){for(;k<x;)if(M[N++]=O.charCodeAt(k++),N==this.blockSize){o(this,M),N=0;break}}else for(;k<x;)if(M[N++]=O[k++],N==this.blockSize){o(this,M),N=0;break}}this.h=N,this.o+=x},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var x=1;x<O.length-8;++x)O[x]=0;var I=8*this.o;for(x=O.length-8;x<O.length;++x)O[x]=I&255,I/=256;for(this.u(O),O=Array(16),x=I=0;4>x;++x)for(var M=0;32>M;M+=8)O[I++]=this.g[x]>>>M&255;return O};function u(O,x){var I=m;return Object.prototype.hasOwnProperty.call(I,O)?I[O]:I[O]=x(O)}function h(O,x){this.h=x;for(var I=[],M=!0,N=O.length-1;0<=N;N--){var k=O[N]|0;M&&k==x||(I[N]=k,M=!1)}this.g=I}var m={};function g(O){return-128<=O&&128>O?u(O,function(x){return new h([x|0],0>x?-1:0)}):new h([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return V(y(-O));for(var x=[],I=1,M=0;O>=I;M++)x[M]=O/I|0,I*=4294967296;return new h(x,0)}function b(O,x){if(O.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(O.charAt(0)=="-")return V(b(O.substring(1),x));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(x,8)),M=A,N=0;N<O.length;N+=8){var k=Math.min(8,O.length-N),C=parseInt(O.substring(N,N+k),x);8>k?(k=y(Math.pow(x,k)),M=M.j(k).add(y(C))):(M=M.j(I),M=M.add(y(C)))}return M}var A=g(0),T=g(1),P=g(16777216);i=h.prototype,i.m=function(){if(z(this))return-V(this).m();for(var O=0,x=1,I=0;I<this.g.length;I++){var M=this.i(I);O+=(0<=M?M:4294967296+M)*x,x*=4294967296}return O},i.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(R(this))return"0";if(z(this))return"-"+V(this).toString(O);for(var x=y(Math.pow(O,6)),I=this,M="";;){var N=oe(I,x).g;I=F(I,N.j(x));var k=((0<I.g.length?I.g[0]:I.h)>>>0).toString(O);if(I=N,R(I))return k+M;for(;6>k.length;)k="0"+k;M=k+M}},i.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function R(O){if(O.h!=0)return!1;for(var x=0;x<O.g.length;x++)if(O.g[x]!=0)return!1;return!0}function z(O){return O.h==-1}i.l=function(O){return O=F(this,O),z(O)?-1:R(O)?0:1};function V(O){for(var x=O.g.length,I=[],M=0;M<x;M++)I[M]=~O.g[M];return new h(I,~O.h).add(T)}i.abs=function(){return z(this)?V(this):this},i.add=function(O){for(var x=Math.max(this.g.length,O.g.length),I=[],M=0,N=0;N<=x;N++){var k=M+(this.i(N)&65535)+(O.i(N)&65535),C=(k>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);M=C>>>16,k&=65535,C&=65535,I[N]=C<<16|k}return new h(I,I[I.length-1]&-2147483648?-1:0)};function F(O,x){return O.add(V(x))}i.j=function(O){if(R(this)||R(O))return A;if(z(this))return z(O)?V(this).j(V(O)):V(V(this).j(O));if(z(O))return V(this.j(V(O)));if(0>this.l(P)&&0>O.l(P))return y(this.m()*O.m());for(var x=this.g.length+O.g.length,I=[],M=0;M<2*x;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var N=0;N<O.g.length;N++){var k=this.i(M)>>>16,C=this.i(M)&65535,be=O.i(N)>>>16,fe=O.i(N)&65535;I[2*M+2*N]+=C*fe,Y(I,2*M+2*N),I[2*M+2*N+1]+=k*fe,Y(I,2*M+2*N+1),I[2*M+2*N+1]+=C*be,Y(I,2*M+2*N+1),I[2*M+2*N+2]+=k*be,Y(I,2*M+2*N+2)}for(M=0;M<x;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=x;M<2*x;M++)I[M]=0;return new h(I,0)};function Y(O,x){for(;(O[x]&65535)!=O[x];)O[x+1]+=O[x]>>>16,O[x]&=65535,x++}function Z(O,x){this.g=O,this.h=x}function oe(O,x){if(R(x))throw Error("division by zero");if(R(O))return new Z(A,A);if(z(O))return x=oe(V(O),x),new Z(V(x.g),V(x.h));if(z(x))return x=oe(O,V(x)),new Z(V(x.g),x.h);if(30<O.g.length){if(z(O)||z(x))throw Error("slowDivide_ only works with positive integers.");for(var I=T,M=x;0>=M.l(O);)I=ue(I),M=ue(M);var N=ge(I,1),k=ge(M,1);for(M=ge(M,2),I=ge(I,2);!R(M);){var C=k.add(M);0>=C.l(O)&&(N=N.add(I),k=C),M=ge(M,1),I=ge(I,1)}return x=F(O,N.j(x)),new Z(N,x)}for(N=A;0<=O.l(x);){for(I=Math.max(1,Math.floor(O.m()/x.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),k=y(I),C=k.j(x);z(C)||0<C.l(O);)I-=M,k=y(I),C=k.j(x);R(k)&&(k=T),N=N.add(k),O=F(O,C)}return new Z(N,O)}i.A=function(O){return oe(this,O).h},i.and=function(O){for(var x=Math.max(this.g.length,O.g.length),I=[],M=0;M<x;M++)I[M]=this.i(M)&O.i(M);return new h(I,this.h&O.h)},i.or=function(O){for(var x=Math.max(this.g.length,O.g.length),I=[],M=0;M<x;M++)I[M]=this.i(M)|O.i(M);return new h(I,this.h|O.h)},i.xor=function(O){for(var x=Math.max(this.g.length,O.g.length),I=[],M=0;M<x;M++)I[M]=this.i(M)^O.i(M);return new h(I,this.h^O.h)};function ue(O){for(var x=O.g.length+1,I=[],M=0;M<x;M++)I[M]=O.i(M)<<1|O.i(M-1)>>>31;return new h(I,O.h)}function ge(O,x){var I=x>>5;x%=32;for(var M=O.g.length-I,N=[],k=0;k<M;k++)N[k]=0<x?O.i(k+I)>>>x|O.i(k+I+1)<<32-x:O.i(k+I);return new h(N,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,V1=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=b,os=h}).apply(typeof ub<"u"?ub:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U1,ru,L1,Dh,gp,z1,B1,q1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,v,_){return c==Array.prototype||c==Object.prototype||(c[v]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var v=0;v<c.length;++v){var _=c[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,v){if(v)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var q=c[S];if(!(q in _))break e;_=_[q]}c=c[c.length-1],S=_[c],v=v(S),v!=S&&v!=null&&e(_,c,{configurable:!0,writable:!0,value:v})}}function u(c,v){c instanceof String&&(c+="");var _=0,S=!1,q={next:function(){if(!S&&_<c.length){var X=_++;return{value:v(X,c[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(c){var v=typeof c;return v=v!="object"?v:c?Array.isArray(c)?"array":v:"null",v=="array"||v=="object"&&typeof c.length=="number"}function y(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function b(c,v,_){return c.call.apply(c.bind,arguments)}function A(c,v,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,S),c.apply(v,q)}}return function(){return c.apply(v,arguments)}}function T(c,v,_){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:A,T.apply(null,arguments)}function P(c,v){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function R(c,v){function _(){}_.prototype=v.prototype,c.aa=v.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,q,X){for(var le=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)le[Le-2]=arguments[Le];return v.prototype[q].apply(S,le)}}function z(c){const v=c.length;if(0<v){const _=Array(v);for(let S=0;S<v;S++)_[S]=c[S];return _}return[]}function V(c,v){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const q=c.length||0,X=S.length||0;c.length=q+X;for(let le=0;le<X;le++)c[q+le]=S[le]}else c.push(S)}}class F{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function Y(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ue=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ge(c,v,_){for(const S in c)v.call(_,c[S],S,c)}function O(c,v){for(const _ in c)v.call(void 0,c[_],_,c)}function x(c){const v={};for(const _ in c)v[_]=c[_];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,v){let _,S;for(let q=1;q<arguments.length;q++){S=arguments[q];for(_ in S)c[_]=S[_];for(let X=0;X<I.length;X++)_=I[X],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function N(c){var v=1;c=c.split(":");const _=[];for(;0<v&&c.length;)_.push(c.shift()),v--;return c.length&&_.push(c.join(":")),_}function k(c){m.setTimeout(()=>{throw c},0)}function C(){var c=we;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class be{constructor(){this.h=this.g=null}add(v,_){const S=fe.get();S.set(v,_),this.h?this.h.next=S:this.g=S,this.h=S}}var fe=new F(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ce=!1,we=new be,D=()=>{const c=m.Promise.resolve(void 0);se=()=>{c.then(W)}};var W=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){k(_)}var v=fe;v.j(c),100>v.h&&(v.h++,c.next=v.g,v.g=c)}ce=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,v),m.removeEventListener("test",_,v)}catch{}return c}();function Re(c,v){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget){if(ue){e:{try{oe(v.nodeName);var q=!0;break e}catch{}q=!1}q||(v=null)}}else _=="mouseover"?v=c.fromElement:_=="mouseout"&&(v=c.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ve[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}R(Re,J);var ve={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),He=0;function nt(c,v,_,S,q){this.listener=c,this.proxy=null,this.src=v,this.type=_,this.capture=!!S,this.ha=q,this.key=++He,this.da=this.fa=!1}function Cn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ji(c){this.src=c,this.g={},this.h=0}ji.prototype.add=function(c,v,_,S,q){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var le=ws(c,v,S,q);return-1<le?(v=c[le],_||(v.fa=!1)):(v=new nt(v,this.src,X,!!S,q),v.fa=_,c.push(v)),v};function Ts(c,v){var _=v.type;if(_ in c.g){var S=c.g[_],q=Array.prototype.indexOf.call(S,v,void 0),X;(X=0<=q)&&Array.prototype.splice.call(S,q,1),X&&(Cn(v),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ws(c,v,_,S){for(var q=0;q<c.length;++q){var X=c[q];if(!X.da&&X.listener==v&&X.capture==!!_&&X.ha==S)return q}return-1}var xs="closure_lm_"+(1e6*Math.random()|0),qo={};function Fu(c,v,_,S,q){if(Array.isArray(v)){for(var X=0;X<v.length;X++)Fu(c,v[X],_,S,q);return null}return _=Gu(_),c&&c[at]?c.K(v,_,y(S)?!!S.capture:!1,q):Dn(c,v,_,!1,S,q)}function Dn(c,v,_,S,q,X){if(!v)throw Error("Invalid event type");var le=y(q)?!!q.capture:!!q,Le=Sa(c);if(Le||(c[xs]=Le=new ji(c)),_=Le.add(v,_,S,le,X),_.proxy)return _;if(S=Cd(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)me||(q=le),q===void 0&&(q=!1),c.addEventListener(v.toString(),S,q);else if(c.attachEvent)c.attachEvent(As(v.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Cd(){function c(_){return v.call(c.src,c.listener,_)}const v=Dd;return c}function Ho(c,v,_,S,q){if(Array.isArray(v))for(var X=0;X<v.length;X++)Ho(c,v[X],_,S,q);else S=y(S)?!!S.capture:!!S,_=Gu(_),c&&c[at]?(c=c.i,v=String(v).toString(),v in c.g&&(X=c.g[v],_=ws(X,_,S,q),-1<_&&(Cn(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete c.g[v],c.h--)))):c&&(c=Sa(c))&&(v=c.g[v.toString()],c=-1,v&&(c=ws(v,_,S,q)),(_=-1<c?v[c]:null)&&Aa(_))}function Aa(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[at])Ts(v.i,c);else{var _=c.type,S=c.proxy;v.removeEventListener?v.removeEventListener(_,S,c.capture):v.detachEvent?v.detachEvent(As(_),S):v.addListener&&v.removeListener&&v.removeListener(S),(_=Sa(v))?(Ts(_,c),_.h==0&&(_.src=null,v[xs]=null)):Cn(c)}}}function As(c){return c in qo?qo[c]:qo[c]="on"+c}function Dd(c,v){if(c.da)c=!0;else{v=new Re(v,this);var _=c.listener,S=c.ha||c.src;c.fa&&Aa(c),c=_.call(S,v)}return c}function Sa(c){return c=c[xs],c instanceof ji?c:null}var Fo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gu(c){return typeof c=="function"?c:(c[Fo]||(c[Fo]=function(v){return c.handleEvent(v)}),c[Fo])}function ft(){ae.call(this),this.i=new ji(this),this.M=this,this.F=null}R(ft,ae),ft.prototype[at]=!0,ft.prototype.removeEventListener=function(c,v,_,S){Ho(this,c,v,_,S)};function Qe(c,v){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=v.type||v,typeof v=="string")v=new J(v,c);else if(v instanceof J)v.target=v.target||c;else{var q=v;v=new J(S,c),M(v,q)}if(q=!0,_)for(var X=_.length-1;0<=X;X--){var le=v.g=_[X];q=vn(le,S,!0,v)&&q}if(le=v.g=c,q=vn(le,S,!0,v)&&q,q=vn(le,S,!1,v)&&q,_)for(X=0;X<_.length;X++)le=v.g=_[X],q=vn(le,S,!1,v)&&q}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,v;for(v in c.g){for(var _=c.g[v],S=0;S<_.length;S++)Cn(_[S]);delete c.g[v],c.h--}}this.F=null},ft.prototype.K=function(c,v,_,S){return this.i.add(String(c),v,!1,_,S)},ft.prototype.L=function(c,v,_,S){return this.i.add(String(c),v,!0,_,S)};function vn(c,v,_,S){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();for(var q=!0,X=0;X<v.length;++X){var le=v[X];if(le&&!le.da&&le.capture==_){var Le=le.listener,Dt=le.ha||le.src;le.fa&&Ts(c.i,le),q=Le.call(Dt,S)!==!1&&q}}return q&&!S.defaultPrevented}function Wt(c,v,_){if(typeof c=="function")_&&(c=T(c,_));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(c,v||0)}function $u(c){c.g=Wt(()=>{c.g=null,c.i&&(c.i=!1,$u(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class kd extends ae{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:$u(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){ae.call(this),this.h=c,this.g={}}R(Ss,ae);var Rs=[];function Ns(c){ge(c.g,function(v,_){this.g.hasOwnProperty(_)&&Aa(v)},c),c.g={}}Ss.prototype.N=function(){Ss.aa.N.call(this),Ns(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qn=m.JSON.stringify,Ra=m.JSON.parse,Is=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Go(){}Go.prototype.h=null;function $o(c){return c.h||(c.h=c.i())}function Ko(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){J.call(this,"d")}R(Pi,J);function Qo(){J.call(this,"c")}R(Qo,J);var oi={},Yo=null;function xr(){return Yo=Yo||new ft}oi.La="serverreachability";function Na(c){J.call(this,oi.La,c)}R(Na,J);function Ar(c){const v=xr();Qe(v,new Na(v))}oi.STAT_EVENT="statevent";function Ku(c,v){J.call(this,oi.STAT_EVENT,c),this.stat=v}R(Ku,J);function ot(c){const v=xr();Qe(v,new Ku(v,c))}oi.Ma="timingevent";function Ct(c,v){J.call(this,oi.Ma,c),this.size=v}R(Ct,J);function wt(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},v)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function Xo(c,v,_,S,q,X){c.info(function(){if(c.g)if(X)for(var le="",Le=X.split("&"),Dt=0;Dt<Le.length;Dt++){var ze=Le[Dt].split("=");if(1<ze.length){var Vt=ze[0];ze=ze[1];var kt=Vt.split("_");le=2<=kt.length&&kt[1]=="type"?le+(Vt+"="+ze+"&"):le+(Vt+"=redacted&")}}else le=null;else le=X;return"XMLHTTP REQ ("+S+") [attempt "+q+"]: "+v+`
`+_+`
`+le})}function Od(c,v,_,S,q,X,le){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+q+"]: "+v+`
`+_+`
`+X+" "+le})}function Sr(c,v,_,S){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Cs(c,_)+(S?" "+S:"")})}function Qu(c,v){c.info(function(){return"TIMEOUT: "+v})}kn.prototype.info=function(){};function Cs(c,v){if(!c.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var q=S[1];if(Array.isArray(q)&&!(1>q.length)){var X=q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var le=1;le<q.length;le++)q[le]=""}}}}return Qn(_)}catch{return v}}var Rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},li;function ui(){}R(ui,Go),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},li=new ui;function sn(c,v,_,S){this.j=c,this.i=v,this.l=_,this.R=S||1,this.U=new Ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var Wo={},Ia={};function Yn(c,v,_){c.L=1,c.v=Ms(_n(v)),c.m=_,c.P=!0,Ui(c,null)}function Ui(c,v){c.F=Date.now(),Ds(c),c.A=_n(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),il(_.i,"t",S),c.C=0,_=c.j.J,c.h=new _t,c.g=cc(c.j,_?v:null,!c.m),0<c.O&&(c.M=new kd(T(c.Y,c,c.g),c.O)),v=c.U,_=c.g,S=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(Rs[0]=q.toString()),q=Rs);for(var X=0;X<q.length;X++){var le=Fu(_,q[X],S||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,v)):(c.u="GET",c.g.ea(c.A,c.u,null,v)),Ar(),Xo(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const v=this.M;v&&Pn(c)==3?v.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const kt=Pn(this.g);var v=this.g.Ba();const $i=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||kt!=4||v==7||(v==8||0>=$i?Ar(3):Ar(2)),Nr(this);var _=this.g.Z();this.X=_;t:if(Yu(this)){var S=nc(this.g);c="";var q=S.length,X=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),ci(this);var le="";break t}this.h.i=new m.TextDecoder}for(v=0;v<q;v++)this.h.h=!0,c+=this.h.i.decode(S[v],{stream:!(X&&v==q-1)});S.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,Od(this.i,this.u,this.A,this.l,this.R,kt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Dt=this.g;if((Le=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Le)){var ze=Le;break t}}ze=null}if(_=ze)Sr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ks(this,_);else{this.o=!1,this.s=3,ot(12),qt(this),ci(this);break e}}if(this.P){_=!0;let Ht;for(;!this.J&&this.C<le.length;)if(Ht=Xu(this,le),Ht==Ia){kt==4&&(this.s=4,ot(14),_=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Wo){this.s=4,ot(15),Sr(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else Sr(this.i,this.l,Ht,null),ks(this,Ht);if(Yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||le.length!=0||this.h.h||(this.s=1,ot(16),_=!1),this.o=this.o&&_,!_)Sr(this.i,this.l,le,"[Invalid Chunked Response]"),qt(this),ci(this);else if(0<le.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Hs(Vt),Vt.M=!0,ot(11))}}else Sr(this.i,this.l,le,null),ks(this,le);kt==4&&qt(this),this.o&&!this.J&&(kt==4?oc(this.j,this):(this.o=!1,Ds(this)))}else Ud(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),qt(this),ci(this)}}}catch{}finally{}};function Yu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Xu(c,v){var _=c.C,S=v.indexOf(`
`,_);return S==-1?Ia:(_=Number(v.substring(_,S)),isNaN(_)?Wo:(S+=1,S+_>v.length?Ia:(v=v.slice(S,S+_),c.C=S+_,v)))}sn.prototype.cancel=function(){this.J=!0,qt(this)};function Ds(c){c.S=Date.now()+c.I,Wu(c,c.I)}function Wu(c,v){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wt(T(c.ba,c),v)}function Nr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Qu(this.i,this.A),this.L!=2&&(Ar(),ot(17)),qt(this),this.s=2,ci(this)):Wu(this,this.S-c)};function ci(c){c.j.G==0||c.J||oc(c.j,c)}function qt(c){Nr(c);var v=c.M;v&&typeof v.ma=="function"&&v.ma(),c.M=null,Ns(c.U),c.g&&(v=c.g,c.g=null,v.abort(),v.ma())}function ks(c,v){try{var _=c.j;if(_.G!=0&&(_.g==c||Zo(_.h,c))){if(!c.K&&Zo(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var q=S;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ba(_),La(_);else break e;ll(_),ot(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=wt(T(_.Za,_),6e3));if(1>=Da(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Gi(_,11)}else if((c.K||_.g==c)&&Ba(_),!Y(v))for(q=_.Da.g.parse(v),v=0;v<q.length;v++){let ze=q[v];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const Vt=ze[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const kt=ze[4];kt!=null&&(_.Aa=kt,_.j.info("SVER="+_.Aa));const $i=ze[5];$i!=null&&typeof $i=="number"&&0<$i&&(S=1.5*$i,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Ht=c.g;if(Ht){const yi=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var X=S.h;X.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ka(X,X.h),X.h=null))}if(S.D){const cl=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;cl&&(S.ya=cl,We(S.I,S.D,cl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var le=c;if(S.qa=uc(S,S.J?S.ia:null,S.W),le.K){an(S.h,le);var Le=le,Dt=S.L;Dt&&(Le.I=Dt),Le.B&&(Nr(Le),Ds(Le)),S.g=le}else sc(S);0<_.i.length&&za(_)}else ze[0]!="stop"&&ze[0]!="close"||Gi(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Gi(_,7):al(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}Ar(4)}catch{}}var Zu=class{constructor(c,v){this.g=c,this.map=v}};function Li(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ca(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Da(c){return c.h?1:c.g?c.g.size:0}function Zo(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function ka(c,v){c.g?c.g.add(v):c.h=v}function an(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}Li.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const _ of c.g.values())v=v.concat(_.D);return v}return z(c.i)}function jd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var v=[],_=c.length,S=0;S<_;S++)v.push(c[S]);return v}v=[],_=0;for(S in c)v[_++]=c[S];return v}function Oa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var v=[];c=c.length;for(var _=0;_<c;_++)v.push(_);return v}v=[],_=0;for(const S in c)v[_++]=S;return v}}}function el(c,v){if(c.forEach&&typeof c.forEach=="function")c.forEach(v,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,v,void 0);else for(var _=Oa(c),S=jd(c),q=S.length,X=0;X<q;X++)v.call(void 0,S[X],_&&_[X],c)}var Os=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Md(c,v){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),q=null;if(0<=S){var X=c[_].substring(0,S);q=c[_].substring(S+1)}else X=c[_];v(X,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function xt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xt){this.h=c.h,js(this,c.j),this.o=c.o,this.g=c.g,Ir(this,c.s),this.l=c.l;var v=c.i,_=new Bi;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),zi(this,_),this.m=c.m}else c&&(v=String(c).match(Os))?(this.h=!1,js(this,v[1]||"",!0),this.o=On(v[2]||""),this.g=On(v[3]||"",!0),Ir(this,v[4]),this.l=On(v[5]||"",!0),zi(this,v[6]||"",!0),this.m=On(v[7]||"")):(this.h=!1,this.i=new Bi(null,this.h))}xt.prototype.toString=function(){var c=[],v=this.j;v&&c.push(Ps(v,tl,!0),":");var _=this.g;return(_||v=="file")&&(c.push("//"),(v=this.o)&&c.push(Ps(v,tl,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ps(_,_.charAt(0)=="/"?Pd:nl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ps(_,ja)),c.join("")};function _n(c){return new xt(c)}function js(c,v,_){c.j=_?On(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Ir(c,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);c.s=v}else c.s=null}function zi(c,v,_){v instanceof Bi?(c.i=v,ec(c.i,c.h)):(_||(v=Ps(v,Vd)),c.i=new Bi(v,c.h))}function We(c,v,_){c.i.set(v,_)}function Ms(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function On(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ps(c,v,_){return typeof c=="string"?(c=encodeURI(c).replace(v,Ju),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ju(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tl=/[#\/\?@]/g,nl=/[#\?:]/g,Pd=/[#\?]/g,Vd=/[#\?@]/g,ja=/#/g;function Bi(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function jn(c){c.g||(c.g=new Map,c.h=0,c.i&&Md(c.i,function(v,_){c.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=Bi.prototype,i.add=function(c,v){jn(this),this.i=null,c=hi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(v),this.h+=1,this};function qi(c,v){jn(c),v=hi(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Hi(c,v){return jn(c),v=hi(c,v),c.g.has(v)}i.forEach=function(c,v){jn(this),this.g.forEach(function(_,S){_.forEach(function(q){c.call(v,q,S,this)},this)},this)},i.na=function(){jn(this);const c=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let S=0;S<v.length;S++){const q=c[S];for(let X=0;X<q.length;X++)_.push(v[S])}return _},i.V=function(c){jn(this);let v=[];if(typeof c=="string")Hi(this,c)&&(v=v.concat(this.g.get(hi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)v=v.concat(c[_])}return v},i.set=function(c,v){return jn(this),this.i=null,c=hi(this,c),Hi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=this.V(c),0<c.length?String(c[0]):v):v};function il(c,v,_){qi(c,v),0<_.length&&(c.i=null,c.g.set(hi(c,v),z(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var S=v[_];const X=encodeURIComponent(String(S)),le=this.V(S);for(S=0;S<le.length;S++){var q=X;le[S]!==""&&(q+="="+encodeURIComponent(String(le[S]))),c.push(q)}}return this.i=c.join("&")};function hi(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function ec(c,v){v&&!c.j&&(jn(c),c.i=null,c.g.forEach(function(_,S){var q=S.toLowerCase();S!=q&&(qi(this,S),il(this,q,_))},c)),c.j=v}function Vs(c,v){const _=new kn;if(m.Image){const S=new Image;S.onload=P(Mn,_,"TestLoadImage: loaded",!0,v,S),S.onerror=P(Mn,_,"TestLoadImage: error",!1,v,S),S.onabort=P(Mn,_,"TestLoadImage: abort",!1,v,S),S.ontimeout=P(Mn,_,"TestLoadImage: timeout",!1,v,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else v(!1)}function Xn(c,v){const _=new kn,S=new AbortController,q=setTimeout(()=>{S.abort(),Mn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:S.signal}).then(X=>{clearTimeout(q),X.ok?Mn(_,"TestPingServer: ok",!0,v):Mn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Mn(_,"TestPingServer: error",!1,v)})}function Mn(c,v,_,S,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),S(_)}catch{}}function Us(){this.g=new Is}function di(c,v,_){const S=_||"";try{el(c,function(q,X){let le=q;y(q)&&(le=Qn(q)),v.push(S+X+"="+encodeURIComponent(le))})}catch(q){throw v.push(S+"type="+encodeURIComponent("_badmap")),q}}function Cr(c){this.l=c.Ub||null,this.j=c.eb||!1}R(Cr,Go),Cr.prototype.g=function(){return new Fi(this.l,this.j)},Cr.prototype.i=function(c){return function(){return c}}({});function Fi(c,v){ft.call(this),this.D=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Fi,ft),i=Fi.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=v,this.readyState=1,mi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(v.body=c),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rl(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rl(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?fi(this):mi(this),this.readyState==3&&rl(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,fi(this))},i.Qa=function(c){this.g&&(this.response=c,fi(this))},i.ga=function(){this.g&&fi(this)};function fi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mi(c)}i.setRequestHeader=function(c,v){this.u.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=v.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sl(c){let v="";return ge(c,function(_,S){v+=S,v+=":",v+=_,v+=`\r
`}),v}function Pt(c,v,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=sl(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):We(c,v,_))}function $e(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R($e,ft);var Ma=/^https?$/i,Ls=["POST","PUT"];i=$e.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,v,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():li.g(),this.v=this.o?$o(this.o):$o(li),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(X){tc(this,X);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var q in S)_.set(q,S[q]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())_.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),q=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ls,v,void 0))||S||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,le]of _)this.g.setRequestHeader(X,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zs(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){tc(this,X)}};function tc(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.m=5,Pa(c),pi(c)}function Pa(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),pi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),$e.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},i.bb=function(){Va(this)};function Va(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Wt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var S;if(S=le===0){var q=String(c.D).match(Os)[1]||null;!q&&m.self&&m.self.location&&(q=m.self.location.protocol.slice(0,-1)),S=!Ma.test(q?q.toLowerCase():"")}_=S}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var X=2<Pn(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",Pa(c)}}finally{pi(c)}}}}function pi(c,v){if(c.g){zs(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,v||Qe(c,"ready");try{_.onreadystatechange=S}catch{}}}function zs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Ra(v)}};function nc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ud(c){const v={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(Y(c[S]))continue;var _=N(c[S]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=v[q]||[];v[q]=X,X.push(_)}O(v,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(c,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||v}function Ua(c){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,c),this.cb=Bs("retryDelaySeedMs",1e4,c),this.Wa=Bs("forwardChannelMaxRetries",2,c),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Li(c&&c.concurrentRequestLimit),this.Da=new Us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ua.prototype,i.la=8,i.G=1,i.connect=function(c,v,_,S){ot(0),this.W=c,this.H=v||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=uc(this,null,this.W),za(this)};function al(c){if(ic(c),c.G==3){var v=c.U++,_=_n(c.I);if(We(_,"SID",c.K),We(_,"RID",v),We(_,"TYPE","terminate"),qs(c,_),v=new sn(c,c.j,v),v.L=2,v.v=Ms(_n(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=v.v,_=!0),_||(v.g=cc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Ds(v)}lc(c)}function La(c){c.g&&(Hs(c),c.g.cancel(),c.g=null)}function ic(c){La(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ba(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function za(c){if(!Ca(c.h)&&!c.s){c.s=!0;var v=c.Ga;se||D(),ce||(se(),ce=!0),we.add(v,c),c.B=0}}function Ld(c,v){return Da(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=v.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wt(T(c.Ga,c,v),ul(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new sn(this,this.j,c);let X=this.o;if(this.S&&(X?(X=x(X),M(X,this.S)):X=this.S),this.m!==null||this.O||(q.H=X,X=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=rc(this,q,v),_=_n(this.I),We(_,"RID",c),We(_,"CVER",22),this.D&&We(_,"X-HTTP-Session-Id",this.D),qs(this,_),X&&(this.O?v="headers="+encodeURIComponent(String(sl(X)))+"&"+v:this.m&&Pt(_,this.m,X)),ka(this.h,q),this.Ua&&We(_,"TYPE","init"),this.P?(We(_,"$req",v),We(_,"SID","null"),q.T=!0,Yn(q,_,null)):Yn(q,_,v),this.G=2}}else this.G==3&&(c?ol(this,c):this.i.length==0||Ca(this.h)||ol(this))};function ol(c,v){var _;v?_=v.l:_=c.U++;const S=_n(c.I);We(S,"SID",c.K),We(S,"RID",_),We(S,"AID",c.T),qs(c,S),c.m&&c.o&&Pt(S,c.m,c.o),_=new sn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),v&&(c.i=v.D.concat(c.i)),v=rc(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ka(c.h,_),Yn(_,S,v)}function qs(c,v){c.H&&ge(c.H,function(_,S){We(v,S,_)}),c.l&&el({},function(_,S){We(v,S,_)})}function rc(c,v,_){_=Math.min(c.i.length,_);var S=c.l?T(c.l.Na,c.l,c):null;e:{var q=c.i;let X=-1;for(;;){const le=["count="+_];X==-1?0<_?(X=q[0].g,le.push("ofs="+X)):X=0:le.push("ofs="+X);let Le=!0;for(let Dt=0;Dt<_;Dt++){let ze=q[Dt].g;const Vt=q[Dt].map;if(ze-=X,0>ze)X=Math.max(0,q[Dt].g-100),Le=!1;else try{di(Vt,le,"req"+ze+"_")}catch{S&&S(Vt)}}if(Le){S=le.join("&");break e}}}return c=c.i.splice(0,_),v.D=c,S}function sc(c){if(!c.g&&!c.u){c.Y=1;var v=c.Fa;se||D(),ce||(se(),ce=!0),we.add(v,c),c.v=0}}function ll(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wt(T(c.Fa,c),ul(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wt(T(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),La(this),ac(this))};function Hs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ac(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var v=_n(c.qa);We(v,"RID","rpc"),We(v,"SID",c.K),We(v,"AID",c.T),We(v,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(v,"TO",c.ja),We(v,"TYPE","xmlhttp"),qs(c,v),c.m&&c.o&&Pt(v,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ms(_n(v)),_.m=null,_.P=!0,Ui(_,c)}i.Za=function(){this.C!=null&&(this.C=null,La(this),ll(this),ot(19))};function Ba(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function oc(c,v){var _=null;if(c.g==v){Ba(c),Hs(c),c.g=null;var S=2}else if(Zo(c.h,v))_=v.D,an(c.h,v),S=1;else return;if(c.G!=0){if(v.o)if(S==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var q=c.B;S=xr(),Qe(S,new Ct(S,_)),za(c)}else sc(c);else if(q=v.s,q==3||q==0&&0<v.X||!(S==1&&Ld(c,v)||S==2&&ll(c)))switch(_&&0<_.length&&(v=c.h,v.i=v.i.concat(_)),q){case 1:Gi(c,5);break;case 4:Gi(c,10);break;case 3:Gi(c,6);break;default:Gi(c,2)}}}function ul(c,v){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*v}function Gi(c,v){if(c.j.info("Error code "+v),v==2){var _=T(c.fb,c),S=c.Xa;const q=!S;S=new xt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||js(S,"https"),Ms(S),q?Vs(S.toString(),_):Xn(S.toString(),_)}else ot(2);c.G=0,c.l&&c.l.sa(v),lc(c),ic(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function lc(c){if(c.G=0,c.ka=[],c.l){const v=Jo(c.h);(v.length!=0||c.i.length!=0)&&(V(c.ka,v),V(c.ka,c.i),c.h.i.length=0,z(c.i),c.i.length=0),c.l.ra()}}function uc(c,v,_){var S=_ instanceof xt?_n(_):new xt(_);if(S.g!="")v&&(S.g=v+"."+S.g),Ir(S,S.s);else{var q=m.location;S=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;var X=new xt(null);S&&js(X,S),v&&(X.g=v),q&&Ir(X,q),_&&(X.l=_),S=X}return _=c.D,v=c.ya,_&&v&&We(S,_,v),We(S,"VER",c.la),qs(c,S),S}function cc(c,v,_){if(v&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Ca&&!c.pa?new $e(new Cr({eb:_})):new $e(c.pa),v.Ha(c.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}i=hc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function qa(){}qa.prototype.g=function(c,v){return new on(c,v)};function on(c,v){ft.call(this),this.g=new Ua(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(c?c["X-WebChannel-Client-Profile"]=v.va:c={"X-WebChannel-Client-Profile":v.va}),this.g.S=c,(c=v&&v.Sb)&&!Y(c)&&(this.g.m=c),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!Y(v)&&(this.g.D=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new gi(this)}R(on,ft),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){al(this.g)},on.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Qn(c),c=_);v.i.push(new Zu(v.Ya++,c)),v.G==3&&za(v)},on.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,on.aa.N.call(this)};function dc(c){Pi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const _ in v){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}R(dc,Pi);function fc(){Qo.call(this),this.status=1}R(fc,Qo);function gi(c){this.g=c}R(gi,hc),gi.prototype.ua=function(){Qe(this.g,"a")},gi.prototype.ta=function(c){Qe(this.g,new dc(c))},gi.prototype.sa=function(c){Qe(this.g,new fc)},gi.prototype.ra=function(){Qe(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,q1=function(){return new qa},B1=function(){return xr()},z1=oi,gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Dh=Rr,Vi.COMPLETE="complete",L1=Vi,Ko.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",ft.prototype.listen=ft.prototype.K,ru=Ko,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,U1=$e}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const cb="@firebase/firestore",hb="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Xp("@firebase/firestore");function vo(){return ya.logLevel}function de(i,...e){if(ya.logLevel<=Ve.DEBUG){const t=e.map(cg);ya.debug(`Firestore (${Vo}): ${i}`,...t)}}function yr(i,...e){if(ya.logLevel<=Ve.ERROR){const t=e.map(cg);ya.error(`Firestore (${Vo}): ${i}`,...t)}}function cs(i,...e){if(ya.logLevel<=Ve.WARN){const t=e.map(cg);ya.warn(`Firestore (${Vo}): ${i}`,...t)}}function cg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,H1(i,s,t)}function H1(i,e,t){let s=`FIRESTORE (${Vo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw yr(s),new Error(s)}function Ke(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||H1(e,o,s)}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends ki{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(tn.UNAUTHENTICATED))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WC{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,t(g)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new F1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class ZC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class JC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new ZC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(tn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class db{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class e4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new db(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new db(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=t4(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Oe(i,e){return i<e?-1:i>e?1:0}function yp(i,e){let t=0;for(;t<i.length&&t<e.length;){const s=i.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Oe(s,o);{const u=G1(),h=n4(u.encode(fb(i,t)),u.encode(fb(e,t)));return h!==0?h:Oe(s,o)}}t+=s>65535?2:1}return Oe(i.length,e.length)}function fb(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function n4(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return Oe(i[t],e[t]);return Oe(i.length,e.length)}function No(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="__name__";class wi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return wi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wi?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=wi.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Oe(e.length,t.length)}static compareSegments(e,t){const s=wi.isNumericId(e),o=wi.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?wi.extractNumericId(e).compare(wi.extractNumericId(t)):yp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class rt extends wi{construct(e,t,s){return new rt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new rt(t)}static emptyPath(){return new rt([])}}const i4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends wi{construct(e,t,s){return new Yt(e,t,s)}static isValidIdentifier(e){return i4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mb}static keyField(){return new Yt([mb])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new he(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(t)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(i,e,t){if(!t)throw new he(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function r4(i,e,t,s){if(e===!0&&s===!0)throw new he(ne.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function pb(i){if(!_e.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function gb(i){if(_e.isDocumentKey(i))throw new he(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function K1(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function hd(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=hd(i);throw new he(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i,e){const t={typeString:i};return e&&(t.value=e),t}function Vu(i,e){if(!K1(i))throw new he(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new he(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=-62135596800,vb=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*vb);return new st(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<yb)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vb}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-yb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:It("string",st._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{static fromTimestamp(e){return new Ne(e)}static min(){return new Ne(new st(0,0))}static max(){return new Ne(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=-1;function s4(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ne.fromTimestamp(s===1e9?new st(t+1,0):new st(t,s));return new hs(o,_e.empty(),e)}function a4(i){return new hs(i.readTime,i.key,_u)}class hs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new hs(Ne.min(),_e.empty(),_u)}static max(){return new hs(Ne.max(),_e.empty(),_u)}}function o4(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(i.documentKey,e.documentKey),t!==0?t:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class u4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uo(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==l4)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,s)=>{t(e)})}static reject(e){return new re((t,s)=>{s(e)})}static waitFor(e){return new re((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},g=>s(g))}),h=!0,u===o&&t()})}static or(e){let t=re.resolve(!1);for(const s of e)t=t.next(o=>o?re.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new re((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;t(e[y]).next(b=>{h[y]=b,++m,m===u&&s(h)},b=>o(b))}})}static doWhile(e,t){return new re((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function c4(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Lo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}dd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg=-1;function fd(i){return i==null}function Qh(i){return i===0&&1/i==-1/0}function h4(i){return typeof i=="number"&&Number.isInteger(i)&&!Qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="";function d4(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=_b(e)),e=f4(i.get(t),e);return _b(e)}function f4(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case Q1:t+="";break;default:t+=u}}return t}function _b(i){return i+Q1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function _s(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Y1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Qt.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Qt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Qt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Eb(this.data.getIterator())}getIteratorFrom(e){return new Eb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mt(this.comparator);return t.data=e,t}}class Eb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Rn([])}unionWith(e){let t=new Mt(Yt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Rn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return No(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new X1("Invalid base64 string: "+u):u}}(e);return new Xt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Xt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const m4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const t=m4.exec(i);if(Ke(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Tt(i.seconds),nanos:Tt(i.nanos)}}function Tt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function fs(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="server_timestamp",Z1="__type__",J1="__previous_value__",eT="__local_write_time__";function fg(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Z1])===null||t===void 0?void 0:t.stringValue)===W1}function md(i){const e=i.mapValue.fields[J1];return fg(e)?md(e):e}function bu(i){const e=ds(i.mapValue.fields[eT].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,t,s,o,u,h,m,g,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const Yh="(default)";class Eu{constructor(e,t){this.projectId=e,this.database=t||Yh}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__type__",g4="__max__",vh={mapValue:{}},nT="__vector__",Xh="value";function ms(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?fg(i)?4:v4(i)?9007199254740991:y4(i)?10:11:Ae(28295,{value:i})}function Di(i,e){if(i===e)return!0;const t=ms(i);if(t!==ms(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return bu(i).isEqual(bu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ds(o.timestampValue),m=ds(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Tt(o.geoPointValue.latitude)===Tt(u.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Tt(o.integerValue)===Tt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Tt(o.doubleValue),m=Tt(u.doubleValue);return h===m?Qh(h)===Qh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return No(i.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(bb(h)!==bb(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Di(h[g],m[g])))return!1;return!0}(i,e);default:return Ae(52216,{left:i})}}function Tu(i,e){return(i.values||[]).find(t=>Di(t,e))!==void 0}function Io(i,e){if(i===e)return 0;const t=ms(i),s=ms(e);if(t!==s)return Oe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=Tt(u.integerValue||u.doubleValue),g=Tt(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return Tb(i.timestampValue,e.timestampValue);case 4:return Tb(bu(i),bu(e));case 5:return yp(i.stringValue,e.stringValue);case 6:return function(u,h){const m=fs(u),g=fs(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=Oe(m[y],g[y]);if(b!==0)return b}return Oe(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Oe(Tt(u.latitude),Tt(h.latitude));return m!==0?m:Oe(Tt(u.longitude),Tt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return wb(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,y,b;const A=u.fields||{},T=h.fields||{},P=(m=A[Xh])===null||m===void 0?void 0:m.arrayValue,R=(g=T[Xh])===null||g===void 0?void 0:g.arrayValue,z=Oe(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((b=R==null?void 0:R.values)===null||b===void 0?void 0:b.length)||0);return z!==0?z:wb(P,R)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===vh.mapValue&&h===vh.mapValue)return 0;if(u===vh.mapValue)return 1;if(h===vh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=h.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const T=yp(g[A],b[A]);if(T!==0)return T;const P=Io(m[g[A]],y[b[A]]);if(P!==0)return P}return Oe(g.length,b.length)}(i.mapValue,e.mapValue);default:throw Ae(23264,{le:t})}}function Tb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const t=ds(i),s=ds(e),o=Oe(t.seconds,s.seconds);return o!==0?o:Oe(t.nanos,s.nanos)}function wb(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Io(t[o],s[o]);if(u)return u}return Oe(t.length,s.length)}function Co(i){return vp(i)}function vp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ds(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return fs(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return _e.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=vp(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${vp(t.fields[h])}`;return o+"}"}(i.mapValue):Ae(61005,{value:i})}function kh(i){switch(ms(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=md(i);return e?16+kh(e):16;case 5:return 2*i.stringValue.length;case 6:return fs(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+kh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return _s(s.fields,(u,h)=>{o+=u.length+kh(h)}),o}(i.mapValue);default:throw Ae(13486,{value:i})}}function xb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function _p(i){return!!i&&"integerValue"in i}function mg(i){return!!i&&"arrayValue"in i}function Ab(i){return!!i&&"nullValue"in i}function Sb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Oh(i){return!!i&&"mapValue"in i}function y4(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[tT])===null||t===void 0?void 0:t.stringValue)===nT}function hu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return _s(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=hu(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function v4(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===g4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Oh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hu(t)}setAll(e){let t=Yt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=hu(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());Oh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];Oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){_s(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new gn(hu(this.value))}}function iT(i){const e=[];return _s(i.fields,(t,s)=>{const o=new Yt([t]);if(Oh(s)){const u=iT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Ne.min(),Ne.min(),Ne.min(),gn.empty(),0)}static newFoundDocument(e,t,s,o){return new nn(e,1,t,Ne.min(),s,o,0)}static newNoDocument(e,t){return new nn(e,2,t,Ne.min(),Ne.min(),gn.empty(),0)}static newUnknownDocument(e,t){return new nn(e,3,t,Ne.min(),Ne.min(),gn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.position=e,this.inclusive=t}}function Rb(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),t.key):s=Io(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Nb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Di(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function _4(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{}class Nt extends rT{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new E4(e,t,s):t==="array-contains"?new x4(e,s):t==="in"?new A4(e,s):t==="not-in"?new S4(e,s):t==="array-contains-any"?new R4(e,s):new Nt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new T4(e,s):new w4(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Io(t,this.value)):t!==null&&ms(this.value)===ms(t)&&this.matchesComparison(Io(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends rT{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new ri(e,t)}matches(e){return sT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function sT(i){return i.op==="and"}function aT(i){return b4(i)&&sT(i)}function b4(i){for(const e of i.filters)if(e instanceof ri)return!1;return!0}function bp(i){if(i instanceof Nt)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(aT(i))return i.filters.map(e=>bp(e)).join(",");{const e=i.filters.map(t=>bp(t)).join(",");return`${i.op}(${e})`}}function oT(i,e){return i instanceof Nt?function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)}(i,e):i instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&oT(h,o.filters[m]),!0):!1}(i,e):void Ae(19439)}function lT(i){return i instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`}(i):i instanceof ri?function(t){return t.op.toString()+" {"+t.getFilters().map(lT).join(" ,")+"}"}(i):"Filter"}class E4 extends Nt{constructor(e,t,s){super(e,t,s),this.key=_e.fromName(s.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class T4 extends Nt{constructor(e,t){super(e,"in",t),this.keys=uT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class w4 extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=uT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function uT(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>_e.fromName(s.referenceValue))}class x4 extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mg(t)&&Tu(t.arrayValue,this.value)}}class A4 extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tu(this.value.arrayValue,t)}}class S4 extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tu(this.value.arrayValue,t)}}class R4 extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Tu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function Ib(i,e=null,t=[],s=[],o=null,u=null,h=null){return new N4(i,e,t,s,o,u,h)}function pg(i){const e=Ie(i);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>bp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),fd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Co(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Co(s)).join(",")),e.Pe=t}return e.Pe}function gg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!_4(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!oT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Nb(i.startAt,e.startAt)&&Nb(i.endAt,e.endAt)}function Ep(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function I4(i,e,t,s,o,u,h,m){return new zo(i,e,t,s,o,u,h,m)}function pd(i){return new zo(i)}function Cb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function cT(i){return i.collectionGroup!==null}function du(i){const e=Ie(i);if(e.Te===null){e.Te=[];const t=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Mt(Yt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Te.push(new wu(u,s))}),t.has(Yt.keyField().canonicalString())||e.Te.push(new wu(Yt.keyField(),s))}return e.Te}function Ri(i){const e=Ie(i);return e.Ie||(e.Ie=C4(e,du(i))),e.Ie}function C4(i,e){if(i.limitType==="F")return Ib(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new wu(o.field,u)});const t=i.endAt?new Wh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Wh(i.startAt.position,i.startAt.inclusive):null;return Ib(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Tp(i,e){const t=i.filters.concat([e]);return new zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function wp(i,e,t){return new zo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function gd(i,e){return gg(Ri(i),Ri(e))&&i.limitType===e.limitType}function hT(i){return`${pg(Ri(i))}|lt:${i.limitType}`}function _o(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>lT(o)).join(", ")}]`),fd(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Co(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Co(o)).join(",")),`Target(${s})`}(Ri(i))}; limitType=${i.limitType})`}function yd(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of du(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,g){const y=Rb(h,m,g);return h.inclusive?y<=0:y<0}(s.startAt,du(s),o)||s.endAt&&!function(h,m,g){const y=Rb(h,m,g);return h.inclusive?y>=0:y>0}(s.endAt,du(s),o))}(i,e)}function D4(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function dT(i){return(e,t)=>{let s=!1;for(const o of du(i)){const u=k4(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function k4(i,e,t){const s=i.field.isKeyField()?_e.comparator(e.key,t.key):function(u,h,m){const g=h.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Io(g,y):Ae(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Y1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=new dt(_e.comparator);function vr(){return O4}const fT=new dt(_e.comparator);function su(...i){let e=fT;for(const t of i)e=e.insert(t.key,t);return e}function mT(i){let e=fT;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ua(){return fu()}function pT(){return fu()}function fu(){return new wa(i=>i.toString(),(i,e)=>i.isEqual(e))}const j4=new dt(_e.comparator),M4=new Mt(_e.comparator);function Ue(...i){let e=M4;for(const t of i)e=e.add(t);return e}const P4=new Mt(Oe);function V4(){return P4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function gT(i){return{integerValue:""+i}}function yT(i,e){return h4(e)?gT(e):yg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(){this._=void 0}}function U4(i,e,t){return i instanceof xu?function(o,u){const h={fields:{[Z1]:{stringValue:W1},[eT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&fg(u)&&(u=md(u)),u&&(h.fields[J1]=u),{mapValue:h}}(t,e):i instanceof Au?_T(i,e):i instanceof Su?bT(i,e):function(o,u){const h=vT(o,u),m=Db(h)+Db(o.Ee);return _p(h)&&_p(o.Ee)?gT(m):yg(o.serializer,m)}(i,e)}function L4(i,e,t){return i instanceof Au?_T(i,e):i instanceof Su?bT(i,e):t}function vT(i,e){return i instanceof Ru?function(s){return _p(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class xu extends vd{}class Au extends vd{constructor(e){super(),this.elements=e}}function _T(i,e){const t=ET(e);for(const s of i.elements)t.some(o=>Di(o,s))||t.push(s);return{arrayValue:{values:t}}}class Su extends vd{constructor(e){super(),this.elements=e}}function bT(i,e){let t=ET(e);for(const s of i.elements)t=t.filter(o=>!Di(o,s));return{arrayValue:{values:t}}}class Ru extends vd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function Db(i){return Tt(i.integerValue||i.doubleValue)}function ET(i){return mg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,t){this.field=e,this.transform=t}}function z4(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Au&&o instanceof Au||s instanceof Su&&o instanceof Su?No(s.elements,o.elements,Di):s instanceof Ru&&o instanceof Ru?Di(s.Ee,o.Ee):s instanceof xu&&o instanceof xu}(i.transform,e.transform)}class B4{constructor(e,t){this.version=e,this.transformResults=t}}class Gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class _d{}function wT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new vg(i.key,Gn.none()):new Uu(i.key,i.data,Gn.none());{const t=i.data,s=gn.empty();let o=new Mt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new bs(i.key,s,new Rn(o.toArray()),Gn.none())}}function q4(i,e,t){i instanceof Uu?function(o,u,h){const m=o.value.clone(),g=Ob(o.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof bs?function(o,u,h){if(!jh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Ob(o.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(xT(o)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function mu(i,e,t,s){return i instanceof Uu?function(u,h,m,g){if(!jh(u.precondition,h))return m;const y=u.value.clone(),b=jb(u.fieldTransforms,g,h);return y.setAll(b),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(i,e,t,s):i instanceof bs?function(u,h,m,g){if(!jh(u.precondition,h))return m;const y=jb(u.fieldTransforms,g,h),b=h.data;return b.setAll(xT(u)),b.setAll(y),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,s):function(u,h,m){return jh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function H4(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=vT(s.transform,o||null);u!=null&&(t===null&&(t=gn.empty()),t.set(s.field,u))}return t||null}function kb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&No(s,o,(u,h)=>z4(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Uu extends _d{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends _d{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xT(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Ob(i,e,t){const s=new Map;Ke(i.length===t.length,32656,{Ae:t.length,Re:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,L4(h,m,t[o]))}return s}function jb(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,U4(u,h,e))}return s}class vg extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F4 extends _d{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&q4(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=mu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=mu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=pT();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const g=wT(h,m);g!==null&&s.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(Ne.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&No(this.mutations,e.mutations,(t,s)=>kb(t,s))&&No(this.baseMutations,e.baseMutations,(t,s)=>kb(t,s))}}class _g{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ke(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return j4}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new _g(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt,qe;function Q4(i){switch(i){case ne.OK:return Ae(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function AT(i){if(i===void 0)return yr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Rt.OK:return ne.OK;case Rt.CANCELLED:return ne.CANCELLED;case Rt.UNKNOWN:return ne.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return ne.INTERNAL;case Rt.UNAVAILABLE:return ne.UNAVAILABLE;case Rt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Rt.NOT_FOUND:return ne.NOT_FOUND;case Rt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Rt.ABORTED:return ne.ABORTED;case Rt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Rt.DATA_LOSS:return ne.DATA_LOSS;default:return Ae(39323,{code:i})}}(qe=Rt||(Rt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new os([4294967295,4294967295],0);function Mb(i){const e=G1().encode(i),t=new V1;return t.update(e),new Uint8Array(t.digest())}function Pb(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([t,s],0),new os([o,u],0)]}class bg{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new au(`Invalid padding: ${t}`);if(s<0)throw new au(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new au(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new au(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=os.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(os.fromNumber(s)));return o.compare(Y4)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=Mb(e),[s,o]=Pb(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new bg(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const t=Mb(e),[s,o]=Pb(t);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class au extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new bd(Ne.min(),o,new dt(Oe),vr(),Ue())}}class Lu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Lu(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class ST{constructor(e,t){this.targetId=e,this.De=t}}class RT{constructor(e,t,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Vb{constructor(){this.ve=0,this.Ce=Ub(),this.Fe=Xt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ue(),t=Ue(),s=Ue();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}}),new Lu(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=Ub()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class X4{constructor(e){this.We=e,this.Ge=new Map,this.ze=vr(),this.je=_h(),this.Je=_h(),this.He=new dt(Oe)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((s,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const u=o.target;if(Ep(u))if(s===0){const h=new _e(u.path);this.Xe(t,h,nn.newNoDocument(h,Ne.min()))}else Ke(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const m=this._t(e),g=m?this.ut(m,e,h):1;if(g!==0){this.rt(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=fs(s).toUint8Array()}catch(g){if(g instanceof X1)return cs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new bg(h,o,u)}catch(g){return cs(g instanceof au?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.fe===0?null:m}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(t,u,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&Ep(m.target)){const g=new _e(m.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,nn.newNoDocument(g,e))}u.Ne&&(t.set(h,u.Le()),u.ke())}});let s=Ue();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const y=this.st(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new bd(e,t,this.He,this.ze,s);return this.ze=vr(),this.je=_h(),this.Je=_h(),this.He=new dt(Oe),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Vb,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Mt(Oe),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Mt(Oe),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Vb),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function _h(){return new dt(_e.comparator)}function Ub(){return new dt(_e.comparator)}const W4={asc:"ASCENDING",desc:"DESCENDING"},Z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},J4={and:"AND",or:"OR"};class eD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xp(i,e){return i.useProto3Json||fd(e)?e:{value:e}}function Zh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function tD(i,e){return Zh(i,e.toTimestamp())}function Ni(i){return Ke(!!i,49232),Ne.fromTimestamp(function(t){const s=ds(t);return new st(s.seconds,s.nanos)}(i))}function Eg(i,e){return Ap(i,e).canonicalString()}function Ap(i,e){const t=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function IT(i){const e=rt.fromString(i);return Ke(jT(e),10190,{key:e.toString()}),e}function Sp(i,e){return Eg(i.databaseId,e.path)}function Km(i,e){const t=IT(e);if(t.get(1)!==i.databaseId.projectId)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new _e(DT(t))}function CT(i,e){return Eg(i.databaseId,e)}function nD(i){const e=IT(i);return e.length===4?rt.emptyPath():DT(e)}function Rp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function DT(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Lb(i,e,t){return{name:Sp(i,e),fields:t.value.mapValue.fields}}function iD(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,b){return y.useProto3Json?(Ke(b===void 0||typeof b=="string",58123),Xt.fromBase64String(b||"")):(Ke(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Xt.fromUint8Array(b||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(y){const b=y.code===void 0?ne.UNKNOWN:AT(y.code);return new he(b,y.message||"")}(h);t=new RT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Km(i,s.document.name),u=Ni(s.document.updateTime),h=s.document.createTime?Ni(s.document.createTime):Ne.min(),m=new gn({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,u,h,m),y=s.targetIds||[],b=s.removedTargetIds||[];t=new Mh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Km(i,s.document),u=s.readTime?Ni(s.readTime):Ne.min(),h=nn.newNoDocument(o,u),m=s.removedTargetIds||[];t=new Mh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Km(i,s.document),u=s.removedTargetIds||[];t=new Mh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new K4(o,u),m=s.targetId;t=new ST(m,h)}}return t}function rD(i,e){let t;if(e instanceof Uu)t={update:Lb(i,e.key,e.value)};else if(e instanceof vg)t={delete:Sp(i,e.key)};else if(e instanceof bs)t={update:Lb(i,e.key,e.data),updateMask:fD(e.fieldMask)};else{if(!(e instanceof F4))return Ae(16599,{Rt:e.type});t={verify:Sp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof xu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Au)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Su)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ru)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Ae(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:tD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)}(i,e.precondition)),t}function sD(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?Ni(o.updateTime):Ni(u);return h.isEqual(Ne.min())&&(h=Ni(u)),new B4(h,o.transformResults||[])}(t,e))):[]}function aD(i,e){return{documents:[CT(i,e.path)]}}function oD(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=CT(i,o);const u=function(y){if(y.length!==0)return OT(ri.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(y){if(y.length!==0)return y.map(b=>function(T){return{field:bo(T.field),direction:cD(T.dir)}}(b))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=xp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:t,parent:o}}function lD(i){let e=nD(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];t.where&&(u=function(A){const T=kT(A);return T instanceof ri&&aT(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(T=>function(R){return new wu(Eo(R.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(T))}(t.orderBy));let m=null;t.limit&&(m=function(A){let T;return T=typeof A=="object"?A.value:A,fd(T)?null:T}(t.limit));let g=null;t.startAt&&(g=function(A){const T=!!A.before,P=A.values||[];return new Wh(P,T)}(t.startAt));let y=null;return t.endAt&&(y=function(A){const T=!A.before,P=A.values||[];return new Wh(P,T)}(t.endAt)),I4(e,o,h,u,m,"F",g,y)}function uD(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kT(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Eo(t.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(t.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Eo(t.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Eo(t.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}}(i):i.fieldFilter!==void 0?function(t){return Nt.create(Eo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ri.create(t.compositeFilter.filters.map(s=>kT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}}(t.compositeFilter.op))}(i):Ae(30097,{filter:i})}function cD(i){return W4[i]}function hD(i){return Z4[i]}function dD(i){return J4[i]}function bo(i){return{fieldPath:i.canonicalString()}}function Eo(i){return Yt.fromServerFormat(i.fieldPath)}function OT(i){return i instanceof Nt?function(t){if(t.op==="=="){if(Sb(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(Ab(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Sb(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(Ab(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:hD(t.op),value:t.value}}}(i):i instanceof ri?function(t){const s=t.getFilters().map(o=>OT(o));return s.length===1?s[0]:{compositeFilter:{op:dD(t.op),filters:s}}}(i):Ae(54877,{filter:i})}function fD(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jT(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,t,s,o,u=Ne.min(),h=Ne.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.gt=e}}function pD(i){const e=lD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?wp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(){this.Dn=new yD}addToCollectionParentIndex(e,t){return this.Dn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(hs.min())}updateCollectionGroup(e,t,s){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class yD{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Mt(rt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},MT=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(MT,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Do(0)}static ur(){return new Do(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="LruGarbageCollector",vD=1048576;function qb([i,e],[t,s]){const o=Oe(i,t);return o===0?Oe(e,s):o}class _D{constructor(e){this.Tr=e,this.buffer=new Mt(qb),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();qb(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class bD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){de(Bb,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Lo(t)?de(Bb,"Ignoring IndexedDB error during garbage collection: ",t):await Uo(t)}await this.Rr(3e5)})}}class ED{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return re.resolve(dd.ue);const s=new _D(t);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(zb)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zb):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,u,h,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(y=Date.now(),vo()<=Ve.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function TD(i,e){return new ED(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.changes=new wa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?re.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&mu(s.mutation,o,Rn.empty(),st.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=ua();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=su();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ua();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=vr();const h=fu(),m=function(){return fu()}();return t.forEach((g,y)=>{const b=s.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof bs)?u=u.insert(y.key,y):b!==void 0?(h.set(y.key,b.mutation.getFieldMask()),mu(b.mutation,y,b.mutation.getFieldMask(),st.now())):h.set(y.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,b)=>h.set(y,b)),t.forEach((y,b)=>{var A;return m.set(y,new xD(b,(A=h.get(y))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const s=fu();let o=new dt((h,m)=>h-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let b=s.get(g)||Rn.empty();b=m.applyToLocalView(y,b),s.set(g,b);const A=(o.get(m.batchId)||Ue()).add(g);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,A=pT();b.forEach(T=>{if(!u.has(T)){const P=wT(t.get(T),s.get(T));P!==null&&A.set(T,P),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,A))}return re.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):re.resolve(ua());let m=_u,g=u;return h.next(y=>re.forEach(y,(b,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(b)?re.resolve():this.remoteDocumentCache.getEntry(e,b).next(T=>{g=g.insert(b,T)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Ue())).next(b=>({batchId:m,changes:mT(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(s=>{let o=su();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=su();return this.indexManager.getCollectionParents(e,u).next(m=>re.forEach(m,g=>{const y=function(A,T){return new zo(T,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(b=>{b.forEach((A,T)=>{h=h.insert(A,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((g,y)=>{const b=y.getKey();h.get(b)===null&&(h=h.insert(b,nn.newInvalidDocument(b)))});let m=su();return h.forEach((g,y)=>{const b=u.get(g);b!==void 0&&mu(b.mutation,y,Rn.empty(),st.now()),yd(t,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return re.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:pD(o.bundledQuery),readTime:Ni(o.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.overlays=new dt(_e.comparator),this.kr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ua();return re.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.wt(e,t,u)}),re.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),re.resolve()}getOverlaysForCollection(e,t,s){const o=ua(),u=t.length+1,h=new _e(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new dt((y,b)=>y-b);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=ua(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=ua(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,b)=>m.set(y,b)),!(m.size()>=o)););return re.resolve(m)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new $4(t,s));let u=this.kr.get(t);u===void 0&&(u=Ue(),this.kr.set(t,u)),this.kr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.qr=new Mt(Bt.Qr),this.$r=new Mt(Bt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Bt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Wr(new Bt(e,t))}Gr(e,t){e.forEach(s=>this.removeReference(s,t))}zr(e){const t=new _e(new rt([])),s=new Bt(t,e),o=new Bt(t,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new _e(new rt([])),s=new Bt(t,e),o=new Bt(t,e+1);let u=Ue();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Bt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return _e.comparator(e.key,t.key)||Oe(e.Hr,t.Hr)}static Ur(e,t){return Oe(e.Hr,t.Hr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Mt(Bt.Qr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new G4(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return re.resolve(h)}lookupMutationBatch(e,t){return re.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?dg:this.er-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Bt(t,0),o=new Bt(t,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Mt(Oe);return t.forEach(o=>{const u=new Bt(o,0),h=new Bt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),re.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const h=new Bt(new _e(u),0);let m=new Mt(Oe);return this.Yr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)},h),re.resolve(this.ei(m))}ei(e){const t=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return re.forEach(t.mutations,o=>{const u=new Bt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,t){const s=new Bt(t,0),o=this.Yr.firstAfterOrEqual(s);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.ni=e,this.docs=function(){return new dt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return re.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(t))}getEntries(e,t){let s=vr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))}),re.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=vr();const h=t.path,m=new _e(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||o4(a4(b),s)<=0||(o.has(b.key)||yd(t,b))&&(u=u.insert(b.key,b.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ae(9500)}ri(e,t){return re.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new DD(this)}getSize(e){return re.resolve(this.size)}}class DD extends wD{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),re.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.persistence=e,this.ii=new wa(t=>pg(t),gg),this.lastRemoteSnapshotVersion=Ne.min(),this.highestTargetId=0,this.si=0,this.oi=new Tg,this.targetCount=0,this._i=Do.ar()}forEachTarget(e,t){return this.ii.forEach((s,o)=>t(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),re.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Do(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.hr(t),re.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),re.waitFor(u).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return re.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),re.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return re.resolve(s)}containsKey(e,t){return re.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t){this.ai={},this.overlays={},this.ui=new dd(0),this.ci=!1,this.ci=!0,this.li=new ND,this.referenceDelegate=e(this),this.hi=new kD(this),this.indexManager=new gD,this.remoteDocumentCache=function(o){return new CD(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new mD(t),this.Ti=new SD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new ID(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new OD(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,t){return re.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,t)))}}class OD extends u4{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Ai=new Tg,this.Ri=null}static Vi(e){return new wg(e)}get mi(){if(this.Ri)return this.Ri;throw Ae(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),re.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.mi,s=>{const o=_e.fromPath(s);return this.fi(e,o).next(u=>{u||t.removeEntry(o,Ne.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return re.or([()=>re.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Jh{constructor(e,t){this.persistence=e,this.gi=new wa(s=>d4(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=TD(this,t)}static Vi(e,t){return new Jh(e,t)}Ii(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}yr(e){let t=0;return this.gr(e,s=>{t++}).next(()=>t)}gr(e,t){return re.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?re.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Ne.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),re.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=kh(e.data.value)),t}Sr(e,t,s){return re.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Ue(),o=Ue();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return cR()?8:c4(rn())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ps(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new jD;return this.ws(e,t,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,t,h,m.size)})}).next(()=>u.result)}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(vo()<=Ve.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",_o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),re.resolve()):(vo()<=Ve.DEBUG&&de("QueryEngine","Query:",_o(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(vo()<=Ve.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",_o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(t))):re.resolve())}ps(e,t){if(Cb(t))return re.resolve(null);let s=Ri(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=wp(t,null,"F"),s=Ri(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ue(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.bs(t,m);return this.Ds(t,y,h,g.readTime)?this.ps(e,wp(t,null,"F")):this.vs(e,y,t,g)}))})))}ys(e,t,s,o){return Cb(t)||o.isEqual(Ne.min())?re.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(t,u);return this.Ds(t,h,s,o)?re.resolve(null):(vo()<=Ve.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_o(t)),this.vs(e,h,t,s4(o,_u)).next(m=>m))})}bs(e,t){let s=new Mt(dT(e));return t.forEach((o,u)=>{yd(e,u)&&(s=s.add(u))}),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,t,s){return vo()<=Ve.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",_o(t)),this.gs.getDocumentsMatchingQuery(e,t,hs.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LocalStore",PD=3e8;class VD{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new dt(Oe),this.Ms=new wa(u=>pg(u),gg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AD(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function UD(i,e,t,s){return new VD(i,e,t,s)}async function VT(i,e){const t=Ie(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Ns(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=Ue();for(const y of o){h.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(s,g).next(y=>({Bs:y,removedBatchIds:h,addedBatchIds:m}))})})}function LD(i,e){const t=Ie(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Os.newChangeBuffer({trackRemovals:!0});return function(m,g,y,b){const A=y.batch,T=A.keys();let P=re.resolve();return T.forEach(R=>{P=P.next(()=>b.getEntry(g,R)).next(z=>{const V=y.docVersions.get(R);Ke(V!==null,48541),z.version.compareTo(V)<0&&(A.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),b.addEntry(z)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(g,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function UT(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function zD(i,e){const t=Ie(i),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const m=[];e.targetChanges.forEach((b,A)=>{const T=o.get(A);if(!T)return;m.push(t.hi.removeMatchingKeys(u,b.removedDocuments,A).next(()=>t.hi.addMatchingKeys(u,b.addedDocuments,A)));let P=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?P=P.withResumeToken(Xt.EMPTY_BYTE_STRING,Ne.min()).withLastLimboFreeSnapshotVersion(Ne.min()):b.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(b.resumeToken,s)),o=o.insert(A,P),function(z,V,F){return z.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=PD?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(T,P,b)&&m.push(t.hi.updateTargetData(u,P))});let g=vr(),y=Ue();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),m.push(BD(u,h,e.documentUpdates).next(b=>{g=b.Ls,y=b.ks})),!s.isEqual(Ne.min())){const b=t.hi.getLastRemoteSnapshotVersion(u).next(A=>t.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(b)}return re.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(t.Fs=o,u))}function BD(i,e,t){let s=Ue(),o=Ue();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=vr();return t.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Ne.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):de(Ag,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Ls:h,ks:o}})}function qD(i,e){const t=Ie(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=dg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function HD(i,e){const t=Ie(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.hi.getTargetData(s,e).next(u=>u?(o=u,re.resolve(o)):t.hi.allocateTargetId(s).next(h=>(o=new rs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s})}async function Np(i,e,t){const s=Ie(i),o=s.Fs.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Lo(h))throw h;de(Ag,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function Hb(i,e,t){const s=Ie(i);let o=Ne.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,b){const A=Ie(g),T=A.Ms.get(b);return T!==void 0?re.resolve(A.Fs.get(T)):A.hi.getTargetData(y,b)}(s,h,Ri(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:Ne.min(),t?u:Ue())).next(m=>(FD(s,D4(e),m),{documents:m,qs:u})))}function FD(i,e,t){let s=i.xs.get(e)||Ne.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(e,s)}class Fb{constructor(){this.activeTargetIds=V4()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GD{constructor(){this.Fo=new Fb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Fb,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="ConnectivityMonitor";class $b{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){de(Gb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){de(Gb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh=null;function Ip(){return bh===null?bh=function(){return 268435456+Math.round(2147483648*Math.random())}():bh++,"0x"+bh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="RestConnection",KD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QD{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,u){const h=Ip(),m=this.Go(e,t.toUriEncodedString());de(Qm,`Sending RPC '${e}' ${h}:`,m,s);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,u);const{host:y}=new URL(m),b=ys(y);return this.jo(e,m,g,s,b).then(A=>(de(Qm,`Received RPC '${e}' ${h}: `,A),A),A=>{throw cs(Qm,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",s),A})}Jo(e,t,s,o,u,h){return this.Wo(e,t,s,o,u)}zo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,t){const s=KD[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class XD extends QD{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,u){const h=Ip();return new Promise((m,g)=>{const y=new U1;y.setWithCredentials(!0),y.listenOnce(L1.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Dh.NO_ERROR:const A=y.getResponseJson();de(en,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case Dh.TIMEOUT:de(en,`RPC '${e}' ${h} timed out`),g(new he(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Dh.HTTP_ERROR:const T=y.getStatus();if(de(en,`RPC '${e}' ${h} failed with status:`,T,"response text:",y.getResponseText()),T>0){let P=y.getResponseJson();Array.isArray(P)&&(P=P[0]);const R=P==null?void 0:P.error;if(R&&R.status&&R.message){const z=function(F){const Y=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Y)>=0?Y:ne.UNKNOWN}(R.status);g(new he(z,R.message))}else g(new he(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(ne.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{c_:e,streamId:h,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{de(en,`RPC '${e}' ${h} completed.`)}});const b=JSON.stringify(o);de(en,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",b,s,15)})}P_(e,t,s){const o=Ip(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=q1(),m=B1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,t,s),g.encodeInitMessageHeaders=!0;const b=u.join("");de(en,`Creating RPC '${e}' stream ${o}: ${b}`,g);const A=h.createWebChannel(b,g);this.T_(A);let T=!1,P=!1;const R=new YD({Ho:V=>{P?de(en,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(T||(de(en,`Opening RPC '${e}' stream ${o} transport.`),A.open(),T=!0),de(en,`RPC '${e}' stream ${o} sending:`,V),A.send(V))},Yo:()=>A.close()}),z=(V,F,Y)=>{V.listen(F,Z=>{try{Y(Z)}catch(oe){setTimeout(()=>{throw oe},0)}})};return z(A,ru.EventType.OPEN,()=>{P||(de(en,`RPC '${e}' stream ${o} transport opened.`),R.s_())}),z(A,ru.EventType.CLOSE,()=>{P||(P=!0,de(en,`RPC '${e}' stream ${o} transport closed`),R.__(),this.I_(A))}),z(A,ru.EventType.ERROR,V=>{P||(P=!0,cs(en,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),R.__(new he(ne.UNAVAILABLE,"The operation could not be completed")))}),z(A,ru.EventType.MESSAGE,V=>{var F;if(!P){const Y=V.data[0];Ke(!!Y,16349);const Z=Y,oe=(Z==null?void 0:Z.error)||((F=Z[0])===null||F===void 0?void 0:F.error);if(oe){de(en,`RPC '${e}' stream ${o} received error:`,oe);const ue=oe.status;let ge=function(I){const M=Rt[I];if(M!==void 0)return AT(M)}(ue),O=oe.message;ge===void 0&&(ge=ne.INTERNAL,O="Unknown error status: "+ue+" with message "+oe.message),P=!0,R.__(new he(ge,O)),A.close()}else de(en,`RPC '${e}' stream ${o} received:`,Y),R.a_(Y)}}),z(m,z1.STAT_EVENT,V=>{V.stat===gp.PROXY?de(en,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===gp.NOPROXY&&de(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function Ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(i){return new eD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="PersistentStream";class zT{constructor(e,t,s,o,u,h,m,g){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new LT(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===t&&this.W_(s,o)},s=>{e(()=>{const o=new he(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return de(Kb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(de(Kb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WD extends zT{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=iD(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ne.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ne.min():h.readTime?Ni(h.readTime):Ne.min()}(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=Rp(this.serializer),t.addTarget=function(u,h){let m;const g=h.target;if(m=Ep(g)?{documents:aD(u,g)}:{query:oD(u,g).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=NT(u,h.resumeToken);const y=xp(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ne.min())>0){m.readTime=Zh(u,h.snapshotVersion.toTimestamp());const y=xp(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=uD(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=Rp(this.serializer),t.removeTarget=e,this.k_(t)}}class ZD extends zT{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=sD(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=Rp(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>rD(this.serializer,s))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{}class ek extends JD{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,Ap(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ne.UNKNOWN,u.toString())})}Jo(e,t,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,Ap(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new he(ne.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class tk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(yr(t),this._a=!1):de("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va="RemoteStore";class nk{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{xa(this)&&(de(va,"Restarting streams for network reachability change."),await async function(g){const y=Ie(g);y.Ia.add(4),await zu(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Td(y)}(this))})}),this.Aa=new tk(s,o)}}async function Td(i){if(xa(i))for(const e of i.da)await e(!0)}async function zu(i){for(const e of i.da)await e(!1)}function BT(i,e){const t=Ie(i);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Ig(t)?Ng(t):Bo(t).x_()&&Rg(t,e))}function Sg(i,e){const t=Ie(i),s=Bo(t);t.Ta.delete(e),s.x_()&&qT(t,e),t.Ta.size===0&&(s.x_()?s.B_():xa(t)&&t.Aa.set("Unknown"))}function Rg(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ne.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bo(i).H_(e)}function qT(i,e){i.Ra.$e(e),Bo(i).Y_(e)}function Ng(i){i.Ra=new X4({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),Bo(i).start(),i.Aa.aa()}function Ig(i){return xa(i)&&!Bo(i).M_()&&i.Ta.size>0}function xa(i){return Ie(i).Ia.size===0}function HT(i){i.Ra=void 0}async function ik(i){i.Aa.set("Online")}async function rk(i){i.Ta.forEach((e,t)=>{Rg(i,e)})}async function sk(i,e){HT(i),Ig(i)?(i.Aa.la(e),Ng(i)):i.Aa.set("Unknown")}async function ak(i,e,t){if(i.Aa.set("Online"),e instanceof RT&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(i,e)}catch(s){de(va,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ed(i,s)}else if(e instanceof Mh?i.Ra.Ye(e):e instanceof ST?i.Ra.it(e):i.Ra.et(e),!t.isEqual(Ne.min()))try{const s=await UT(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ta.get(y);b&&u.Ta.set(y,b.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,y)=>{const b=u.Ta.get(g);if(!b)return;u.Ta.set(g,b.withResumeToken(Xt.EMPTY_BYTE_STRING,b.snapshotVersion)),qT(u,g);const A=new rs(b.target,g,y,b.sequenceNumber);Rg(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){de(va,"Failed to raise snapshot:",s),await ed(i,s)}}async function ed(i,e,t){if(!Lo(e))throw e;i.Ia.add(1),await zu(i),i.Aa.set("Offline"),t||(t=()=>UT(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{de(va,"Retrying IndexedDB access"),await t(),i.Ia.delete(1),await Td(i)})}function FT(i,e){return e().catch(t=>ed(i,t,e))}async function wd(i){const e=Ie(i),t=ps(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:dg;for(;ok(e);)try{const o=await qD(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,lk(e,o)}catch(o){await ed(e,o)}GT(e)&&$T(e)}function ok(i){return xa(i)&&i.Pa.length<10}function lk(i,e){i.Pa.push(e);const t=ps(i);t.x_()&&t.Z_&&t.X_(e.mutations)}function GT(i){return xa(i)&&!ps(i).M_()&&i.Pa.length>0}function $T(i){ps(i).start()}async function uk(i){ps(i).na()}async function ck(i){const e=ps(i);for(const t of i.Pa)e.X_(t.mutations)}async function hk(i,e,t){const s=i.Pa.shift(),o=_g.from(s,e,t);await FT(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await wd(i)}async function dk(i,e){e&&ps(i).Z_&&await async function(s,o){if(function(h){return Q4(h)&&h!==ne.ABORTED}(o.code)){const u=s.Pa.shift();ps(s).N_(),await FT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await wd(s)}}(i,e),GT(i)&&$T(i)}async function Qb(i,e){const t=Ie(i);t.asyncQueue.verifyOperationInProgress(),de(va,"RemoteStore received new credentials");const s=xa(t);t.Ia.add(3),await zu(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Td(t)}async function fk(i,e){const t=Ie(i);e?(t.Ia.delete(2),await Td(t)):e||(t.Ia.add(2),await zu(t),t.Aa.set("Unknown"))}function Bo(i){return i.Va||(i.Va=function(t,s,o){const u=Ie(t);return u.ia(),new WD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:ik.bind(null,i),e_:rk.bind(null,i),n_:sk.bind(null,i),J_:ak.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),Ig(i)?Ng(i):i.Aa.set("Unknown")):(await i.Va.stop(),HT(i))})),i.Va}function ps(i){return i.ma||(i.ma=function(t,s,o){const u=Ie(t);return u.ia(),new ZD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:uk.bind(null,i),n_:dk.bind(null,i),ea:ck.bind(null,i),ta:hk.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await wd(i)):(await i.ma.stop(),i.Pa.length>0&&(de(va,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new Cg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(i,e){if(yr("AsyncQueue",`${e}: ${i}`),Lo(i))return new he(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(e){return new So(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||_e.comparator(t.key,s.key):(t,s)=>_e.comparator(t.key,s.key),this.keyedMap=su(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof So)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new So;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.fa=new dt(_e.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ae(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,s)=>{e.push(s)}),e}}class ko{constructor(e,t,s,o,u,h,m,g,y){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new ko(e,t,So.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class pk{constructor(){this.queries=Xb(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=Ie(t),u=o.queries;o.queries=Xb(),u.forEach((h,m)=>{for(const g of m.wa)g.onError(s)})})(this,new he(ne.ABORTED,"Firestore shutting down"))}}function Xb(){return new wa(i=>hT(i),gd)}async function kg(i,e){const t=Ie(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new mk,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await t.onListen(o,!0);break;case 1:u.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=Dg(h,`Initialization of query '${_o(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.wa.push(e),e.va(t.onlineState),u.ya&&e.Ca(u.ya)&&jg(t)}async function Og(i,e){const t=Ie(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function gk(i,e){const t=Ie(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&jg(t)}function yk(i,e,t){const s=Ie(i),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(t);s.queries.delete(e)}function jg(i){i.Da.forEach(e=>{e.next()})}var Cp,Wb;(Wb=Cp||(Cp={})).Fa="default",Wb.Cache="cache";class Mg{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ko(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.key=e}}class QT{constructor(e){this.key=e}}class vk{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ue(),this.mutatedKeys=Ue(),this.Xa=dT(e),this.eu=new So(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new Yb,o=t?t.eu:this.eu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,A)=>{const T=o.get(b),P=yd(this.query,A)?A:null,R=!!T&&this.mutatedKeys.has(T.key),z=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let V=!1;T&&P?T.data.isEqual(P.data)?R!==z&&(s.track({type:3,doc:P}),V=!0):this.iu(T,P)||(s.track({type:2,doc:P}),V=!0,(g&&this.Xa(P,g)>0||y&&this.Xa(P,y)<0)&&(m=!0)):!T&&P?(s.track({type:0,doc:P}),V=!0):T&&!P&&(s.track({type:1,doc:T}),V=!0,(g||y)&&(m=!0)),V&&(P?(h=h.add(P),u=z?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((b,A)=>function(P,R){const z=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{At:V})}};return z(P)-z(R)}(b.type,A.type)||this.Xa(b.doc,A.doc)),this.su(s),o=o!=null&&o;const m=t&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,y=g!==this.Ya;return this.Ya=g,h.length!==0||y?{snapshot:new ko(this.query,e.eu,u,h,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Yb,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ue(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const t=[];return e.forEach(s=>{this.Za.has(s)||t.push(new QT(s))}),this.Za.forEach(s=>{e.has(s)||t.push(new KT(s))}),t}uu(e){this.Ha=e.qs,this.Za=Ue();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return ko.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Pg="SyncEngine";class _k{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class bk{constructor(e){this.key=e,this.lu=!1}}class Ek{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new wa(m=>hT(m),gd),this.Tu=new Map,this.Iu=new Set,this.du=new dt(_e.comparator),this.Eu=new Map,this.Au=new Tg,this.Ru={},this.Vu=new Map,this.mu=Do.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Tk(i,e,t=!0){const s=ew(i);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await YT(s,e,t,!0),o}async function wk(i,e){const t=ew(i);await YT(t,e,!0,!1)}async function YT(i,e,t,s){const o=await HD(i.localStore,Ri(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await xk(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&BT(i.remoteStore,o),m}async function xk(i,e,t,s,o){i.gu=(A,T,P)=>async function(z,V,F,Y){let Z=V.view.nu(F);Z.Ds&&(Z=await Hb(z.localStore,V.query,!1).then(({documents:O})=>V.view.nu(O,Z)));const oe=Y&&Y.targetChanges.get(V.targetId),ue=Y&&Y.targetMismatches.get(V.targetId)!=null,ge=V.view.applyChanges(Z,z.isPrimaryClient,oe,ue);return Jb(z,V.targetId,ge._u),ge.snapshot}(i,A,T,P);const u=await Hb(i.localStore,e,!0),h=new vk(e,u.qs),m=h.nu(u.documents),g=Lu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),y=h.applyChanges(m,i.isPrimaryClient,g);Jb(i,t,y._u);const b=new _k(e,t,h);return i.Pu.set(e,b),i.Tu.has(t)?i.Tu.get(t).push(e):i.Tu.set(t,[e]),y.snapshot}async function Ak(i,e,t){const s=Ie(i),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!gd(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Np(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Sg(s.remoteStore,o.targetId),Dp(s,o.targetId)}).catch(Uo)):(Dp(s,o.targetId),await Np(s.localStore,o.targetId,!0))}async function Sk(i,e){const t=Ie(i),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Sg(t.remoteStore,s.targetId))}async function Rk(i,e,t){const s=jk(i);try{const o=await function(h,m){const g=Ie(h),y=st.now(),b=m.reduce((P,R)=>P.add(R.key),Ue());let A,T;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>{let R=vr(),z=Ue();return g.Os.getEntries(P,b).next(V=>{R=V,R.forEach((F,Y)=>{Y.isValidDocument()||(z=z.add(F))})}).next(()=>g.localDocuments.getOverlayedDocuments(P,R)).next(V=>{A=V;const F=[];for(const Y of m){const Z=H4(Y,A.get(Y.key).overlayedDocument);Z!=null&&F.push(new bs(Y.key,Z,iT(Z.value.mapValue),Gn.exists(!0)))}return g.mutationQueue.addMutationBatch(P,y,F,m)}).next(V=>{T=V;const F=V.applyToLocalDocumentSet(A,z);return g.documentOverlayCache.saveOverlays(P,V.batchId,F)})}).then(()=>({batchId:T.batchId,changes:mT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,g){let y=h.Ru[h.currentUser.toKey()];y||(y=new dt(Oe)),y=y.insert(m,g),h.Ru[h.currentUser.toKey()]=y}(s,o.batchId,t),await Bu(s,o.changes),await wd(s.remoteStore)}catch(o){const u=Dg(o,"Failed to persist write");t.reject(u)}}async function XT(i,e){const t=Ie(i);try{const s=await zD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Eu.get(u);h&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Ke(h.lu,14607):o.removedDocuments.size>0&&(Ke(h.lu,42227),h.lu=!1))}),await Bu(t,s,e)}catch(s){await Uo(s)}}function Zb(i,e,t){const s=Ie(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const g=Ie(h);g.onlineState=m;let y=!1;g.queries.forEach((b,A)=>{for(const T of A.wa)T.va(m)&&(y=!0)}),y&&jg(g)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Nk(i,e,t){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new dt(_e.comparator);h=h.insert(u,nn.newNoDocument(u,Ne.min()));const m=Ue().add(u),g=new bd(Ne.min(),new Map,new dt(Oe),h,m);await XT(s,g),s.du=s.du.remove(u),s.Eu.delete(e),Vg(s)}else await Np(s.localStore,e,!1).then(()=>Dp(s,e,t)).catch(Uo)}async function Ik(i,e){const t=Ie(i),s=e.batch.batchId;try{const o=await LD(t.localStore,e);ZT(t,s,null),WT(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Bu(t,o)}catch(o){await Uo(o)}}async function Ck(i,e,t){const s=Ie(i);try{const o=await function(h,m){const g=Ie(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next(A=>(Ke(A!==null,37113),b=A.keys(),g.mutationQueue.removeMutationBatch(y,A))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>g.localDocuments.getDocuments(y,b))})}(s.localStore,e);ZT(s,e,t),WT(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Bu(s,o)}catch(o){await Uo(o)}}function WT(i,e){(i.Vu.get(e)||[]).forEach(t=>{t.resolve()}),i.Vu.delete(e)}function ZT(i,e,t){const s=Ie(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Dp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),t&&i.hu.pu(s,t);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||JT(i,s)})}function JT(i,e){i.Iu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Sg(i.remoteStore,t),i.du=i.du.remove(e),i.Eu.delete(t),Vg(i))}function Jb(i,e,t){for(const s of t)s instanceof KT?(i.Au.addReference(s.key,e),Dk(i,s)):s instanceof QT?(de(Pg,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||JT(i,s.key)):Ae(19791,{yu:s})}function Dk(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Iu.has(s)||(de(Pg,"New document in limbo: "+t),i.Iu.add(s),Vg(i))}function Vg(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const t=new _e(rt.fromString(e)),s=i.mu.next();i.Eu.set(s,new bk(t)),i.du=i.du.insert(t,s),BT(i.remoteStore,new rs(Ri(pd(t.path)),s,"TargetPurposeLimboResolution",dd.ue))}}async function Bu(i,e,t){const s=Ie(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,g)=>{h.push(s.gu(g,e,t).then(y=>{var b;if((y||t)&&s.isPrimaryClient){const A=y?!y.fromCache:(b=t==null?void 0:t.targetChanges.get(g.targetId))===null||b===void 0?void 0:b.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(y){o.push(y);const A=xg.Es(g.targetId,y);u.push(A)}}))}),await Promise.all(h),s.hu.J_(o),await async function(g,y){const b=Ie(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>re.forEach(y,T=>re.forEach(T.Is,P=>b.persistence.referenceDelegate.addReference(A,T.targetId,P)).next(()=>re.forEach(T.ds,P=>b.persistence.referenceDelegate.removeReference(A,T.targetId,P)))))}catch(A){if(!Lo(A))throw A;de(Ag,"Failed to update sequence numbers: "+A)}for(const A of y){const T=A.targetId;if(!A.fromCache){const P=b.Fs.get(T),R=P.snapshotVersion,z=P.withLastLimboFreeSnapshotVersion(R);b.Fs=b.Fs.insert(T,z)}}}(s.localStore,u))}async function kk(i,e){const t=Ie(i);if(!t.currentUser.isEqual(e)){de(Pg,"User change. New user:",e.toKey());const s=await VT(t.localStore,e);t.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(g=>{g.reject(new he(ne.CANCELLED,h))})}),u.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bu(t,s.Bs)}}function Ok(i,e){const t=Ie(i),s=t.Eu.get(e);if(s&&s.lu)return Ue().add(s.key);{let o=Ue();const u=t.Tu.get(e);if(!u)return o;for(const h of u){const m=t.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function ew(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ok.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nk.bind(null,e),e.hu.J_=gk.bind(null,e.eventManager),e.hu.pu=yk.bind(null,e.eventManager),e}function jk(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ik.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ck.bind(null,e),e}class td{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ed(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return UD(this.persistence,new MD,e.initialUser,this.serializer)}Du(e){return new PT(wg.Vi,this.serializer)}bu(e){return new GD}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}td.provider={build:()=>new td};class Mk extends td{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ke(this.persistence.referenceDelegate instanceof Jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new bD(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new PT(s=>Jh.Vi(s,t),this.serializer)}}class kp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Zb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kk.bind(null,this.syncEngine),await fk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pk}()}createDatastore(e){const t=Ed(e.databaseInfo.databaseId),s=function(u){return new XD(u)}(e.databaseInfo);return function(u,h,m,g){return new ek(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new nk(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>Zb(this.syncEngine,t,0),function(){return $b.C()?new $b:new $D}())}createSyncEngine(e,t){return function(o,u,h,m,g,y,b){const A=new Ek(o,u,h,m,g,y);return b&&(A.fu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ie(o);de(va,"RemoteStore shutting down."),u.Ia.add(5),await zu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}kp.provider={build:()=>new kp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class Pk{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=hg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{de(gs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(de(gs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Dg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Xm(i,e){i.asyncQueue.verifyOperationInProgress(),de(gs,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await VT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{cs("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{de("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{cs("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function eE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Vk(i);de(gs,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>Qb(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>Qb(e.remoteStore,o)),i._onlineComponents=e}async function Vk(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(gs,"Using user provided OfflineComponentProvider");try{await Xm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;cs("Error using user provided cache. Falling back to memory cache: "+t),await Xm(i,new td)}}else de(gs,"Using default OfflineComponentProvider"),await Xm(i,new Mk(void 0));return i._offlineComponents}async function tw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(gs,"Using user provided OnlineComponentProvider"),await eE(i,i._uninitializedComponentsProvider._online)):(de(gs,"Using default OnlineComponentProvider"),await eE(i,new kp))),i._onlineComponents}function Uk(i){return tw(i).then(e=>e.syncEngine)}async function nd(i){const e=await tw(i),t=e.eventManager;return t.onListen=Tk.bind(null,e.syncEngine),t.onUnlisten=Ak.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=wk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Sk.bind(null,e.syncEngine),t}function Lk(i,e,t={}){const s=new fr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,y){const b=new Ug({next:T=>{b.Ou(),h.enqueueAndForget(()=>Og(u,A));const P=T.docs.has(m);!P&&T.fromCache?y.reject(new he(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&T.fromCache&&g&&g.source==="server"?y.reject(new he(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),A=new Mg(pd(m.path),b,{includeMetadataChanges:!0,ka:!0});return kg(u,A)}(await nd(i),i.asyncQueue,e,t,s)),s.promise}function zk(i,e,t={}){const s=new fr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,y){const b=new Ug({next:T=>{b.Ou(),h.enqueueAndForget(()=>Og(u,A)),T.fromCache&&g.source==="server"?y.reject(new he(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),A=new Mg(m,b,{includeMetadataChanges:!0,ka:!0});return kg(u,A)}(await nd(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="firestore.googleapis.com",nE=!0;class iE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iw,this.ssl=nE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:nE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=MT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vD)throw new he(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nw((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xd{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new YC;switch(s.type){case"firstParty":return new JC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=tE.get(t);s&&(de("ComponentProvider","Removing Datastore"),tE.delete(t),s.terminate())}(this),Promise.resolve()}}function Bk(i,e,t,s={}){var o;i=yn(i,xd);const u=ys(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),g=`${e}:${t}`;u&&(Qp(`https://${g}`),Yp("Firestore",!0)),h.host!==iw&&h.host!==g&&cs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:u,emulatorOptions:s});if(!fa(y,m)&&(i._setSettings(y),s.mockUserToken)){let b,A;if(typeof s.mockUserToken=="string")b=s.mockUserToken,A=tn.MOCK_USER;else{b=QE(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new tn(T)}i._authCredentials=new XC(new F1(b,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Es(this.firestore,e,this._query)}}class gt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Vu(t,gt._jsonSchema))return new gt(e,s||null,new _e(rt.fromString(t.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:It("string",gt._jsonSchemaVersion),referencePath:It("string")};class ls extends Es{constructor(e,t,s){super(e,t,pd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new _e(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function aa(i,e,...t){if(i=ct(i),$1("collection","path",e),i instanceof xd){const s=rt.fromString(e,...t);return gb(s),new ls(i,null,s)}{if(!(i instanceof gt||i instanceof ls))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return gb(s),new ls(i.firestore,null,s)}}function cn(i,e,...t){if(i=ct(i),arguments.length===1&&(e=hg.newId()),$1("doc","path",e),i instanceof xd){const s=rt.fromString(e,...t);return pb(s),new gt(i,null,new _e(s))}{if(!(i instanceof gt||i instanceof ls))throw new he(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...t));return pb(s),new gt(i.firestore,i instanceof ls?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="AsyncQueue";class sE{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new LT(this,"async_queue_retry"),this.oc=()=>{const s=Ym();s&&de(rE,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Ym();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Ym();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new fr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Lo(e))throw e;de(rE,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,yr("INTERNAL UNHANDLED ERROR: ",aE(s)),s}).then(s=>(this.nc=!1,s))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Cg.createAndSchedule(this,e,t,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Ae(47125,{hc:aE(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function aE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class _r extends xd{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new sE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sE(e),this._firestoreClient=void 0,await e}}}function Lg(i,e){const t=typeof i=="object"?i:Zp(),s=typeof i=="string"?i:Yh,o=od(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=GE("firestore");u&&Bk(o,...u)}return o}function Ad(i){if(i._terminated)throw new he(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||qk(i),i._firestoreClient}function qk(i){var e,t,s;const o=i._freezeSettings(),u=function(m,g,y,b){return new p4(m,g,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,nw(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Pk(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fn(Xt.fromBase64String(e))}catch(t){throw new he(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Fn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vu(e,Fn._jsonSchema))return Fn.fromBase64String(e.bytes)}}Fn._jsonSchemaVersion="firestore/bytes/1.0",Fn._jsonSchema={type:It("string",Fn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ii._jsonSchemaVersion}}static fromJSON(e){if(Vu(e,Ii._jsonSchema))return new Ii(e.latitude,e.longitude)}}Ii._jsonSchemaVersion="firestore/geoPoint/1.0",Ii._jsonSchema={type:It("string",Ii._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vu(e,Ci._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Ci(e.vectorValues);throw new he(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:It("string",Ci._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=/^__.*__$/;class Fk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class rw{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new bs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ec:i})}}class zg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return id(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(sw(this.Ec)&&Hk.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Gk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Ed(e)}Dc(e,t,s,o=!1){return new zg({Ec:e,methodName:t,bc:s,path:Yt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rd(i){const e=i._freezeSettings(),t=Ed(i._databaseId);return new Gk(i._databaseId,!!e.ignoreUndefinedProperties,t)}function aw(i,e,t,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,e,t,o);Hg("Data must be an object, but it was:",h,s);const m=ow(s,h);let g,y;if(u.merge)g=new Rn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const T=Op(e,A,t);if(!h.contains(T))throw new he(ne.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);uw(b,T)||b.push(T)}g=new Rn(b),y=h.fieldTransforms.filter(A=>g.covers(A.field))}else g=null,y=h.fieldTransforms;return new Fk(new gn(m),g,y)}class Nd extends qu{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nd}}class Bg extends qu{_toFieldTransform(e){return new TT(e.path,new xu)}isEqual(e){return e instanceof Bg}}class qg extends qu{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new Ru(e.serializer,yT(e.serializer,this.Cc));return new TT(e.path,t)}isEqual(e){return e instanceof qg&&this.Cc===e.Cc}}function $k(i,e,t,s){const o=i.Dc(1,e,t);Hg("Data must be an object, but it was:",o,s);const u=[],h=gn.empty();_s(s,(g,y)=>{const b=Fg(e,g,t);y=ct(y);const A=o.gc(b);if(y instanceof Nd)u.push(b);else{const T=Hu(y,A);T!=null&&(u.push(b),h.set(b,T))}});const m=new Rn(u);return new rw(h,m,o.fieldTransforms)}function Kk(i,e,t,s,o,u){const h=i.Dc(1,e,t),m=[Op(e,s,t)],g=[o];if(u.length%2!=0)throw new he(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(Op(e,u[T])),g.push(u[T+1]);const y=[],b=gn.empty();for(let T=m.length-1;T>=0;--T)if(!uw(y,m[T])){const P=m[T];let R=g[T];R=ct(R);const z=h.gc(P);if(R instanceof Nd)y.push(P);else{const V=Hu(R,z);V!=null&&(y.push(P),b.set(P,V))}}const A=new Rn(y);return new rw(b,A,h.fieldTransforms)}function Qk(i,e,t,s=!1){return Hu(t,i.Dc(s?4:3,e))}function Hu(i,e){if(lw(i=ct(i)))return Hg("Unsupported field value:",e,i),ow(i,e);if(i instanceof qu)return function(s,o){if(!sw(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let g=Hu(m,o.yc(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=ct(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return yT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:Zh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zh(o.serializer,u)}}if(s instanceof Ii)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fn)return{bytesValue:NT(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Eg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ci)return function(h,m){return{mapValue:{fields:{[tT]:{stringValue:nT},[Xh]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.wc("VectorValues must only contain numeric values.");return yg(m.serializer,y)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${hd(s)}`)}(i,e)}function ow(i,e){const t={};return Y1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(i,(s,o)=>{const u=Hu(o,e.Vc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function lw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof Ii||i instanceof Fn||i instanceof gt||i instanceof qu||i instanceof Ci)}function Hg(i,e,t){if(!lw(t)||!K1(t)){const s=hd(t);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function Op(i,e,t){if((e=ct(e))instanceof Sd)return e._internalPath;if(typeof e=="string")return Fg(i,e);throw id("Field path arguments must be of type string or ",i,!1,void 0,t)}const Yk=new RegExp("[~\\*/\\[\\]]");function Fg(i,e,t){if(e.search(Yk)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Sd(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function id(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${o}`),g+=")"),new he(ne.INVALID_ARGUMENT,m+i+g)}function uw(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Gg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Xk extends cw{data(){return super.data()}}function Gg(i,e){return typeof e=="string"?Fg(i,e):e instanceof Sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}class dw extends $g{}function jp(i,e,...t){let s=[];e instanceof $g&&s.push(e),s=s.concat(t),function(u){const h=u.filter(g=>g instanceof Qg).length,m=u.filter(g=>g instanceof Kg).length;if(h>1||h>0&&m>0)throw new he(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Kg extends dw{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Kg(e,t,s)}_apply(e){const t=this._parse(e);return fw(e._query,t),new Es(e.firestore,e.converter,Tp(e._query,t))}_parse(e){const t=Rd(e.firestore);return function(u,h,m,g,y,b,A){let T;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new he(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){uE(A,b);const R=[];for(const z of A)R.push(lE(g,u,z));T={arrayValue:{values:R}}}else T=lE(g,u,A)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||uE(A,b),T=Qk(m,h,A,b==="in"||b==="not-in");return Nt.create(y,b,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Qg extends $g{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Qg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const g of m)fw(h,g),h=Tp(h,g)}(e._query,t),new Es(e.firestore,e.converter,Tp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yg extends dw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Yg(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wu(u,h)}(e._query,this._field,this._direction);return new Es(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new zo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Mp(i,e="asc"){const t=e,s=Gg("orderBy",i);return Yg._create(s,t)}function lE(i,e,t){if(typeof(t=ct(t))=="string"){if(t==="")throw new he(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cT(e)&&t.indexOf("/")!==-1)throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(rt.fromString(t));if(!_e.isDocumentKey(s))throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return xb(i,new _e(s))}if(t instanceof gt)return xb(i,t._key);throw new he(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hd(t)}.`)}function uE(i,e){if(!Array.isArray(i)||i.length===0)throw new he(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fw(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Wk{convertValue(e,t="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return _s(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Xh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Tt(h.doubleValue));return new Ci(u)}convertGeoPoint(e){return new Ii(Tt(e.latitude),Tt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=md(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=ds(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=rt.fromString(e);Ke(jT(s),9688,{name:e});const o=new Eu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(t)||yr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class ou{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ca extends cw{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Gg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ca._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",ca._jsonSchema={type:It("string",ca._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Ph extends ca{data(e={}){return super.data(e)}}class ha{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ou(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Ph(this._firestore,this._userDataWriter,s.key,s,new ou(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const g=new Ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ou(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:Zk(m.type),doc:g,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ha._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=hg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Zk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(i){i=yn(i,gt);const e=yn(i.firestore,_r);return Lk(Ad(e),i._key).then(t=>pw(e,i,t))}ha._jsonSchemaVersion="firestore/querySnapshot/1.0",ha._jsonSchema={type:It("string",ha._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class Xg extends Wk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,t)}}function Wm(i){i=yn(i,Es);const e=yn(i.firestore,_r),t=Ad(e),s=new Xg(e);return hw(i._query),zk(t,i._query).then(o=>new ha(e,s,i,o))}function Oo(i,e,t){i=yn(i,gt);const s=yn(i.firestore,_r),o=mw(i.converter,e,t);return Id(s,[aw(Rd(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,Gn.none())])}function eu(i,e,t,...s){i=yn(i,gt);const o=yn(i.firestore,_r),u=Rd(o);let h;return h=typeof(e=ct(e))=="string"||e instanceof Sd?Kk(u,"updateDoc",i._key,e,t,s):$k(u,"updateDoc",i._key,e),Id(o,[h.toMutation(i._key,Gn.exists(!0))])}function cE(i){return Id(yn(i.firestore,_r),[new vg(i._key,Gn.none())])}function Pp(i,e){const t=yn(i.firestore,_r),s=cn(i),o=mw(i.converter,e);return Id(t,[aw(Rd(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then(()=>s)}function Jk(i,...e){var t,s,o;i=ct(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||oE(e[h])||(u=e[h++]);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(oE(e[h])){const A=e[h];e[h]=(t=A.next)===null||t===void 0?void 0:t.bind(A),e[h+1]=(s=A.error)===null||s===void 0?void 0:s.bind(A),e[h+2]=(o=A.complete)===null||o===void 0?void 0:o.bind(A)}let g,y,b;if(i instanceof gt)y=yn(i.firestore,_r),b=pd(i._key.path),g={next:A=>{e[h]&&e[h](pw(y,i,A))},error:e[h+1],complete:e[h+2]};else{const A=yn(i,Es);y=yn(A.firestore,_r),b=A._query;const T=new Xg(y);g={next:P=>{e[h]&&e[h](new ha(y,T,A,P))},error:e[h+1],complete:e[h+2]},hw(i._query)}return function(T,P,R,z){const V=new Ug(z),F=new Mg(P,V,R);return T.asyncQueue.enqueueAndForget(async()=>kg(await nd(T),F)),()=>{V.Ou(),T.asyncQueue.enqueueAndForget(async()=>Og(await nd(T),F))}}(Ad(y),b,m,g)}function Id(i,e){return function(s,o){const u=new fr;return s.asyncQueue.enqueueAndForget(async()=>Rk(await Uk(s),o,u)),u.promise}(Ad(i),e)}function pw(i,e,t){const s=t.docs.get(e._key),o=new Xg(i);return new ca(i,o,e._key,s,new ou(t.hasPendingWrites,t.fromCache),e.converter)}function lu(){return new Bg("serverTimestamp")}function ar(i){return new qg("increment",i)}(function(e,t=!0){(function(o){Vo=o})(Ta),ma(new us("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new _r(new WC(s.getProvider("auth-internal")),new e4(h,s.getProvider("app-check-internal")),function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Eu(y.options.projectId,b)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ai(cb,hb,e),Ai(cb,hb,"esm2017")})();const Eh=i=>{const e=/^.*(?:youtu.be\/|v\/|e\/|embed\/|watch\?v=|youtube.com\/user\/[^\/]+\/|youtube.com\/\?v=)([^#\&\?]*).*/,t=i.match(e);return t&&t[1].length===11?t[1]:null};function eO(){const{id:i}=wE(),e=Er(),[t,s]=U.useState(null),[o,u]=U.useState(null),[h,m]=U.useState(!0),[g,y]=U.useState(null),[b,A]=U.useState(!1),[T,P]=U.useState(!0),R=U.useRef({}),[z,V]=U.useState(window.innerWidth<768),F=vs(),Y=Lg();U.useEffect(()=>{const O=Mu(F,async x=>{if(y(x),x)try{const I=await _a(cn(Y,"users",x.uid));if(I.exists()){const M=I.data();A(M.isSubscriber||!1)}else A(!1)}catch(I){console.error("Erro ao verificar assinatura:",I),A(!1)}else A(!1);P(!1)});return()=>O()},[F,Y]),U.useEffect(()=>{const O=()=>{V(window.innerWidth<768)};return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]),U.useEffect(()=>{const O=()=>{if(i==="projeto-verao"){const x=document.createElement("script");x.src="/projeto-verao.js",x.onload=()=>{window.projetoVeraoData&&(u(window.projetoVeraoData),s({id:"projeto-verao",title:"PROJETO VERÃO",description:"Prepare-se para o verão com este programa intenso."}),m(!1))},x.onerror=()=>{console.error("Erro ao carregar dados do Projeto Verão"),m(!1)},document.head.appendChild(x)}else if(window.trainingsData&&window.trainingsData.sections){let x=null,I=null;for(const M of window.trainingsData.sections)if(x=M.trainings.find(N=>N.id===i),x){x.modules&&x.modules.length>0&&x.modules[0].videos?I={id:x.id,title:x.title,description:x.description||`Programa completo de ${x.title}`,instructor:"Renan Gonçalves",duration:x.duration||"4 semanas",level:x.level||"Todos os níveis",image:x.imageUrl,sections:x.modules.map(N=>({id:N.title.toLowerCase().replace(/\s+/g,"-"),title:N.title,description:N.description,modules:N.videos.map((k,C)=>({id:`video-${C}`,title:k.title,description:k.title,duration:"30-40 min",youtubeId:k.youtubeId,type:"Treino"}))}))}:x.modules&&x.modules.length>0?I={id:x.id,title:x.title,description:x.description||`Programa completo de ${x.title}`,instructor:"Renan Gonçalves",duration:x.duration||"Vários módulos",level:x.level||"Todos os níveis",image:x.imageUrl,sections:[{id:"treinos",title:"Treinos",description:"Programa completo de treinos",modules:x.modules.map((N,k)=>N.videoUrl?{id:`modulo-${k+1}`,title:N.title,description:`Treino ${N.title}`,videoUrl:N.videoUrl,youtubeId:Eh(N.videoUrl),duration:"30-40 min",type:"Treino"}:N.youtubeId?{id:`modulo-${k+1}`,title:N.title,description:`Treino ${N.title}`,videoUrl:`https://youtu.be/${N.youtubeId}`,youtubeId:N.youtubeId,duration:"30-40 min",type:"Treino"}:{id:`modulo-${k+1}`,title:N.title,description:`Treino ${N.title}`,videoUrl:null,youtubeId:null,duration:"30-40 min",type:"Treino"})}]}:I={id:x.id,title:x.title,description:x.description||`Programa completo de ${x.title}`,instructor:"Renan Gonçalves",duration:x.duration||"Vários módulos",level:x.level||"Todos os níveis",image:x.imageUrl,sections:[{id:"modulos",title:"Módulos do Programa",description:"Conteúdo do programa",modules:[{id:"aula-1",title:"Aula 1",description:"Primeira aula do programa",videoUrl:"https://www.youtube.com/embed/dQw4w9WgXcQ",duration:"30 min",type:"Treino"}]}]};break}s(x),u(I),m(!1)}};if(i!=="projeto-verao"&&!window.trainingsData){const x=document.createElement("script");x.src="/trainings.js",x.onload=O,x.onerror=()=>{console.error("Erro ao carregar arquivo de treinos"),m(!1)},document.head.appendChild(x)}else O()},[i]);const Z=(O,x)=>{const I=R.current[O];if(I){const N=I.querySelector(".flex-shrink-0").offsetWidth+16;I.scrollBy({left:x*N,behavior:"smooth"})}},oe=O=>O.modules&&O.modules.length>4,ue=O=>{var I;if(!b){window.confirm(`Este conteúdo é exclusivo para assinantes do Team HIIT.

Gostaria de se tornar um assinante para acessar todo o conteúdo?`)&&window.open("https://wa.me/5511999999999?text=Olá! Gostaria de me tornar assinante do Team HIIT","_blank");return}const x=O.youtubeId||(O.videoUrl?Eh(O.videoUrl):null);x?e(`/video/${O.id}/${x}`,{state:{title:O.title,youtubeId:x,description:O.description||`Vídeo do ${O.title}`,duration:O.duration||"30-40 min",level:(o==null?void 0:o.level)||"Intermediário",instructor:(o==null?void 0:o.instructor)||"Team HIIT",category:((I=t==null?void 0:t.categories)==null?void 0:I[0])||"Treino"}}):O.videoUrl&&window.open(O.videoUrl,"_blank")},ge=()=>{window.open("https://wa.me/5511999999999?text=Olá! Gostaria de me tornar assinante do Team HIIT","_blank")};return h||T?p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsx("div",{className:"flex items-center justify-center h-96",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-400",children:"Carregando detalhes do programa..."})]})})]}):!t||!o?p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsx("div",{className:"container mx-auto px-6 py-8 pt-24",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Programa não encontrado"}),p.jsx("button",{onClick:()=>e("/"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Voltar ao Dashboard"})]})})]}):p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsxs("div",{className:"w-full relative",style:{height:"50vh"},children:[p.jsx("img",{src:`/${o.image}`,alt:o.title,className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:p.jsxs("div",{className:"text-white text-center p-4",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-2",children:o.title}),p.jsx("p",{className:"text-lg md:text-xl opacity-90 max-w-3xl mx-auto",children:o.description}),p.jsxs("div",{className:"mt-4 flex justify-center space-x-4",children:[p.jsxs("span",{className:"bg-orange-500 text-white px-4 py-2 rounded-full text-sm",children:[p.jsx(ti,{className:"w-4 h-4 inline mr-1"}),o.instructor]}),p.jsxs("span",{className:"bg-gray-700 text-white px-4 py-2 rounded-full text-sm",children:[p.jsx(hr,{className:"w-4 h-4 inline mr-1"}),o.duration]}),b&&p.jsxs("span",{className:"bg-yellow-500 text-black px-4 py-2 rounded-full text-sm flex items-center",children:[p.jsx(is,{className:"w-4 h-4 mr-1"}),"Assinante"]})]})]})})]}),p.jsxs("div",{className:"container mx-auto px-6 py-8",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors",children:[p.jsx($p,{className:"w-5 h-5"}),"Voltar ao Dashboard"]})}),!b&&p.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl shadow-lg p-6 mb-8",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(is,{className:"w-8 h-8 mr-4"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold",children:"Conteúdo Exclusivo para Assinantes"}),p.jsx("p",{className:"text-white/90",children:"Torne-se assinante para acessar todos os vídeos e treinos do Team HIIT!"})]})]}),p.jsx("button",{onClick:ge,className:"bg-white text-orange-500 hover:bg-gray-100 px-6 py-3 rounded-lg font-semibold transition-colors",children:"Assinar Agora"})]})}),o.sections&&o.sections.map(O=>p.jsxs("div",{className:"mb-8",children:[p.jsxs("div",{className:"mb-6",children:[p.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:O.title}),O.description&&p.jsx("p",{className:"text-gray-400",children:O.description})]}),p.jsx("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:z?p.jsx("div",{className:"flex flex-col space-y-4",children:O.modules.map(x=>{const I=x.youtubeId||(x.videoUrl?Eh(x.videoUrl):null),M=I?`https://img.youtube.com/vi/${I}/mqdefault.jpg`:null;return p.jsxs("div",{className:"flex items-center bg-gray-700 rounded-lg overflow-hidden p-2 relative",children:[!b&&p.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-10 rounded-lg",children:p.jsx(oa,{className:"w-6 h-6 text-white"})}),p.jsxs("div",{className:"flex-shrink-0 relative w-24 h-16 mr-4",children:[M?p.jsx("img",{src:M,alt:x.title,className:"w-full h-full object-cover rounded-md"}):p.jsx("div",{className:"w-full h-full bg-gray-600 flex items-center justify-center rounded-md",children:p.jsx(To,{className:"w-6 h-6 text-white"})}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-25 opacity-0 hover:opacity-100 transition-opacity",children:p.jsx("button",{onClick:()=>ue(x),className:"bg-orange-500 hover:bg-orange-600 text-white p-2 rounded-full transition-colors",children:b?p.jsx(To,{className:"w-4 h-4"}):p.jsx(oa,{className:"w-4 h-4"})})})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h4",{className:"text-white font-semibold text-sm truncate",children:x.title}),p.jsx("p",{className:"text-gray-400 text-xs truncate",children:x.description}),p.jsxs("div",{className:"flex items-center mt-1",children:[p.jsx(hr,{className:"w-3 h-3 text-gray-400 mr-1"}),p.jsx("span",{className:"text-gray-400 text-xs",children:x.duration})]})]}),p.jsx("button",{onClick:()=>ue(x),className:`px-3 py-1 rounded text-xs transition-colors ml-2 ${b?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 text-gray-300 cursor-not-allowed"}`,children:b?"Assistir Aula":"Bloqueado"})]},x.id)})}):p.jsxs("div",{className:"relative",children:[oe(O)&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>Z(O.id,-1),className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-2 rounded-full transition-all",children:p.jsx(ME,{className:"w-6 h-6"})}),p.jsx("button",{onClick:()=>Z(O.id,1),className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-2 rounded-full transition-all",children:p.jsx(Kp,{className:"w-6 h-6"})})]}),p.jsx("div",{ref:x=>R.current[O.id]=x,className:"flex space-x-4 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:O.modules.map(x=>{const I=x.youtubeId||(x.videoUrl?Eh(x.videoUrl):null),M=I?`https://img.youtube.com/vi/${I}/mqdefault.jpg`:null;return p.jsxs("div",{className:"flex-shrink-0 w-80 bg-gray-700 rounded-lg overflow-hidden relative",children:[!b&&p.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-10 rounded-lg",children:p.jsxs("div",{className:"text-center text-white",children:[p.jsx(oa,{className:"w-8 h-8 mx-auto mb-2"}),p.jsx("p",{className:"text-sm",children:"Conteúdo Exclusivo"})]})}),p.jsxs("div",{className:"relative h-48",children:[M?p.jsx("img",{src:M,alt:x.title,className:"w-full h-full object-cover"}):p.jsx("div",{className:"w-full h-full bg-gray-600 flex items-center justify-center",children:p.jsx(To,{className:"w-12 h-12 text-white"})}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-25 opacity-0 hover:opacity-100 transition-opacity",children:p.jsx("button",{onClick:()=>ue(x),className:"bg-orange-500 hover:bg-orange-600 text-white p-3 rounded-full transition-colors",children:b?p.jsx(To,{className:"w-6 h-6"}):p.jsx(oa,{className:"w-6 h-6"})})})]}),p.jsxs("div",{className:"p-4",children:[p.jsx("h4",{className:"text-white font-semibold mb-2",children:x.title}),p.jsx("p",{className:"text-gray-400 text-sm mb-3",children:x.description}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(hr,{className:"w-4 h-4 text-gray-400 mr-1"}),p.jsx("span",{className:"text-gray-400 text-sm",children:x.duration})]}),p.jsx("button",{onClick:()=>ue(x),className:`px-4 py-2 rounded text-sm transition-colors ${b?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 text-gray-300 cursor-not-allowed"}`,children:b?"Assistir Aula":"Bloqueado"})]})]})]},x.id)})})]})})]},O.id))]})]})}const tO=i=>{const e=/^.*(?:youtu.be\/|v\/|e\/|embed\/|watch\?v=|youtube.com\/user\/[^\/]+\/|youtube.com\/\?v=)([^#\&\?]*).*/,t=i.match(e);return t&&t[1].length===11?t[1]:null};function Zm(){const{moduleId:i,videoId:e}=wE(),t=Er(),s=br(),[o,u]=U.useState(null),[h,m]=U.useState(null),[g,y]=U.useState(null),[b,A]=U.useState(0),[T,P]=U.useState([]),[R,z]=U.useState(!0),[V,F]=U.useState(null),[Y,Z]=U.useState(!1),[oe,ue]=U.useState(!0),[ge,O]=U.useState([]),[x,I]=U.useState(""),[M,N]=U.useState(!1),k=U.useRef(null),C=vs(),be=Lg();U.useEffect(()=>{const D=Mu(C,async W=>{if(F(W),W)try{const ae=await _a(cn(be,"users",W.uid));if(ae.exists()){const J=ae.data();Z(J.isSubscriber||!1)}else Z(!1)}catch(ae){console.error("Erro ao verificar assinatura:",ae),Z(!1)}else Z(!1);ue(!1)});return()=>D()},[C,be]),U.useEffect(()=>{const D=()=>{var ae;const W=s.pathname.split("/")[2];if(window.trainingsData&&window.trainingsData.sections){let J=null,me=null;for(const Re of window.trainingsData.sections)if(J=Re.trainings.find(ve=>ve.id===W),J){if(J.modules&&J.modules.length>0){me={id:J.id,title:J.title,description:J.description||`Programa completo de ${J.title}`,instructor:"Renan Gonçalves",duration:J.duration||"Vários módulos",level:J.level||"Todos os níveis",image:J.imageUrl,sections:[{id:"treinos",title:"Treinos",description:"Programa completo de treinos",modules:J.modules.map((nt,Cn)=>nt.videoUrl?{id:`modulo-${Cn+1}`,title:nt.title,description:`Treino ${nt.title}`,videoUrl:nt.videoUrl,youtubeId:tO(nt.videoUrl),duration:"30-40 min",type:"Treino"}:nt.youtubeId?{id:`modulo-${Cn+1}`,title:nt.title,description:`Treino ${nt.title}`,videoUrl:`https://youtu.be/${nt.youtubeId}`,youtubeId:nt.youtubeId,duration:"30-40 min",type:"Treino"}:{id:`modulo-${Cn+1}`,title:nt.title,description:`Treino ${nt.title}`,videoUrl:null,youtubeId:null,duration:"30-40 min",type:"Treino"})}]};const ve=me.sections[0].modules;P(ve);let at=0;i&&(at=ve.findIndex(nt=>nt.id===i||nt.youtubeId===e),at===-1&&(at=0)),A(at);const He=ve[at];He&&u({title:He.title,youtubeId:He.youtubeId,description:He.description,duration:He.duration,level:me.level,instructor:me.instructor,category:((ae=J.categories)==null?void 0:ae[0])||"Treino"})}y(J),m(me);break}z(!1)}};if(window.trainingsData)D();else{const W=document.createElement("script");W.src="/trainings.js",W.onload=D,W.onerror=()=>{console.error("Erro ao carregar arquivo de treinos"),z(!1)},document.head.appendChild(W)}},[i,e,s.pathname]),U.useEffect(()=>{if(o!=null&&o.youtubeId&&Y){const D=aa(be,"comments"),W=jp(D,Mp("createdAt","desc")),ae=Jk(W,J=>{const me=J.docs.map(Re=>({id:Re.id,...Re.data()})).filter(Re=>Re.videoId===o.youtubeId);O(me)});return()=>ae()}},[o==null?void 0:o.youtubeId,be,Y]);const fe=(D,W)=>{var ae;if(!Y){window.confirm(`Este conteúdo é exclusivo para assinantes do Team HIIT.

Gostaria de se tornar um assinante para acessar todo o conteúdo?`)&&window.open("https://wa.me/5511999999999?text=Olá! Gostaria de me tornar assinante do Team HIIT","_blank");return}A(W),u({title:D.title,youtubeId:D.youtubeId,description:D.description,duration:D.duration,level:(h==null?void 0:h.level)||"Todos os níveis",instructor:(h==null?void 0:h.instructor)||"Team HIIT",category:((ae=g==null?void 0:g.categories)==null?void 0:ae[0])||"Treino"}),t(`/video/${D.id}/${D.youtubeId}`,{replace:!0})},Q=D=>{k.current&&k.current.scrollBy({left:D*300,behavior:"smooth"})},se=async D=>{if(D.preventDefault(),!V){alert("Você precisa estar logado para comentar");return}if(!Y){alert("Apenas assinantes podem comentar");return}if(x.trim()){N(!0);try{await Pp(aa(be,"comments"),{videoId:o.youtubeId,text:x.trim(),userId:V.uid,userName:V.displayName||V.email,userPhoto:V.photoURL||null,createdAt:lu()}),I("")}catch(W){console.error("Erro ao adicionar comentário:",W),alert("Erro ao adicionar comentário. Tente novamente.")}finally{N(!1)}}},ce=D=>{if(!D)return"Agora";const W=D.toDate(),J=Math.floor((new Date-W)/(1e3*60));return J<1?"Agora":J<60?`${J}m atrás`:J<1440?`${Math.floor(J/60)}h atrás`:`${Math.floor(J/1440)}d atrás`},we=()=>{window.open("https://wa.me/5511999999999?text=Olá! Gostaria de me tornar assinante do Team HIIT","_blank")};return R||oe?p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsx("div",{className:"flex items-center justify-center h-96",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-400",children:"Carregando vídeo..."})]})})]}):!o||!h?p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsx("div",{className:"container mx-auto px-6 py-8 pt-24",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Vídeo não encontrado"}),p.jsx("button",{onClick:()=>t("/dashboard"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Voltar ao Dashboard"})]})})]}):p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsxs("div",{className:"w-full relative",style:{height:"50vh"},children:[p.jsx("img",{src:`/${h.image}`,alt:h.title,className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:p.jsxs("div",{className:"text-white text-center p-4",children:[p.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-2",children:h.title}),p.jsx("p",{className:"text-lg md:text-xl opacity-90 max-w-3xl mx-auto",children:h.description}),p.jsxs("div",{className:"mt-4 flex justify-center space-x-4",children:[p.jsxs("span",{className:"bg-orange-500 text-white px-4 py-2 rounded-full text-sm",children:[p.jsx(ti,{className:"w-4 h-4 inline mr-1"}),h.instructor]}),p.jsxs("span",{className:"bg-gray-700 text-white px-4 py-2 rounded-full text-sm",children:[p.jsx(hr,{className:"w-4 h-4 inline mr-1"}),h.duration]}),Y&&p.jsxs("span",{className:"bg-yellow-500 text-black px-4 py-2 rounded-full text-sm flex items-center",children:[p.jsx(is,{className:"w-4 h-4 mr-1"}),"Assinante"]})]})]})})]}),p.jsxs("div",{className:"container mx-auto px-6 py-8",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors",children:[p.jsx($p,{className:"w-5 h-5"}),"Voltar ao Dashboard"]})}),!Y&&p.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl shadow-lg p-6 mb-8",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(is,{className:"w-8 h-8 mr-4"}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-bold",children:"Conteúdo Exclusivo para Assinantes"}),p.jsx("p",{className:"text-white/90",children:"Torne-se assinante para acessar todos os vídeos e treinos do Team HIIT!"})]})]}),p.jsx("button",{onClick:we,className:"bg-white text-orange-500 hover:bg-gray-100 px-6 py-3 rounded-lg font-semibold transition-colors",children:"Assinar Agora"})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsxs("div",{className:"lg:col-span-2",children:[p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[p.jsx("h3",{className:"text-xl font-bold p-6 border-b border-gray-700 text-white",children:"Vídeo do Treino"}),p.jsx("div",{className:"p-6",children:Y?p.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:p.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${o.youtubeId}`,title:o.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):p.jsx("div",{className:"relative w-full bg-gray-900 rounded-lg flex items-center justify-center",style:{paddingBottom:"56.25%"},children:p.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white",children:[p.jsx(oa,{className:"w-16 h-16 mb-4 text-gray-400"}),p.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Conteúdo Exclusivo"}),p.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:"Este vídeo é exclusivo para assinantes do Team HIIT. Torne-se um assinante para acessar todo o conteúdo!"}),p.jsxs("button",{onClick:we,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-8 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 flex items-center",children:[p.jsx(is,{className:"w-5 h-5 mr-2"}),"Tornar-se Assinante"]})]})})})]}),Y&&p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg mt-6",children:[p.jsx("div",{className:"p-6 border-b border-gray-700",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx(ap,{className:"w-6 h-6 mr-3 text-gray-400"}),p.jsxs("h3",{className:"text-xl font-bold text-white",children:["Comentários (",ge.length,")"]})]})}),V?p.jsx("div",{className:"p-6 border-b border-gray-700",children:p.jsxs("form",{onSubmit:se,className:"flex space-x-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("img",{src:V.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(V.displayName||V.email)}&background=f97316&color=fff`,alt:V.displayName||V.email,className:"w-10 h-10 rounded-full"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("textarea",{value:x,onChange:D=>I(D.target.value),placeholder:"Adicione um comentário...",className:"w-full p-3 border border-gray-600 bg-gray-700 text-white rounded-lg resize-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:"3"}),p.jsx("div",{className:"flex justify-end mt-3",children:p.jsxs("button",{type:"submit",disabled:!x.trim()||M,className:"flex items-center bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",children:[p.jsx(VE,{className:"w-4 h-4 mr-2"}),M?"Enviando...":"Comentar"]})})]})]})}):p.jsxs("div",{className:"p-6 border-b border-gray-700 text-center",children:[p.jsx("p",{className:"text-gray-400 mb-4",children:"Faça login para comentar"}),p.jsx("button",{onClick:()=>t("/auth"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Fazer Login"})]}),p.jsx("div",{className:"p-6",children:ge.length>0?p.jsx("div",{className:"space-y-6",children:ge.map(D=>p.jsxs("div",{className:"flex space-x-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("img",{src:D.userPhoto||`https://ui-avatars.com/api/?name=${encodeURIComponent(D.userName)}&background=f97316&color=fff`,alt:D.userName,className:"w-10 h-10 rounded-full"})}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx("span",{className:"font-semibold text-white",children:D.userName}),p.jsx("span",{className:"text-sm text-gray-400",children:ce(D.createdAt)})]}),p.jsx("p",{className:"text-gray-300 leading-relaxed",children:D.text})]})]},D.id))}):p.jsxs("div",{className:"text-center py-8",children:[p.jsx(ap,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-400",children:"Seja o primeiro a comentar!"})]})})]})]}),p.jsxs("div",{className:"lg:col-span-1",children:[p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[p.jsx("h3",{className:"text-xl font-bold mb-6 text-white",children:"PRÓXIMOS TREINOS"}),p.jsxs("div",{className:"relative",children:[T.length>3&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>Q(-1),className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-1 rounded-full transition-all",children:p.jsx(ME,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>Q(1),className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-1 rounded-full transition-all",children:p.jsx(Kp,{className:"w-4 h-4"})})]}),p.jsx("div",{ref:k,className:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide",children:T.map((D,W)=>{const ae=D.youtubeId?`https://img.youtube.com/vi/${D.youtubeId}/mqdefault.jpg`:null,J=W===b;return p.jsxs("div",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-all relative ${J?"bg-orange-500/20 border border-orange-500":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>fe(D,W),children:[!Y&&p.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-10 rounded-lg",children:p.jsx(oa,{className:"w-4 h-4 text-white"})}),p.jsxs("div",{className:"flex-shrink-0 relative w-16 h-12 mr-3",children:[ae?p.jsx("img",{src:ae,alt:D.title,className:"w-full h-full object-cover rounded"}):p.jsx("div",{className:"w-full h-full bg-gray-600 flex items-center justify-center rounded",children:p.jsx(To,{className:"w-4 h-4 text-white"})}),J&&p.jsx("div",{className:"absolute inset-0 bg-orange-500/30 flex items-center justify-center rounded",children:p.jsx(To,{className:"w-3 h-3 text-white"})})]}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h4",{className:`font-semibold text-sm truncate ${J?"text-orange-400":"text-white"}`,children:D.title}),p.jsxs("div",{className:"flex items-center mt-1",children:[p.jsx(hr,{className:"w-3 h-3 text-gray-400 mr-1"}),p.jsx("span",{className:"text-gray-400 text-xs",children:D.duration})]})]})]},D.id)})})]})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[p.jsx("h3",{className:"text-xl font-bold mb-6 text-white",children:"Informações do Treino"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[p.jsxs("div",{className:"flex items-center text-gray-400",children:[p.jsx(hr,{className:"w-5 h-5 mr-3"}),p.jsx("span",{children:"Duração"})]}),p.jsx("span",{className:"font-semibold text-white",children:o.duration})]}),p.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[p.jsxs("div",{className:"flex items-center text-gray-400",children:[p.jsx(Sh,{className:"w-5 h-5 mr-3"}),p.jsx("span",{children:"Dificuldade"})]}),p.jsx("span",{className:"font-semibold text-white",children:o.level})]}),p.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[p.jsxs("div",{className:"flex items-center text-gray-400",children:[p.jsx(ti,{className:"w-5 h-5 mr-3"}),p.jsx("span",{children:"Categoria"})]}),p.jsx("span",{className:"font-semibold text-white",children:o.category})]}),p.jsxs("div",{className:"flex items-center justify-between py-3",children:[p.jsxs("div",{className:"flex items-center text-gray-400",children:[p.jsx(Sh,{className:"w-5 h-5 mr-3"}),p.jsx("span",{children:"Avaliação"})]}),p.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((D,W)=>p.jsx(Sh,{className:"w-4 h-4 text-yellow-400 fill-current"},W)),p.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"(4.8)"})]})]})]}),Y&&p.jsxs("div",{className:"flex items-center space-x-4 mt-6",children:[p.jsxs("button",{className:"flex items-center bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg transition-colors text-white",children:[p.jsx($S,{className:"w-5 h-5 mr-2"}),"Salvar"]}),p.jsxs("button",{className:"flex items-center bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg transition-colors text-white",children:[p.jsx(C2,{className:"w-5 h-5 mr-2"}),"Compartilhar"]})]})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mt-6",children:[p.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Equipamentos"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),p.jsx("span",{className:"text-gray-300",children:"Peso corporal"})]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),p.jsx("span",{className:"text-gray-300",children:"Tapete de exercício"})]})]})]}),!Y&&p.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl shadow-lg p-6 mt-6",children:p.jsxs("div",{className:"text-center",children:[p.jsx(is,{className:"w-12 h-12 mx-auto mb-4"}),p.jsx("h3",{className:"text-xl font-bold mb-2",children:"Torne-se Assinante"}),p.jsx("p",{className:"text-white/90 mb-4",children:"Acesse todos os treinos, comentários e conteúdo exclusivo do Team HIIT!"}),p.jsx("button",{onClick:we,className:"bg-white text-orange-500 hover:bg-gray-100 px-6 py-3 rounded-lg font-semibold transition-colors w-full",children:"Assinar Agora"})]})})]})]})]})]})}var nO="firebase",iO="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ai(nO,iO,"app");const rO={apiKey:"AIzaSyA0ZaV9EJl1z4hT0wd5EL-7RqG2slAE5Kg",authDomain:"comunidade-team-hiit.firebaseapp.com",projectId:"comunidade-team-hiit",storageBucket:"comunidade-team-hiit.firebasestorage.app",messagingSenderId:"106629704358",appId:"1:106629704358:web:7151af4773e2e4c3822267",measurementId:"G-9GDD249KT4"},gw=WE(rO),Kt=Lg(gw),sO=vs(gw);function aO(){const[i,e]=U.useState("feed"),[t,s]=U.useState(""),[o,u]=U.useState([]),[h,m]=U.useState(!0),[g,y]=U.useState({}),[b,A]=U.useState(null),[T,P]=U.useState({}),[R,z]=U.useState(null),[V,F]=U.useState({}),Y=["👍","❤️","😂","🔥","😢","🙏"],Z=vs();U.useEffect(()=>Mu(Z,k=>{z(k),k&&oe(k.uid)}),[Z]);const oe=async N=>{try{const k=aa(Kt,"userInteractions",N,"posts"),C=await Wm(k),be={};C.docs.forEach(fe=>{be[fe.id]=fe.data()}),F(be)}catch(k){console.error("Erro ao buscar interações do usuário:",k)}},ue=async()=>{m(!0);try{const N=aa(Kt,"posts"),k=jp(N,Mp("timestamp","desc")),C=await Wm(k),be=await Promise.all(C.docs.map(async fe=>{const Q={id:fe.id,...fe.data()};let se="";if(Q.authorId){const ae=cn(Kt,"users",Q.authorId),J=await _a(ae);J.exists()&&(se=J.data().photoURL||"")}const ce=aa(Kt,"posts",Q.id,"comments"),we=jp(ce,Mp("timestamp","asc")),D=await Wm(we),W=await Promise.all(D.docs.map(async ae=>{const J={id:ae.id,...ae.data()};let me="";if(J.authorId){const Re=cn(Kt,"users",J.authorId),ve=await _a(Re);ve.exists()&&(me=ve.data().photoURL||"")}return{...J,authorPhotoURL:me}}));return{...Q,authorPhotoURL:se,commentsList:W}}));u(be)}catch(N){console.error("Erro ao buscar posts:",N)}m(!1)},ge=(N,k)=>{u(C=>C.map(be=>be.id===N?{...be,...k}:be))};U.useEffect(()=>{ue()},[]);const O=async()=>{if(t.trim()!==""){if(!R){alert("Você precisa estar logado para fazer uma postagem.");return}try{await Pp(aa(Kt,"posts"),{content:t,author:R.displayName||R.email,authorId:R.uid,authorPhotoURL:R.photoURL||"",timestamp:lu(),likes:0,comments:0,reactions:{}}),s(""),ue()}catch(N){console.error("Erro ao adicionar documento: ",N)}}},x=async N=>{if(!R){alert("Você precisa estar logado para curtir uma postagem.");return}const k=V[N],C=k==null?void 0:k.liked;try{const be=cn(Kt,"posts",N),fe=cn(Kt,"userInteractions",R.uid,"posts",N);if(C){await eu(be,{likes:ar(-1)}),await cE(fe),F(se=>{const ce={...se};return delete ce[N],ce});const Q=o.find(se=>se.id===N);ge(N,{likes:Q.likes-1})}else{const Q=k!=null&&k.reaction?0:1;await eu(be,{likes:ar(Q),...(k==null?void 0:k.reaction)&&{[`reactions.${k.reaction}`]:ar(-1)}}),await Oo(fe,{liked:!0,timestamp:lu()}),F(we=>({...we,[N]:{liked:!0,timestamp:new Date}}));const se=o.find(we=>we.id===N),ce={likes:se.likes+Q};k!=null&&k.reaction&&(ce.reactions={...se.reactions,[k.reaction]:(se.reactions[k.reaction]||1)-1}),ge(N,ce)}}catch(be){console.error("Erro ao curtir post: ",be)}},I=async N=>{const k=g[N];if(!(!k||k.trim()==="")){if(!R){alert("Você precisa estar logado para comentar uma postagem.");return}try{const C=cn(Kt,"posts",N),be={content:k,author:R.displayName||R.email,authorId:R.uid,authorPhotoURL:R.photoURL||"",timestamp:lu()};await Pp(aa(Kt,"posts",N,"comments"),be),await eu(C,{comments:ar(1)});const fe=o.find(se=>se.id===N),Q={...be,id:Date.now().toString(),timestamp:new Date};ge(N,{comments:fe.comments+1,commentsList:[...fe.commentsList||[],Q]}),y(se=>({...se,[N]:""}))}catch(C){console.error("Erro ao comentar post: ",C)}}},M=async(N,k)=>{if(!R){alert("Você precisa estar logado para reagir a uma postagem.");return}const C=V[N],be=C==null?void 0:C.reaction;try{const fe=cn(Kt,"posts",N),Q=cn(Kt,"userInteractions",R.uid,"posts",N);if(be===k){await eu(fe,{[`reactions.${k}`]:ar(-1),...(C==null?void 0:C.liked)&&{likes:ar(-1)}}),await cE(Q),F(we=>{const D={...we};return delete D[N],D});const se=o.find(we=>we.id===N),ce={reactions:{...se.reactions,[k]:(se.reactions[k]||1)-1}};C!=null&&C.liked&&(ce.likes=se.likes-1),ge(N,ce)}else{const se={[`reactions.${k}`]:ar(1)};be&&(se[`reactions.${be}`]=ar(-1)),C!=null&&C.liked&&(se.likes=ar(-1)),await eu(fe,se),await Oo(Q,{reaction:k,timestamp:lu()}),F(D=>({...D,[N]:{reaction:k,timestamp:new Date}}));const ce=o.find(D=>D.id===N),we={reactions:{...ce.reactions,[k]:(ce.reactions[k]||0)+1}};be&&(we.reactions[be]=(ce.reactions[be]||1)-1),C!=null&&C.liked&&(we.likes=ce.likes-1),ge(N,we)}A(null)}catch(fe){console.error("Erro ao reagir ao post: ",fe)}};return p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsxs("div",{className:"container mx-auto px-6 py-8 pt-20",children:[p.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Comunidade"}),p.jsxs("div",{className:"flex border-b border-gray-700 mb-8",children:[p.jsx("button",{className:`px-6 py-3 text-lg font-medium ${i==="feed"?"border-b-2 border-red-500 text-red-500":"text-gray-400 hover:text-white"}`,onClick:()=>e("feed"),children:"Feed"}),p.jsx("button",{className:`px-6 py-3 text-lg font-medium ${i==="announcements"?"border-b-2 border-red-500 text-red-500":"text-gray-400 hover:text-white"}`,onClick:()=>e("announcements"),children:"Anúncios"})]}),i==="feed"&&p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[p.jsx("textarea",{className:"w-full p-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 mb-4",rows:"3",placeholder:R?"O que você está pensando?":"Faça login para postar...",value:t,onChange:N=>s(N.target.value),disabled:!R}),p.jsxs("button",{className:`w-full font-bold py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors duration-200 ${R?"bg-red-600 hover:bg-red-700":"bg-gray-600 cursor-not-allowed"}`,onClick:O,disabled:!R,children:[p.jsx(r2,{className:"w-5 h-5"}),p.jsx("span",{children:"Publicar"})]})]}),h?p.jsx("div",{className:"text-center text-gray-400",children:"Carregando posts..."}):o.length===0?p.jsx("div",{className:"text-center text-gray-400",children:"Nenhum post ainda. Seja o primeiro a publicar!"}):o.map(N=>{const k=V[N.id],C=k==null?void 0:k.liked,be=k==null?void 0:k.reaction;return p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 relative",children:[p.jsxs("div",{className:"flex items-center mb-4",children:[N.authorPhotoURL?p.jsx("img",{src:N.authorPhotoURL,alt:"User Avatar",className:"w-10 h-10 rounded-full mr-3 object-cover"}):p.jsx("div",{className:"w-10 h-10 rounded-full mr-3 bg-gray-700 flex items-center justify-center text-gray-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-semibold text-white",children:N.author}),p.jsx("p",{className:"text-sm text-gray-400",children:N.timestamp?new Date(N.timestamp.toDate()).toLocaleString():"Carregando..."})]})]}),p.jsx("p",{className:"text-gray-300 mb-4",children:N.content}),p.jsxs("div",{className:"flex justify-between items-center text-gray-400",children:[p.jsxs("div",{className:"flex space-x-4",children:[p.jsxs("button",{className:`flex items-center space-x-1 transition-colors ${R?C?"text-red-500 hover:text-red-400":"hover:text-red-500":"cursor-not-allowed text-gray-500"}`,onClick:()=>x(N.id),disabled:!R,children:[p.jsx(P2,{className:`w-4 h-4 ${C?"fill-current":""}`}),p.jsx("span",{className:"text-sm",children:N.likes||0})]}),p.jsxs("button",{className:`flex items-center space-x-1 ${R?"hover:text-blue-500":"cursor-not-allowed text-gray-500"}`,onClick:()=>P(fe=>({...fe,[N.id]:!fe[N.id]})),disabled:!R,children:[p.jsx(ap,{className:"w-4 h-4"})," ",p.jsx("span",{className:"text-sm",children:N.comments||0})]}),p.jsxs("div",{className:"relative",children:[p.jsx("button",{className:`flex items-center space-x-1 transition-colors ${R?be?"text-yellow-500 hover:text-yellow-400":"hover:text-yellow-500":"cursor-not-allowed text-gray-500"}`,onClick:()=>A(b===N.id?null:N.id),disabled:!R,children:be?p.jsx("span",{className:"text-lg",children:be}):p.jsx(k2,{className:"w-4 h-4"})}),b===N.id&&p.jsx("div",{className:"absolute bottom-full left-0 mb-2 bg-gray-700 p-2 rounded-lg shadow-lg flex space-x-1 z-10",children:Y.map(fe=>p.jsx("button",{className:`text-xl hover:scale-110 transition-transform ${be===fe?"bg-gray-600 rounded":""}`,onClick:()=>M(N.id,fe),children:fe},fe))})]})]}),p.jsx("div",{className:"flex space-x-2",children:Object.entries(N.reactions||{}).map(([fe,Q])=>Q>0&&p.jsxs("span",{className:"text-sm bg-gray-700 px-2 py-1 rounded-full",children:[fe," ",Q]},fe))})]}),p.jsxs("div",{className:"mt-4 flex items-center space-x-2",children:[p.jsx("input",{type:"text",className:`flex-grow p-2 rounded-lg ${R?"bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,placeholder:R?"Escreva um comentário...":"Faça login para comentar...",value:g[N.id]||"",onChange:fe=>y(Q=>({...Q,[N.id]:fe.target.value})),disabled:!R,onKeyPress:fe=>{fe.key==="Enter"&&I(N.id)}}),p.jsx("button",{className:`p-2 rounded-lg transition-colors duration-200 ${R?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,onClick:()=>I(N.id),disabled:!R,children:p.jsx(VE,{className:"w-5 h-5"})})]}),T[N.id]&&N.commentsList&&N.commentsList.length>0&&p.jsx("div",{className:"mt-4 border-t border-gray-700 pt-4 space-y-3",children:N.commentsList.map(fe=>p.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[p.jsxs("div",{className:"flex items-center mb-1",children:[fe.authorPhotoURL?p.jsx("img",{src:fe.authorPhotoURL,alt:"Commenter Avatar",className:"w-6 h-6 rounded-full mr-2 object-cover"}):p.jsx("div",{className:"w-6 h-6 rounded-full mr-2 bg-gray-600 flex items-center justify-center text-gray-400",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),p.jsx("p",{className:"font-semibold text-white text-sm",children:fe.author}),p.jsx("p",{className:"text-xs text-gray-400 ml-2",children:fe.timestamp?new Date(fe.timestamp.toDate?fe.timestamp.toDate():fe.timestamp).toLocaleString():"Carregando..."})]}),p.jsx("p",{className:"text-gray-300 text-sm",children:fe.content})]},fe.id))})]},N.id)})]}),i==="announcements"&&p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[p.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Anúncios Importantes"}),p.jsx("p",{className:"text-gray-300",children:"Aqui serão exibidos os anúncios da equipe Team HIIT. Fique ligado para novidades, eventos e promoções!"}),p.jsxs("ul",{className:"list-disc list-inside mt-4 text-gray-300",children:[p.jsx("li",{children:"Novo desafio de 30 dias começando em 01/07!"}),p.jsx("li",{children:"Live especial com o Renan Gonçalves na próxima semana."}),p.jsx("li",{children:"Desconto exclusivo para membros premium."})]})]})]})]})}function oO(){const[i,e]=U.useState(""),[t,s]=U.useState(""),[o,u]=U.useState(""),[h,m]=U.useState(""),[g,y]=U.useState(""),[b,A]=U.useState(!1),[T,P]=U.useState(!1),R=Er(),z=sO,V=async Z=>{Z.preventDefault(),y("");try{if(i)await CI(z,t,o),R("/community");else{const oe=await II(z,t,o);await T1(oe.user,{displayName:h}),await Oo(cn(Kt,"users",oe.user.uid),{email:oe.user.email,displayName:h,createdAt:new Date}),R("/community")}}catch(oe){console.error("Erro no handleSubmit:",oe),y(oe.message)}},F=async Z=>{Z.preventDefault(),y(""),P(!1);try{await NI(z,t),P(!0),y("E-mail de redefinição de senha enviado! Verifique sua caixa de entrada.")}catch(oe){console.error("Erro no handlePasswordReset:",oe),y(oe.message)}},Y=async()=>{y("");try{const Z=new or;console.log("Firebase Auth instance:",z);const oe=await JI(z,Z);await Oo(cn(Kt,"users",oe.user.uid),{email:oe.user.email,displayName:oe.user.displayName||oe.user.email,createdAt:new Date},{merge:!0}),R("/community")}catch(Z){console.error("Erro no handleGoogleSignIn:",Z),y(Z.message)}};return p.jsx("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100 flex items-center justify-center",children:p.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-md",children:[p.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:b?"Redefinir Senha":i?"Entrar":"Criar Conta"}),g&&p.jsx("p",{className:"text-red-500 text-center mb-4",children:g}),b?p.jsxs("form",{onSubmit:F,children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{htmlFor:"resetEmail",className:"block text-gray-300 text-sm font-bold mb-2",children:"E-mail para redefinição:"}),p.jsx("input",{type:"email",id:"resetEmail",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:t,onChange:Z=>s(Z.target.value),required:!0})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-200",children:"Enviar E-mail de Redefinição"}),p.jsx("button",{type:"button",onClick:()=>A(!1),className:"inline-block align-baseline font-bold text-sm text-gray-400 hover:text-gray-200",children:"Voltar para o Login"})]}),T&&p.jsx("p",{className:"text-green-500 text-center mt-4",children:"E-mail de redefinição enviado! Verifique sua caixa de entrada."})]}):p.jsxs("form",{onSubmit:V,children:[p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{htmlFor:"email",className:"block text-gray-300 text-sm font-bold mb-2",children:"E-mail:"}),p.jsx("input",{type:"email",id:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:t,onChange:Z=>s(Z.target.value),required:!0})]}),!i&&p.jsxs("div",{className:"mb-4",children:[p.jsx("label",{htmlFor:"displayName",className:"block text-gray-300 text-sm font-bold mb-2",children:"Nome de Exibição (opcional):"}),p.jsx("input",{type:"text",id:"displayName",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:h,onChange:Z=>m(Z.target.value)})]}),p.jsxs("div",{className:"mb-6",children:[p.jsx("label",{htmlFor:"password",className:"block text-gray-300 text-sm font-bold mb-2",children:"Senha:"}),p.jsx("input",{type:"password",id:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white mb-3 leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:o,onChange:Z=>u(Z.target.value),required:!0})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-200",children:i?"Entrar":"Registrar"}),p.jsx("button",{type:"button",onClick:()=>e(!i),className:"inline-block align-baseline font-bold text-sm text-red-500 hover:text-red-800",children:i?"Não tem uma conta? Crie uma!":"Já tem uma conta? Faça login!"})]}),i&&p.jsx("div",{className:"text-center mt-4",children:p.jsx("button",{type:"button",onClick:()=>A(!0),className:"inline-block align-baseline font-bold text-sm text-gray-400 hover:text-gray-200",children:"Esqueceu a senha?"})})]}),!b&&p.jsx("div",{className:"mt-6",children:p.jsxs("button",{type:"button",onClick:Y,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-200 flex items-center justify-center",children:[p.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"w-5 h-5 mr-2"}),"Entrar com Google"]})})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="firebasestorage.googleapis.com",vw="storageBucket",lO=2*60*1e3,uO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt extends ki{constructor(e,t,s=0){super(Jm(e),`Firebase Storage: ${t} (${Jm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Jm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yt||(yt={}));function Jm(i){return"storage/"+i}function Wg(){const i="An unknown error occurred, please check the error payload for server response.";return new vt(yt.UNKNOWN,i)}function cO(i){return new vt(yt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function hO(i){return new vt(yt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function dO(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new vt(yt.UNAUTHENTICATED,i)}function fO(){return new vt(yt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mO(i){return new vt(yt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function pO(){return new vt(yt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gO(){return new vt(yt.CANCELED,"User canceled the upload/download.")}function yO(i){return new vt(yt.INVALID_URL,"Invalid URL '"+i+"'.")}function vO(i){return new vt(yt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function _O(){return new vt(yt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vw+"' property when initializing the app?")}function bO(){return new vt(yt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function EO(){return new vt(yt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function TO(i){return new vt(yt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Vp(i){return new vt(yt.INVALID_ARGUMENT,i)}function _w(){return new vt(yt.APP_DELETED,"The Firebase app was deleted.")}function wO(i){return new vt(yt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function pu(i,e){return new vt(yt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function tu(i){throw new vt(yt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Nn.makeFromUrl(e,t)}catch{return new Nn(e,"")}if(s.path==="")return s;throw vO(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(oe){oe.path_=decodeURIComponent(oe.path)}const b="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",P=new RegExp(`^https?://${A}/${b}/b/${o}/o${T}`,"i"),R={bucket:1,path:3},z=t===yw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",F=new RegExp(`^https?://${z}/${o}/${V}`,"i"),Z=[{regex:m,indices:g,postModify:u},{regex:P,indices:R,postModify:y},{regex:F,indices:{bucket:1,path:2},postModify:y}];for(let oe=0;oe<Z.length;oe++){const ue=Z[oe],ge=ue.regex.exec(e);if(ge){const O=ge[ue.indices.bucket];let x=ge[ue.indices.path];x||(x=""),s=new Nn(O,x),ue.postModify(s);break}}if(s==null)throw yO(e);return s}}class xO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function g(){return m===2}let y=!1;function b(...V){y||(y=!0,e.apply(null,V))}function A(V){o=setTimeout(()=>{o=null,i(P,g())},V)}function T(){u&&clearTimeout(u)}function P(V,...F){if(y){T();return}if(V){T(),b.call(null,V,...F);return}if(g()||h){T(),b.call(null,V,...F);return}s<64&&(s*=2);let Z;m===1?(m=2,Z=0):Z=(s+Math.random())*1e3,A(Z)}let R=!1;function z(V){R||(R=!0,T(),!y&&(o!==null?(V||(m=2),clearTimeout(o),A(0)):V||(m=1)))}return A(0),u=setTimeout(()=>{h=!0,z(!0)},t),z}function SO(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(i){return i!==void 0}function NO(i){return typeof i=="object"&&!Array.isArray(i)}function Zg(i){return typeof i=="string"||i instanceof String}function hE(i){return Jg()&&i instanceof Blob}function Jg(){return typeof Blob<"u"}function dE(i,e,t,s){if(s<e)throw Vp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Vp(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function bw(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var da;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(da||(da={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t,s,o,u,h,m,g,y,b,A,T=!0,P=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=A,this.retry=T,this.isUsingEmulator=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,z)=>{this.resolve_=R,this.reject_=z,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Th(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===da.NO_ERROR,g=u.getStatus();if(!m||IO(g,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===da.ABORT;s(!1,new Th(!1,null,b));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new Th(y,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());RO(g)?u(g):u()}catch(g){h(g)}else if(m!==null){const g=Wg();g.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,g)):h(g)}else if(o.canceled){const g=this.appDelete_?_w():gO();h(g)}else{const g=pO();h(g)}};this.canceled_?t(!1,new Th(!1,null,!0)):this.backoffId_=AO(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&SO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Th{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function DO(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function kO(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OO(i,e){e&&(i["X-Firebase-GMPID"]=e)}function jO(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function MO(i,e,t,s,o,u,h=!0,m=!1){const g=bw(i.urlParams),y=i.url+g,b=Object.assign({},i.headers);return OO(b,e),DO(b,t),kO(b,u),jO(b,s),new CO(y,i.method,b,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function VO(...i){const e=PO();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(Jg())return new Blob(i);throw new vt(yt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function UO(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(i){if(typeof atob>"u")throw TO("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ep{constructor(e,t){this.data=e,this.contentType=t||null}}function zO(i,e){switch(i){case xi.RAW:return new ep(Ew(e));case xi.BASE64:case xi.BASE64URL:return new ep(Tw(i,e));case xi.DATA_URL:return new ep(qO(e),HO(e))}throw Wg()}function Ew(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function BO(i){let e;try{e=decodeURIComponent(i)}catch{throw pu(xi.DATA_URL,"Malformed data URL.")}return Ew(e)}function Tw(i,e){switch(i){case xi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw pu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case xi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw pu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=LO(e)}catch(o){throw o.message.includes("polyfill")?o:pu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class ww{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw pu(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=FO(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function qO(i){const e=new ww(i);return e.base64?Tw(xi.BASE64,e.rest):BO(e.rest)}function HO(i){return new ww(i).contentType}function FO(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,t){let s=0,o="";hE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(hE(this.data_)){const s=this.data_,o=UO(s,e,t);return o===null?null:new ns(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new ns(s,!0)}}static getBlob(...e){if(Jg()){const t=e.map(s=>s instanceof ns?s.data_:s);return new ns(VO.apply(null,t))}else{const t=e.map(h=>Zg(h)?zO(xi.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new ns(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(i){let e;try{e=JSON.parse(i)}catch{return null}return NO(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GO(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function $O(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function Aw(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(i,e){return e}class un{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||KO}}let wh=null;function QO(i){return!Zg(i)||i.length<2?i:Aw(i)}function Sw(){if(wh)return wh;const i=[];i.push(new un("bucket")),i.push(new un("generation")),i.push(new un("metageneration")),i.push(new un("name","fullPath",!0));function e(u,h){return QO(h)}const t=new un("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new un("size");return o.xform=s,i.push(o),i.push(new un("timeCreated")),i.push(new un("updated")),i.push(new un("md5Hash",null,!0)),i.push(new un("cacheControl",null,!0)),i.push(new un("contentDisposition",null,!0)),i.push(new un("contentEncoding",null,!0)),i.push(new un("contentLanguage",null,!0)),i.push(new un("contentType",null,!0)),i.push(new un("metadata","customMetadata",!0)),wh=i,wh}function YO(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new Nn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function XO(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return YO(s,i),s}function Rw(i,e,t){const s=xw(e);return s===null?null:XO(i,s,t)}function WO(i,e,t,s){const o=xw(e);if(o===null||!Zg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(y=>{const b=i.bucket,A=i.fullPath,T="/b/"+h(b)+"/o/"+h(A),P=ey(T,t,s),R=bw({alt:"media",token:y});return P+R})[0]}function ZO(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class Nw{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(i){if(!i)throw Wg()}function JO(i,e){function t(s,o){const u=Rw(i,o,e);return Iw(u!==null),u}return t}function e6(i,e){function t(s,o){const u=Rw(i,o,e);return Iw(u!==null),WO(u,o,i.host,i._protocol)}return t}function Cw(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=fO():o=dO():t.getStatus()===402?o=hO(i.bucket):t.getStatus()===403?o=mO(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function t6(i){const e=Cw(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=cO(i.path)),u.serverResponse=o.serverResponse,u}return t}function n6(i,e,t){const s=e.fullServerUrl(),o=ey(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Nw(o,u,e6(i,t),h);return m.errorHandler=t6(e),m}function i6(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function r6(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=i6(null,e)),s}function s6(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let Z="";for(let oe=0;oe<2;oe++)Z=Z+Math.random().toString().slice(2);return Z}const g=m();h["Content-Type"]="multipart/related; boundary="+g;const y=r6(e,s,o),b=ZO(y,t),A="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,T=`\r
--`+g+"--",P=ns.getBlob(A,s,T);if(P===null)throw bO();const R={name:y.fullPath},z=ey(u,i.host,i._protocol),V="POST",F=i.maxUploadRetryTime,Y=new Nw(z,V,JO(i,t),F);return Y.urlParams=R,Y.headers=h,Y.body=P.uploadData(),Y.errorHandler=Cw(e),Y}class a6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=da.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=da.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=da.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw tu("cannot .send() more than once");if(ys(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw tu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw tu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw tu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw tu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class o6 extends a6{initXhr(){this.xhr_.responseType="text"}}function Dw(){return new o6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t){this._service=e,t instanceof Nn?this._location=t:this._location=Nn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ba(e,t)}get root(){const e=new Nn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Aw(this._location.path)}get storage(){return this._service}get parent(){const e=GO(this._location.path);if(e===null)return null;const t=new Nn(this._location.bucket,e);return new ba(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw wO(e)}}function l6(i,e,t){i._throwIfRoot("uploadBytes");const s=s6(i.storage,i._location,Sw(),new ns(e,!0),t);return i.storage.makeRequestWithTokens(s,Dw).then(o=>({metadata:o,ref:i}))}function u6(i){i._throwIfRoot("getDownloadURL");const e=n6(i.storage,i._location,Sw());return i.storage.makeRequestWithTokens(e,Dw).then(t=>{if(t===null)throw EO();return t})}function c6(i,e){const t=$O(i._location.path,e),s=new Nn(i._location.bucket,t);return new ba(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(i){return/^[A-Za-z]+:\/\//.test(i)}function d6(i,e){return new ba(i,e)}function kw(i,e){if(i instanceof ty){const t=i;if(t._bucket==null)throw _O();const s=new ba(t,t._bucket);return e!=null?kw(s,e):s}else return e!==void 0?c6(i,e):i}function f6(i,e){if(e&&h6(e)){if(i instanceof ty)return d6(i,e);throw Vp("To use ref(service, url), the first argument must be a Storage instance.")}else return kw(i,e)}function fE(i,e){const t=e==null?void 0:e[vw];return t==null?null:Nn.makeFromBucketSpec(t,i)}function m6(i,e,t,s={}){i.host=`${e}:${t}`;const o=ys(e);o&&(Qp(`https://${i.host}/b`),Yp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:QE(u,i.app.options.projectId))}class ty{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=yw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=lO,this._maxUploadRetryTime=uO,this._requests=new Set,o!=null?this._bucket=Nn.makeFromBucketSpec(o,this._host):this._bucket=fE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Nn.makeFromBucketSpec(this._url,e):this._bucket=fE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){dE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ba(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new xO(_w());{const h=MO(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const mE="@firebase/storage",pE="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="storage";function p6(i,e,t){return i=ct(i),l6(i,e,t)}function g6(i){return i=ct(i),u6(i)}function y6(i,e){return i=ct(i),f6(i,e)}function v6(i=Zp(),e){i=ct(i);const s=od(i,Ow).getImmediate({identifier:e}),o=GE("storage");return o&&_6(s,...o),s}function _6(i,e,t,s={}){m6(i,e,t,s)}function b6(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new ty(t,s,o,e,Ta)}function E6(){ma(new us(Ow,b6,"PUBLIC").setMultipleInstances(!0)),Ai(mE,pE,""),Ai(mE,pE,"esm2017")}E6();function T6(){const i=vs(),e=v6(),t=Er(),[s,o]=U.useState(null),[u,h]=U.useState({completedWorkouts:0,completedWeeks:0,achievements:0}),[m,g]=U.useState(!1),[y,b]=U.useState(!0),[A,T]=U.useState(!1),[P,R]=U.useState(!1),[z,V]=U.useState(""),[F,Y]=U.useState({displayName:"",email:"",phone:"",photoURL:""}),[Z,oe]=U.useState(null);U.useEffect(()=>{const I=i.onAuthStateChanged(async M=>{if(M){o(M),Y({displayName:M.displayName||"",email:M.email||"",phone:"",photoURL:M.photoURL||""});try{const N=await _a(cn(Kt,"users",M.uid));if(N.exists()){const k=N.data();g(k.isSubscriber||!1),Y(C=>({...C,phone:k.phone||""})),h({completedWorkouts:k.completedWorkouts||0,completedWeeks:k.completedWeeks||0,achievements:k.achievements||0})}}catch(N){console.error("Erro ao buscar dados do usuário:",N)}}else o(null),t("/login");b(!1)});return()=>I()},[i,t]);const ue=async()=>{try{await w1(i),t("/login")}catch(I){console.error("Erro ao fazer logout:",I)}},ge=I=>{I.target.files[0]&&oe(I.target.files[0])},O=async()=>{if(s)try{R(!0),V("Atualizando perfil...");let I=F.photoURL;if(Z){V("Fazendo upload da foto...");const k=y6(e,`profile_pictures/${s.uid}/${Z.name}`);await p6(k,Z),I=await g6(k)}await T1(s,{displayName:F.displayName,photoURL:I});const M=cn(Kt,"users",s.uid);(await _a(M)).exists()?await Oo(M,{displayName:F.displayName,photoURL:I,phone:F.phone,updatedAt:new Date},{merge:!0}):await Oo(M,{email:s.email,displayName:F.displayName,photoURL:I,phone:F.phone,createdAt:new Date,isSubscriber:!1,completedWorkouts:0,completedWeeks:0,achievements:0}),Y(k=>({...k,photoURL:I})),oe(null),T(!1),V("Perfil atualizado com sucesso!"),setTimeout(()=>V(""),3e3)}catch(I){console.error("Erro ao atualizar perfil:",I),V(`Erro ao atualizar perfil: ${I.message}`)}finally{R(!1)}},x=I=>{const{name:M,value:N}=I.target;Y(k=>({...k,[M]:N}))};return y?p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsx("div",{className:"flex items-center justify-center h-96",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})})]}):s?p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsxs("div",{className:"container mx-auto px-6 py-8 pt-20",children:[p.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Meu Perfil"}),p.jsx("div",{className:"bg-gray-800 rounded-xl shadow-lg p-8 mb-6",children:p.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center text-white overflow-hidden",children:F.photoURL?p.jsx("img",{src:F.photoURL,alt:"Foto de perfil",className:"w-32 h-32 rounded-full object-cover"}):p.jsx(ti,{size:48})}),p.jsxs("label",{className:"absolute -bottom-1 -right-1 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors cursor-pointer",children:[p.jsx(YS,{size:16}),p.jsx("input",{type:"file",className:"hidden",onChange:ge,accept:"image/*"})]})]}),p.jsxs("div",{className:"flex-1 text-center md:text-left",children:[p.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[p.jsx("h2",{className:"text-2xl font-bold text-white",children:F.displayName||"Usuário"}),m&&p.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:[p.jsx(is,{size:14}),"Assinante"]})]}),p.jsx("p",{className:"text-gray-400 mb-4",children:F.email}),p.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[p.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[p.jsx("div",{className:"text-2xl font-bold text-red-500",children:u.completedWorkouts}),p.jsx("div",{className:"text-sm text-gray-400",children:"Treinos"})]}),p.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[p.jsx("div",{className:"text-2xl font-bold text-green-500",children:u.completedWeeks}),p.jsx("div",{className:"text-sm text-gray-400",children:"Semanas"})]}),p.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[p.jsx("div",{className:"text-2xl font-bold text-purple-500",children:u.achievements}),p.jsx("div",{className:"text-sm text-gray-400",children:"Conquistas"})]})]})]})]})}),p.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 p-2 rounded-lg",children:p.jsx(Uh,{className:"text-white",size:20})}),p.jsx("h3",{className:"text-xl font-semibold text-white",children:"Jornada HIIT"})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(op,{className:"text-red-500",size:20}),p.jsx("span",{className:"text-gray-300",children:"Treinos Concluídos"})]}),p.jsx("span",{className:"font-semibold text-red-500",children:u.completedWorkouts})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(rp,{className:"text-green-500",size:20}),p.jsx("span",{className:"text-gray-300",children:"Semanas Completas"})]}),p.jsx("span",{className:"font-semibold text-green-500",children:u.completedWeeks})]}),p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(jE,{className:"text-purple-500",size:20}),p.jsx("span",{className:"text-gray-300",children:"Conquistas"})]}),p.jsx("span",{className:"font-semibold text-purple-500",children:u.achievements})]})]}),p.jsx("button",{onClick:()=>t("/jornada-hiit"),className:"w-full mt-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 px-4 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200 font-medium",children:"Ver Jornada Completa"})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:"text-xl font-semibold text-white",children:"Informações da Conta"}),p.jsxs("button",{onClick:()=>T(!A),className:"flex items-center gap-2 text-red-500 hover:text-red-400 transition-colors",children:[p.jsx(E2,{size:16}),A?"Cancelar":"Editar"]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome Completo"}),A?p.jsx("input",{type:"text",name:"displayName",value:F.displayName,onChange:x,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Seu nome completo"}):p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-700 rounded-lg",children:[p.jsx(ti,{className:"text-gray-400",size:16}),p.jsx("span",{className:"text-gray-300",children:F.displayName||"Não informado"})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-700 rounded-lg",children:[p.jsx(m2,{className:"text-gray-400",size:16}),p.jsx("span",{className:"text-gray-300",children:F.email})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telefone"}),A?p.jsx("input",{type:"tel",name:"phone",value:F.phone,onChange:x,placeholder:"(11) 99999-9999",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"}):p.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-700 rounded-lg",children:[p.jsx(w2,{className:"text-gray-400",size:16}),p.jsx("span",{className:"text-gray-300",children:F.phone||"Não informado"})]})]})]}),A&&p.jsx("button",{onClick:O,disabled:P,className:"w-full mt-4 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:P?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Salvando..."]}):"Salvar Alterações"})]})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mt-6",children:[p.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Gerenciar Assinatura"}),p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("div",{className:`w-3 h-3 rounded-full ${m?"bg-green-500":"bg-red-500"}`}),p.jsx("span",{className:"font-medium text-white",children:m?"Plano Ativo":"Plano Inativo"})]}),p.jsx("p",{className:"text-gray-400 text-sm",children:m?"Você tem acesso completo a todos os treinos e funcionalidades.":"Assine para ter acesso completo à plataforma."})]}),p.jsx("button",{className:"bg-gradient-to-r from-green-600 to-red-600 text-white py-2 px-6 rounded-lg hover:from-green-700 hover:to-red-700 transition-all duration-200 font-medium",children:m?"Gerenciar Assinatura":"Assinar Agora"})]})]}),z&&p.jsx("div",{className:`mt-4 p-4 rounded-lg text-center ${z.includes("sucesso")?"bg-green-600 text-white":z.includes("Erro")?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:z}),p.jsx("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mt-6",children:p.jsxs("button",{onClick:ue,className:"flex items-center gap-2 text-red-500 hover:text-red-400 transition-colors font-medium",children:[p.jsx(sp,{size:20}),"Sair da Conta"]})})]})]}):p.jsx("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100 flex items-center justify-center",children:"Você precisa estar logado para ver esta página."})}const w6=()=>{const i=vs(),e=Er(),[t,s]=U.useState(null),[o,u]=U.useState({completedWorkouts:0,completedWeeks:0,achievements:0,totalMinutes:0,streak:0,level:1,xp:0}),[h,m]=U.useState(!0),g=[{id:"first_workout",title:"Primeiro Passo",description:"Complete seu primeiro treino",icon:p.jsx(op,{className:"w-8 h-8"}),requirement:1,type:"workouts",color:"from-blue-500 to-blue-600",unlocked:!1},{id:"week_warrior",title:"Guerreiro Semanal",description:"Complete uma semana inteira",icon:p.jsx(rp,{className:"w-8 h-8"}),requirement:1,type:"weeks",color:"from-green-500 to-green-600",unlocked:!1},{id:"fire_starter",title:"Iniciador de Fogo",description:"Complete 5 treinos",icon:p.jsx(I_,{className:"w-8 h-8"}),requirement:5,type:"workouts",color:"from-orange-500 to-red-500",unlocked:!1},{id:"lightning_bolt",title:"Raio Veloz",description:"Complete 10 treinos",icon:p.jsx(zE,{className:"w-8 h-8"}),requirement:10,type:"workouts",color:"from-yellow-500 to-orange-500",unlocked:!1},{id:"time_master",title:"Mestre do Tempo",description:"Acumule 60 minutos de treino",icon:p.jsx(hr,{className:"w-8 h-8"}),requirement:60,type:"minutes",color:"from-purple-500 to-purple-600",unlocked:!1},{id:"streak_master",title:"Sequência Perfeita",description:"Mantenha uma sequência de 7 dias",icon:p.jsx(UE,{className:"w-8 h-8"}),requirement:7,type:"streak",color:"from-pink-500 to-purple-500",unlocked:!1},{id:"month_champion",title:"Campeão Mensal",description:"Complete 4 semanas",icon:p.jsx(g2,{className:"w-8 h-8"}),requirement:4,type:"weeks",color:"from-indigo-500 to-purple-600",unlocked:!1},{id:"hiit_legend",title:"Lenda HIIT",description:"Complete 50 treinos",icon:p.jsx(is,{className:"w-8 h-8"}),requirement:50,type:"workouts",color:"from-yellow-400 to-yellow-600",unlocked:!1}],y=[{level:1,xpRequired:0,title:"Iniciante"},{level:2,xpRequired:100,title:"Aprendiz"},{level:3,xpRequired:250,title:"Praticante"},{level:4,xpRequired:500,title:"Experiente"},{level:5,xpRequired:1e3,title:"Veterano"},{level:6,xpRequired:2e3,title:"Expert"},{level:7,xpRequired:3500,title:"Mestre"},{level:8,xpRequired:5e3,title:"Lenda"}];U.useEffect(()=>{const R=i.onAuthStateChanged(async z=>{if(z){s(z);try{const V=await _a(cn(Kt,"users",z.uid));if(V.exists()){const F=V.data(),Y={completedWorkouts:F.completedWorkouts||0,completedWeeks:F.completedWeeks||0,achievements:F.achievements||0,totalMinutes:F.totalMinutes||0,streak:F.streak||0,level:F.level||1,xp:F.xp||0};u(Y)}}catch(V){console.error("Erro ao buscar dados do usuário:",V)}}else e("/login");m(!1)});return()=>R()},[i,e]);const b=g.map(R=>{let z=!1;switch(R.type){case"workouts":z=o.completedWorkouts>=R.requirement;break;case"weeks":z=o.completedWeeks>=R.requirement;break;case"minutes":z=o.totalMinutes>=R.requirement;break;case"streak":z=o.streak>=R.requirement;break}return{...R,unlocked:z}}),A=y.find(R=>o.xp>=R.xpRequired&&(y[R.level]?o.xp<y[R.level].xpRequired:!0))||y[0],T=y.find(R=>R.level===A.level+1),P=T?(o.xp-A.xpRequired)/(T.xpRequired-A.xpRequired)*100:100;return h?p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsx("div",{className:"flex items-center justify-center h-96",children:p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})})]}):p.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[p.jsx(In,{}),p.jsxs("div",{className:"container mx-auto px-6 py-8 pt-20",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[p.jsx("button",{onClick:()=>e("/profile"),className:"text-gray-400 hover:text-white transition-colors",children:p.jsx($p,{size:24})}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold text-white",children:"Jornada HIIT"}),p.jsx("p",{className:"text-gray-400",children:"Acompanhe seu progresso e conquistas"})]})]}),p.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-6 mb-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Nível ",A.level]}),p.jsx("p",{className:"text-red-100",children:A.title})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"text-red-100 text-sm",children:"XP"}),p.jsxs("p",{className:"text-2xl font-bold text-white",children:[o.xp,T&&` / ${T.xpRequired}`]})]})]}),T&&p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-sm text-red-100 mb-2",children:[p.jsxs("span",{children:["Progresso para ",T.title]}),p.jsxs("span",{children:[Math.round(P),"%"]})]}),p.jsx("div",{className:"w-full bg-red-800 rounded-full h-3",children:p.jsx("div",{className:"bg-white rounded-full h-3 transition-all duration-500",style:{width:`${P}%`}})})]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[p.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[p.jsx("div",{className:"bg-blue-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx(op,{className:"text-white",size:24})}),p.jsx("div",{className:"text-2xl font-bold text-white",children:o.completedWorkouts}),p.jsx("div",{className:"text-sm text-gray-400",children:"Treinos"})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[p.jsx("div",{className:"bg-green-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx(rp,{className:"text-white",size:24})}),p.jsx("div",{className:"text-2xl font-bold text-white",children:o.completedWeeks}),p.jsx("div",{className:"text-sm text-gray-400",children:"Semanas"})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[p.jsx("div",{className:"bg-purple-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx(U2,{className:"text-white",size:24})}),p.jsx("div",{className:"text-2xl font-bold text-white",children:o.totalMinutes}),p.jsx("div",{className:"text-sm text-gray-400",children:"Minutos"})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[p.jsx("div",{className:"bg-orange-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:p.jsx(I_,{className:"text-white",size:24})}),p.jsx("div",{className:"text-2xl font-bold text-white",children:o.streak}),p.jsx("div",{className:"text-sm text-gray-400",children:"Sequência"})]})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(Uh,{className:"text-yellow-500",size:24}),p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Conquistas"}),p.jsxs("span",{className:"bg-gray-700 text-gray-300 px-3 py-1 rounded-full text-sm",children:[b.filter(R=>R.unlocked).length," / ",g.length]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map(R=>p.jsxs("div",{className:`relative p-4 rounded-xl border-2 transition-all duration-300 ${R.unlocked?`bg-gradient-to-br ${R.color} border-transparent shadow-lg`:"bg-gray-700 border-gray-600"}`,children:[!R.unlocked&&p.jsx("div",{className:"absolute inset-0 bg-gray-900 bg-opacity-50 rounded-xl flex items-center justify-center",children:p.jsx(oa,{className:"text-gray-400",size:24})}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 ${R.unlocked?"bg-white bg-opacity-20":"bg-gray-600"}`,children:p.jsx("div",{className:R.unlocked?"text-white":"text-gray-400",children:R.icon})}),p.jsx("h3",{className:`font-bold mb-1 ${R.unlocked?"text-white":"text-gray-400"}`,children:R.title}),p.jsx("p",{className:`text-sm ${R.unlocked?"text-white text-opacity-80":"text-gray-500"}`,children:R.description}),R.unlocked&&p.jsx("div",{className:"mt-2",children:p.jsx(PE,{className:"text-white mx-auto",size:20})})]})]},R.id))})]}),p.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-8",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[p.jsx(Sh,{className:"text-yellow-500",size:24}),p.jsx("h2",{className:"text-2xl font-bold text-white",children:"Próximos Desafios"})]}),p.jsx("div",{className:"space-y-4",children:b.filter(R=>!R.unlocked).slice(0,3).map(R=>{let z=0,V=0;switch(R.type){case"workouts":V=o.completedWorkouts;break;case"weeks":V=o.completedWeeks;break;case"minutes":V=o.totalMinutes;break;case"streak":V=o.streak;break}return z=V/R.requirement*100,p.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-3",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${R.color} flex items-center justify-center`,children:p.jsx("div",{className:"text-white scale-75",children:R.icon})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-white",children:R.title}),p.jsx("p",{className:"text-sm text-gray-400",children:R.description})]})]}),p.jsx(Kp,{className:"text-gray-400",size:20})]}),p.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[p.jsx("span",{children:"Progresso"}),p.jsxs("span",{children:[V," / ",R.requirement]})]}),p.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:p.jsx("div",{className:`bg-gradient-to-r ${R.color} rounded-full h-2 transition-all duration-500`,style:{width:`${Math.min(z,100)}%`}})})]},R.id)})})]}),p.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-6 text-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Continue Assim!"}),p.jsx("p",{className:"text-purple-100 mb-4",children:o.completedWorkouts===0?"Comece sua jornada HIIT hoje mesmo! Cada treino te deixa mais forte.":o.completedWorkouts<5?"Você está no caminho certo! Continue treinando para desbloquear novas conquistas.":o.completedWorkouts<20?"Incrível progresso! Você está se tornando um verdadeiro atleta HIIT.":"Você é uma inspiração! Continue quebrando seus próprios recordes."}),p.jsx("button",{onClick:()=>e("/dashboard"),className:"bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Treinar Agora"})]})]})]})};function tp({children:i}){const[e,t]=U.useState(null),[s,o]=U.useState(!0),u=vs();return U.useEffect(()=>Mu(u,m=>{t(m),o(!1)}),[u]),s?p.jsx("div",{children:"Carregando..."}):e?i:p.jsx(SE,{to:"/auth",replace:!0})}function x6(){const{ToastContainer:i}=P1();return p.jsxs(p.Fragment,{children:[p.jsx(NS,{children:p.jsxs(rS,{children:[p.jsx(ei,{path:"/dashboard",element:p.jsx(QC,{})}),p.jsx(ei,{path:"/trainings/:id",element:p.jsx(eO,{})}),p.jsx(ei,{path:"/video/:moduleId/:videoId",element:p.jsx(Zm,{})}),p.jsx(ei,{path:"/video/:moduleId",element:p.jsx(Zm,{})}),p.jsx(ei,{path:"/player",element:p.jsx(Zm,{})}),p.jsx(ei,{path:"/auth",element:p.jsx(oO,{})}),p.jsx(ei,{path:"/community",element:p.jsx(tp,{children:p.jsx(aO,{})})}),p.jsx(ei,{path:"/profile",element:p.jsx(tp,{children:p.jsx(T6,{})})}),p.jsx(ei,{path:"/jornada-hiit",element:p.jsx(tp,{children:p.jsx(w6,{})})}),p.jsx(ei,{path:"/",element:p.jsx(SE,{to:"/dashboard",replace:!0})})]})}),p.jsx(i,{})]})}function A6(){return p.jsx(x6,{})}fA.createRoot(document.getElementById("root")).render(p.jsx(U.StrictMode,{children:p.jsx(GC,{children:p.jsx(A6,{})})}));
