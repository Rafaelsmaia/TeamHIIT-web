(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();var Bm={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function p2(){if(x_)return Zl;x_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:i,key:h,ref:o!==void 0?o:null,props:c}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var b_;function g2(){return b_||(b_=1,Bm.exports=p2()),Bm.exports}var f=g2(),qm={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function y2(){if(E_)return Pe;E_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,z={};function V(k,J,de){this.props=k,this.context=J,this.refs=z,this.updater=de||C}V.prototype.isReactComponent={},V.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},V.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function H(){}H.prototype=V.prototype;function K(k,J,de){this.props=k,this.context=J,this.refs=z,this.updater=de||C}var ee=K.prototype=new H;ee.constructor=K,A(ee,V.prototype),ee.isPureReactComponent=!0;var le=Array.isArray,pe={H:null,A:null,T:null,S:null,V:null},oe=Object.prototype.hasOwnProperty;function j(k,J,de,he,ce,U){return de=U.ref,{$$typeof:r,type:k,key:J,ref:de!==void 0?de:null,props:U}}function N(k,J){return j(k.type,J,void 0,void 0,void 0,k.props)}function R(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function D(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return J[de]})}var P=/\/+/g;function L(k,J){return typeof k=="object"&&k!==null&&k.key!=null?D(""+k.key):J.toString(36)}function I(){}function Ge(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(I,I):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Te(k,J,de,he,ce){var U=typeof k;(U==="undefined"||U==="boolean")&&(k=null);var W=!1;if(k===null)W=!0;else switch(U){case"bigint":case"string":case"number":W=!0;break;case"object":switch(k.$$typeof){case r:case e:W=!0;break;case b:return W=k._init,Te(W(k._payload),J,de,he,ce)}}if(W)return ce=ce(k),W=he===""?"."+L(k,0):he,le(ce)?(de="",W!=null&&(de=W.replace(P,"$&/")+"/"),Te(ce,J,de,"",function(me){return me})):ce!=null&&(R(ce)&&(ce=N(ce,de+(ce.key==null||k&&k.key===ce.key?"":(""+ce.key).replace(P,"$&/")+"/")+W)),J.push(ce)),1;W=0;var fe=he===""?".":he+":";if(le(k))for(var ge=0;ge<k.length;ge++)he=k[ge],U=fe+L(he,ge),W+=Te(he,J,de,U,ce);else if(ge=E(k),typeof ge=="function")for(k=ge.call(k),ge=0;!(he=k.next()).done;)he=he.value,U=fe+L(he,ge++),W+=Te(he,J,de,U,ce);else if(U==="object"){if(typeof k.then=="function")return Te(Ge(k),J,de,he,ce);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return W}function Q(k,J,de){if(k==null)return k;var he=[],ce=0;return Te(k,he,"","",function(U){return J.call(de,U,ce++)}),he}function ue(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var se=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function _e(){}return Pe.Children={map:Q,forEach:function(k,J,de){Q(k,function(){J.apply(this,arguments)},de)},count:function(k){var J=0;return Q(k,function(){J++}),J},toArray:function(k){return Q(k,function(J){return J})||[]},only:function(k){if(!R(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Pe.Component=V,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=K,Pe.StrictMode=i,Pe.Suspense=g,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return pe.H.useMemoCache(k)}},Pe.cache=function(k){return function(){return k.apply(null,arguments)}},Pe.cloneElement=function(k,J,de){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var he=A({},k.props),ce=k.key,U=void 0;if(J!=null)for(W in J.ref!==void 0&&(U=void 0),J.key!==void 0&&(ce=""+J.key),J)!oe.call(J,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&J.ref===void 0||(he[W]=J[W]);var W=arguments.length-2;if(W===1)he.children=de;else if(1<W){for(var fe=Array(W),ge=0;ge<W;ge++)fe[ge]=arguments[ge+2];he.children=fe}return j(k.type,ce,void 0,void 0,U,he)},Pe.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:c,_context:k},k},Pe.createElement=function(k,J,de){var he,ce={},U=null;if(J!=null)for(he in J.key!==void 0&&(U=""+J.key),J)oe.call(J,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ce[he]=J[he]);var W=arguments.length-2;if(W===1)ce.children=de;else if(1<W){for(var fe=Array(W),ge=0;ge<W;ge++)fe[ge]=arguments[ge+2];ce.children=fe}if(k&&k.defaultProps)for(he in W=k.defaultProps,W)ce[he]===void 0&&(ce[he]=W[he]);return j(k,U,void 0,void 0,null,ce)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(k){return{$$typeof:p,render:k}},Pe.isValidElement=R,Pe.lazy=function(k){return{$$typeof:b,_payload:{_status:-1,_result:k},_init:ue}},Pe.memo=function(k,J){return{$$typeof:y,type:k,compare:J===void 0?null:J}},Pe.startTransition=function(k){var J=pe.T,de={};pe.T=de;try{var he=k(),ce=pe.S;ce!==null&&ce(de,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(_e,se)}catch(U){se(U)}finally{pe.T=J}},Pe.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()},Pe.use=function(k){return pe.H.use(k)},Pe.useActionState=function(k,J,de){return pe.H.useActionState(k,J,de)},Pe.useCallback=function(k,J){return pe.H.useCallback(k,J)},Pe.useContext=function(k){return pe.H.useContext(k)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(k,J){return pe.H.useDeferredValue(k,J)},Pe.useEffect=function(k,J,de){var he=pe.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(k,J)},Pe.useId=function(){return pe.H.useId()},Pe.useImperativeHandle=function(k,J,de){return pe.H.useImperativeHandle(k,J,de)},Pe.useInsertionEffect=function(k,J){return pe.H.useInsertionEffect(k,J)},Pe.useLayoutEffect=function(k,J){return pe.H.useLayoutEffect(k,J)},Pe.useMemo=function(k,J){return pe.H.useMemo(k,J)},Pe.useOptimistic=function(k,J){return pe.H.useOptimistic(k,J)},Pe.useReducer=function(k,J,de){return pe.H.useReducer(k,J,de)},Pe.useRef=function(k){return pe.H.useRef(k)},Pe.useState=function(k){return pe.H.useState(k)},Pe.useSyncExternalStore=function(k,J,de){return pe.H.useSyncExternalStore(k,J,de)},Pe.useTransition=function(){return pe.H.useTransition()},Pe.version="19.1.0",Pe}var w_;function qp(){return w_||(w_=1,qm.exports=y2()),qm.exports}var M=qp(),Hm={exports:{}},Jl={},Fm={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function v2(){return T_||(T_=1,function(r){function e(Q,ue){var se=Q.length;Q.push(ue);e:for(;0<se;){var _e=se-1>>>1,k=Q[_e];if(0<o(k,ue))Q[_e]=ue,Q[se]=k,se=_e;else break e}}function t(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var ue=Q[0],se=Q.pop();if(se!==ue){Q[0]=se;e:for(var _e=0,k=Q.length,J=k>>>1;_e<J;){var de=2*(_e+1)-1,he=Q[de],ce=de+1,U=Q[ce];if(0>o(he,se))ce<k&&0>o(U,he)?(Q[_e]=U,Q[ce]=se,_e=ce):(Q[_e]=he,Q[de]=se,_e=de);else if(ce<k&&0>o(U,se))Q[_e]=U,Q[ce]=se,_e=ce;else break e}}return ue}function o(Q,ue){var se=Q.sortIndex-ue.sortIndex;return se!==0?se:Q.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();r.unstable_now=function(){return h.now()-p}}var g=[],y=[],b=1,T=null,E=3,C=!1,A=!1,z=!1,V=!1,H=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function le(Q){for(var ue=t(y);ue!==null;){if(ue.callback===null)i(y);else if(ue.startTime<=Q)i(y),ue.sortIndex=ue.expirationTime,e(g,ue);else break;ue=t(y)}}function pe(Q){if(z=!1,le(Q),!A)if(t(g)!==null)A=!0,oe||(oe=!0,L());else{var ue=t(y);ue!==null&&Te(pe,ue.startTime-Q)}}var oe=!1,j=-1,N=5,R=-1;function D(){return V?!0:!(r.unstable_now()-R<N)}function P(){if(V=!1,oe){var Q=r.unstable_now();R=Q;var ue=!0;try{e:{A=!1,z&&(z=!1,K(j),j=-1),C=!0;var se=E;try{t:{for(le(Q),T=t(g);T!==null&&!(T.expirationTime>Q&&D());){var _e=T.callback;if(typeof _e=="function"){T.callback=null,E=T.priorityLevel;var k=_e(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof k=="function"){T.callback=k,le(Q),ue=!0;break t}T===t(g)&&i(g),le(Q)}else i(g);T=t(g)}if(T!==null)ue=!0;else{var J=t(y);J!==null&&Te(pe,J.startTime-Q),ue=!1}}break e}finally{T=null,E=se,C=!1}ue=void 0}}finally{ue?L():oe=!1}}}var L;if(typeof ee=="function")L=function(){ee(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ge=I.port2;I.port1.onmessage=P,L=function(){Ge.postMessage(null)}}else L=function(){H(P,0)};function Te(Q,ue){j=H(function(){Q(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return E},r.unstable_next=function(Q){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var se=E;E=ue;try{return Q()}finally{E=se}},r.unstable_requestPaint=function(){V=!0},r.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var se=E;E=Q;try{return ue()}finally{E=se}},r.unstable_scheduleCallback=function(Q,ue,se){var _e=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?_e+se:_e):se=_e,Q){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=se+k,Q={id:b++,callback:ue,priorityLevel:Q,startTime:se,expirationTime:k,sortIndex:-1},se>_e?(Q.sortIndex=se,e(y,Q),t(g)===null&&Q===t(y)&&(z?(K(j),j=-1):z=!0,Te(pe,se-_e))):(Q.sortIndex=k,e(g,Q),A||C||(A=!0,oe||(oe=!0,L()))),Q},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(Q){var ue=E;return function(){var se=E;E=ue;try{return Q.apply(this,arguments)}finally{E=se}}}}(Gm)),Gm}var A_;function _2(){return A_||(A_=1,Fm.exports=v2()),Fm.exports}var $m={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function x2(){if(S_)return an;S_=1;var r=qp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:g,containerInfo:y,implementation:b}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,b)},an.flushSync=function(g){var y=h.T,b=i.p;try{if(h.T=null,i.p=2,g)return g()}finally{h.T=y,i.p=b,i.d.f()}},an.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(g,y))},an.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},an.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,T=p(b,y.crossOrigin),E=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?i.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:C}):b==="script"&&i.d.X(g,{crossOrigin:T,integrity:E,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},an.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(g)},an.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,T=p(b,y.crossOrigin);i.d.L(g,b,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},an.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=p(y.as,y.crossOrigin);i.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(g)},an.requestFormReset=function(g){i.d.r(g)},an.unstable_batchedUpdates=function(g,y){return g(y)},an.useFormState=function(g,y,b){return h.H.useFormState(g,y,b)},an.useFormStatus=function(){return h.H.useHostTransitionStatus()},an.version="19.1.0",an}var N_;function b2(){if(N_)return $m.exports;N_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$m.exports=x2(),$m.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function E2(){if(R_)return Jl;R_=1;var r=_2(),e=qp(),t=b2();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function c(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function h(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(c(n)!==n)throw Error(i(188))}function g(n){var s=n.alternate;if(!s){if(s=c(n),s===null)throw Error(i(188));return s!==n?null:n}for(var a=n,l=s;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return p(d),n;if(m===l)return p(d),s;m=m.sibling}throw Error(i(188))}if(a.return!==l.return)a=d,l=m;else{for(var x=!1,w=d.child;w;){if(w===a){x=!0,a=d,l=m;break}if(w===l){x=!0,l=d,a=m;break}w=w.sibling}if(!x){for(w=m.child;w;){if(w===a){x=!0,a=m,l=d;break}if(w===l){x=!0,l=m,a=d;break}w=w.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?n:s}function y(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=y(n),s!==null)return s;n=n.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=P&&n[P]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Ge(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case A:return"Fragment";case V:return"Profiler";case z:return"StrictMode";case pe:return"Suspense";case oe:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case C:return"Portal";case ee:return(n.displayName||"Context")+".Provider";case K:return(n._context.displayName||"Context")+".Consumer";case le:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return s=n.displayName||null,s!==null?s:Ge(n.type)||"Memo";case N:s=n._payload,n=n._init;try{return Ge(n(s))}catch{}}return null}var Te=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},_e=[],k=-1;function J(n){return{current:n}}function de(n){0>k||(n.current=_e[k],_e[k]=null,k--)}function he(n,s){k++,_e[k]=n.current,n.current=s}var ce=J(null),U=J(null),W=J(null),fe=J(null);function ge(n,s){switch(he(W,s),he(U,n),he(ce,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Qv(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Qv(s),n=Yv(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}de(ce),he(ce,n)}function me(){de(ce),de(U),de(W)}function Ae(n){n.memoizedState!==null&&he(fe,n);var s=ce.current,a=Yv(s,n.type);s!==a&&(he(U,n),he(ce,a))}function Ie(n){U.current===n&&(de(ce),de(U)),fe.current===n&&(de(fe),Kl._currentValue=se)}var Me=Object.prototype.hasOwnProperty,Ue=r.unstable_scheduleCallback,wt=r.unstable_cancelCallback,Pn=r.unstable_shouldYield,zr=r.unstable_requestPaint,Mt=r.unstable_now,Sa=r.unstable_getCurrentPriorityLevel,Ri=r.unstable_ImmediatePriority,Br=r.unstable_UserBlockingPriority,Ii=r.unstable_NormalPriority,Bd=r.unstable_LowPriority,Na=r.unstable_IdlePriority,$o=r.log,Kc=r.unstable_setDisableYieldValue,yt=null,et=null;function Tn(n){if(typeof $o=="function"&&Kc(n),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(yt,n)}catch{}}var rn=Math.clz32?Math.clz32:Ci,Qc=Math.log,qd=Math.LN2;function Ci(n){return n>>>=0,n===0?32:31-(Qc(n)/qd|0)|0}var ji=256,Di=4194304;function Jn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ra(n,s,a){var l=n.pendingLanes;if(l===0)return 0;var d=0,m=n.suspendedLanes,x=n.pingedLanes;n=n.warmLanes;var w=l&134217727;return w!==0?(l=w&~m,l!==0?d=Jn(l):(x&=w,x!==0?d=Jn(x):a||(a=w&~n,a!==0&&(d=Jn(a))))):(w=l&~m,w!==0?d=Jn(w):x!==0?d=Jn(x):a||(a=l&~n,a!==0&&(d=Jn(a)))),d===0?0:s!==0&&s!==d&&(s&m)===0&&(m=d&-d,a=s&-s,m>=a||m===32&&(a&4194048)!==0)?s:d}function ki(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Ko(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qo(){var n=ji;return ji<<=1,(ji&4194048)===0&&(ji=256),n}function Yo(){var n=Di;return Di<<=1,(Di&62914560)===0&&(Di=4194304),n}function qr(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Hr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Xo(n,s,a,l,d,m){var x=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var w=n.entanglements,O=n.expirationTimes,$=n.hiddenUpdates;for(a=x&~a;0<a;){var te=31-rn(a),ie=1<<te;w[te]=0,O[te]=-1;var Y=$[te];if(Y!==null)for($[te]=null,te=0;te<Y.length;te++){var X=Y[te];X!==null&&(X.lane&=-536870913)}a&=~ie}l!==0&&hr(n,l,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(x&~s))}function hr(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var l=31-rn(s);n.entangledLanes|=s,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Wo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var l=31-rn(a),d=1<<l;d&s|n[l]&s&&(n[l]|=s),a&=~d}}function Ds(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ia(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ks(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:m_(n.type))}function Yc(n,s){var a=ue.p;try{return ue.p=n,s()}finally{ue.p=a}}var ht=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ht,Rt="__reactProps$"+ht,Vn="__reactContainer$"+ht,Zo="__reactEvents$"+ht,Hd="__reactListeners$"+ht,Os="__reactHandles$"+ht,Xc="__reactResources$"+ht,Oi="__reactMarker$"+ht;function Ms(n){delete n[Pt],delete n[Rt],delete n[Zo],delete n[Hd],delete n[Os]}function Fr(n){var s=n[Pt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Vn]||a[Pt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Jv(n);n!==null;){if(a=n[Pt])return a;n=Jv(n)}return s}n=a,a=n.parentNode}return null}function dr(n){if(n=n[Pt]||n[Vn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function fr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function hn(n){var s=n[Xc];return s||(s=n[Xc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Tt(n){n[Oi]=!0}var Jo=new Set,Ca={};function er(n,s){Gr(n,s),Gr(n+"Capture",s)}function Gr(n,s){for(Ca[n]=s,n=0;n<s.length;n++)Jo.add(s[n])}var Wc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},Mi={};function Jc(n){return Me.call(Mi,n)?!0:Me.call(Zc,n)?!1:Wc.test(n)?Mi[n]=!0:(Zc[n]=!0,!1)}function Ps(n,s,a){if(Jc(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function mr(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Qt(n,s,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+l)}}var Pi,eu;function $r(n){if(Pi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Pi=s&&s[1]||"",eu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pi+n+eu}var ja=!1;function Da(n,s){if(!n||ja)return"";ja=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Y=X}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(X){Y=X}n.call(ie.prototype)}}else{try{throw Error()}catch(X){Y=X}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Y&&typeof X.stack=="string")return[X.stack,Y.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),x=m[0],w=m[1];if(x&&w){var O=x.split(`
`),$=w.split(`
`);for(d=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;d<$.length&&!$[d].includes("DetermineComponentFrameRoot");)d++;if(l===O.length||d===$.length)for(l=O.length-1,d=$.length-1;1<=l&&0<=d&&O[l]!==$[d];)d--;for(;1<=l&&0<=d;l--,d--)if(O[l]!==$[d]){if(l!==1||d!==1)do if(l--,d--,0>d||O[l]!==$[d]){var te=`
`+O[l].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=l&&0<=d);break}}}finally{ja=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?$r(a):""}function el(n){switch(n.tag){case 26:case 27:case 5:return $r(n.type);case 16:return $r("Lazy");case 13:return $r("Suspense");case 19:return $r("SuspenseList");case 0:case 15:return Da(n.type,!1);case 11:return Da(n.type.render,!1);case 1:return Da(n.type,!0);case 31:return $r("Activity");default:return""}}function ka(n){try{var s="";do s+=el(n),n=n.return;while(n);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function tl(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Fd(n){var s=tl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),l=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(x){l=""+x,m.call(this,x)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Oa(n){n._valueTracker||(n._valueTracker=Fd(n))}function nl(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return n&&(l=tl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(s.setValue(n),!0):!1}function Vi(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Gd=/[\n"\\]/g;function It(n){return n.replace(Gd,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function An(n,s,a,l,d,m,x,w){n.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.type=x:n.removeAttribute("type"),s!=null?x==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+dn(s)):n.value!==""+dn(s)&&(n.value=""+dn(s)):x!=="submit"&&x!=="reset"||n.removeAttribute("value"),s!=null?Vs(n,x,dn(s)):a!=null?Vs(n,x,dn(a)):l!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+dn(w):n.removeAttribute("name")}function Li(n,s,a,l,d,m,x,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||s!=null))return;a=a!=null?""+dn(a):"",s=s!=null?""+dn(s):a,w||s===n.value||(n.value=s),n.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=w?n.checked:!!l,n.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(n.name=x)}function Vs(n,s,a){s==="number"&&Vi(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Kr(n,s,a,l){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&l&&(n[a].defaultSelected=!0)}else{for(a=""+dn(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function rt(n,s,a){if(s!=null&&(s=""+dn(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+dn(a):""}function Ui(n,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(i(92));if(Te(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=dn(s),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Ln(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var zi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(n,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":l?n.setProperty(s,a):typeof a!="number"||a===0||zi.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function rl(n,s,a){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&tu(n,d,l)}else for(var m in s)s.hasOwnProperty(m)&&tu(n,m,s[m])}function sl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $d=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(n){return Kd.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Qr=null;function Un(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yr=null,Xr=null;function il(n){var s=dr(n);if(s&&(n=s.stateNode)){var a=n[Rt]||null;e:switch(n=s.stateNode,s.type){case"input":if(An(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+It(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==n&&l.form===n.form){var d=l[Rt]||null;if(!d)throw Error(i(90));An(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===n.form&&nl(l)}break e;case"textarea":rt(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Kr(n,!!a.multiple,s,!1)}}}var pr=!1;function nu(n,s,a){if(pr)return n(s,a);pr=!0;try{var l=n(s);return l}finally{if(pr=!1,(Yr!==null||Xr!==null)&&(Yu(),Yr&&(s=Yr,n=Xr,Xr=Yr=null,il(s),n)))for(s=0;s<n.length;s++)il(n[s])}}function Bi(n,s){var a=n.stateNode;if(a===null)return null;var l=a[Rt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(i(231,s,typeof a));return a}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zn=!1;if(tr)try{var qi={};Object.defineProperty(qi,"passive",{get:function(){zn=!0}}),window.addEventListener("test",qi,qi),window.removeEventListener("test",qi,qi)}catch{zn=!1}var gr=null,Ls=null,Wr=null;function al(){if(Wr)return Wr;var n,s=Ls,a=s.length,l,d="value"in gr?gr.value:gr.textContent,m=d.length;for(n=0;n<a&&s[n]===d[n];n++);var x=a-n;for(l=1;l<=x&&s[a-l]===d[m-l];l++);return Wr=d.slice(n,1<l?1-l:void 0)}function yr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function vr(){return!0}function ol(){return!1}function qt(n){function s(a,l,d,m,x){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=x,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(a=n[w],this[w]=a?a(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?vr:ol,this.isPropagationStopped=ol,this}return b(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=vr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=vr)},persist:function(){},isPersistent:vr}),s}var Ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=qt(Ze),Hi=b({},Ze,{view:0,detail:0}),ru=qt(Hi),Va,La,_r,Fi=b({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==_r&&(_r&&n.type==="mousemove"?(Va=n.screenX-_r.screenX,La=n.screenY-_r.screenY):La=Va=0,_r=n),Va)},movementY:function(n){return"movementY"in n?n.movementY:La}}),Bn=qt(Fi),su=b({},Fi,{dataTransfer:0}),Qd=qt(su),Gi=b({},Hi,{relatedTarget:0}),Ua=qt(Gi),ll=b({},Ze,{animationName:0,elapsedTime:0,pseudoElement:0}),za=qt(ll),iu=b({},Ze,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ba=qt(iu),Yd=b({},Ze,{data:0}),cl=qt(Yd),$i={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ul(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=ou[n])?!!s[n]:!1}function Ki(){return ul}var lu=b({},Hi,{key:function(n){if(n.key){var s=$i[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=yr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?au[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(n){return n.type==="keypress"?yr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?yr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qa=qt(lu),cu=b({},Fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=qt(cu),Zr=b({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),uu=qt(Zr),hu=b({},Ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),du=qt(hu),fu=b({},Fi,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ha=qt(fu),fn=b({},Ze,{newState:0,oldState:0}),mu=qt(fn),pu=[9,13,27,32],xr=tr&&"CompositionEvent"in window,u=null;tr&&"documentMode"in document&&(u=document.documentMode);var v=tr&&"TextEvent"in window&&!u,_=tr&&(!xr||u&&8<u&&11>=u),S=" ",F=!1;function Z(n,s){switch(n){case"keyup":return pu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ye(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var $e=!1;function Vt(n,s){switch(n){case"compositionend":return ye(s);case"keypress":return s.which!==32?null:(F=!0,S);case"textInput":return n=s.data,n===S&&F?null:n;default:return null}}function Ke(n,s){if($e)return n==="compositionend"||!xr&&Z(n,s)?(n=al(),Wr=Ls=gr=null,$e=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Ht={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Ht[n.type]:s==="textarea"}function Jr(n,s,a,l){Yr?Xr?Xr.push(l):Xr=[l]:Yr=l,s=th(s,"onChange"),0<s.length&&(a=new Pa("onChange","change",null,a,l),n.push({event:a,listeners:s}))}var Yt=null,br=null;function dl(n){Hv(n,0)}function gu(n){var s=fr(n);if(nl(s))return n}function uy(n,s){if(n==="change")return s}var hy=!1;if(tr){var Xd;if(tr){var Wd="oninput"in document;if(!Wd){var dy=document.createElement("div");dy.setAttribute("oninput","return;"),Wd=typeof dy.oninput=="function"}Xd=Wd}else Xd=!1;hy=Xd&&(!document.documentMode||9<document.documentMode)}function fy(){Yt&&(Yt.detachEvent("onpropertychange",my),br=Yt=null)}function my(n){if(n.propertyName==="value"&&gu(br)){var s=[];Jr(s,br,n,Un(n)),nu(dl,s)}}function Gw(n,s,a){n==="focusin"?(fy(),Yt=s,br=a,Yt.attachEvent("onpropertychange",my)):n==="focusout"&&fy()}function $w(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return gu(br)}function Kw(n,s){if(n==="click")return gu(s)}function Qw(n,s){if(n==="input"||n==="change")return gu(s)}function Yw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Sn=typeof Object.is=="function"?Object.is:Yw;function fl(n,s){if(Sn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Me.call(s,d)||!Sn(n[d],s[d]))return!1}return!0}function py(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function gy(n,s){var a=py(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=s&&l>=s)return{node:a,offset:s-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=py(a)}}function yy(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?yy(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function vy(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Vi(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Vi(n.document)}return s}function Zd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Xw=tr&&"documentMode"in document&&11>=document.documentMode,Fa=null,Jd=null,ml=null,ef=!1;function _y(n,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||Fa==null||Fa!==Vi(l)||(l=Fa,"selectionStart"in l&&Zd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ml&&fl(ml,l)||(ml=l,l=th(Jd,"onSelect"),0<l.length&&(s=new Pa("onSelect","select",null,s,a),n.push({event:s,listeners:l}),s.target=Fa)))}function Qi(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ga={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},tf={},xy={};tr&&(xy=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function Yi(n){if(tf[n])return tf[n];if(!Ga[n])return n;var s=Ga[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in xy)return tf[n]=s[a];return n}var by=Yi("animationend"),Ey=Yi("animationiteration"),wy=Yi("animationstart"),Ww=Yi("transitionrun"),Zw=Yi("transitionstart"),Jw=Yi("transitioncancel"),Ty=Yi("transitionend"),Ay=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function nr(n,s){Ay.set(n,s),er(s,[n])}var Sy=new WeakMap;function qn(n,s){if(typeof n=="object"&&n!==null){var a=Sy.get(n);return a!==void 0?a:(s={value:n,source:s,stack:ka(s)},Sy.set(n,s),s)}return{value:n,source:s,stack:ka(s)}}var Hn=[],$a=0,rf=0;function yu(){for(var n=$a,s=rf=$a=0;s<n;){var a=Hn[s];Hn[s++]=null;var l=Hn[s];Hn[s++]=null;var d=Hn[s];Hn[s++]=null;var m=Hn[s];if(Hn[s++]=null,l!==null&&d!==null){var x=l.pending;x===null?d.next=d:(d.next=x.next,x.next=d),l.pending=d}m!==0&&Ny(a,d,m)}}function vu(n,s,a,l){Hn[$a++]=n,Hn[$a++]=s,Hn[$a++]=a,Hn[$a++]=l,rf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function sf(n,s,a,l){return vu(n,s,a,l),_u(n)}function Ka(n,s){return vu(n,null,null,s),_u(n)}function Ny(n,s,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=n.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,d&&s!==null&&(d=31-rn(a),n=m.hiddenUpdates,l=n[d],l===null?n[d]=[s]:l.push(s),s.lane=a|536870912),m):null}function _u(n){if(50<Ul)throw Ul=0,hm=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Qa={};function eT(n,s,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(n,s,a,l){return new eT(n,s,a,l)}function af(n){return n=n.prototype,!(!n||!n.isReactComponent)}function es(n,s){var a=n.alternate;return a===null?(a=Nn(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ry(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function xu(n,s,a,l,d,m){var x=0;if(l=n,typeof n=="function")af(n)&&(x=1);else if(typeof n=="string")x=n2(n,a,ce.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=Nn(31,a,s,d),n.elementType=R,n.lanes=m,n;case A:return Xi(a.children,d,m,s);case z:x=8,d|=24;break;case V:return n=Nn(12,a,s,d|2),n.elementType=V,n.lanes=m,n;case pe:return n=Nn(13,a,s,d),n.elementType=pe,n.lanes=m,n;case oe:return n=Nn(19,a,s,d),n.elementType=oe,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case H:case ee:x=10;break e;case K:x=9;break e;case le:x=11;break e;case j:x=14;break e;case N:x=16,l=null;break e}x=29,a=Error(i(130,n===null?"null":typeof n,"")),l=null}return s=Nn(x,a,s,d),s.elementType=n,s.type=l,s.lanes=m,s}function Xi(n,s,a,l){return n=Nn(7,n,l,s),n.lanes=a,n}function of(n,s,a){return n=Nn(6,n,null,s),n.lanes=a,n}function lf(n,s,a){return s=Nn(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ya=[],Xa=0,bu=null,Eu=0,Fn=[],Gn=0,Wi=null,ts=1,ns="";function Zi(n,s){Ya[Xa++]=Eu,Ya[Xa++]=bu,bu=n,Eu=s}function Iy(n,s,a){Fn[Gn++]=ts,Fn[Gn++]=ns,Fn[Gn++]=Wi,Wi=n;var l=ts;n=ns;var d=32-rn(l)-1;l&=~(1<<d),a+=1;var m=32-rn(s)+d;if(30<m){var x=d-d%5;m=(l&(1<<x)-1).toString(32),l>>=x,d-=x,ts=1<<32-rn(s)+d|a<<d|l,ns=m+n}else ts=1<<m|a<<d|l,ns=n}function cf(n){n.return!==null&&(Zi(n,1),Iy(n,1,0))}function uf(n){for(;n===bu;)bu=Ya[--Xa],Ya[Xa]=null,Eu=Ya[--Xa],Ya[Xa]=null;for(;n===Wi;)Wi=Fn[--Gn],Fn[Gn]=null,ns=Fn[--Gn],Fn[Gn]=null,ts=Fn[--Gn],Fn[Gn]=null}var mn=null,vt=null,We=!1,Ji=null,Er=!1,hf=Error(i(519));function ea(n){var s=Error(i(418,""));throw yl(qn(s,n)),hf}function Cy(n){var s=n.stateNode,a=n.type,l=n.memoizedProps;switch(s[Pt]=n,s[Rt]=l,a){case"dialog":qe("cancel",s),qe("close",s);break;case"iframe":case"object":case"embed":qe("load",s);break;case"video":case"audio":for(a=0;a<Bl.length;a++)qe(Bl[a],s);break;case"source":qe("error",s);break;case"img":case"image":case"link":qe("error",s),qe("load",s);break;case"details":qe("toggle",s);break;case"input":qe("invalid",s),Li(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Oa(s);break;case"select":qe("invalid",s);break;case"textarea":qe("invalid",s),Ui(s,l.value,l.defaultValue,l.children),Oa(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Kv(s.textContent,a)?(l.popover!=null&&(qe("beforetoggle",s),qe("toggle",s)),l.onScroll!=null&&qe("scroll",s),l.onScrollEnd!=null&&qe("scrollend",s),l.onClick!=null&&(s.onclick=nh),s=!0):s=!1,s||ea(n)}function jy(n){for(mn=n.return;mn;)switch(mn.tag){case 5:case 13:Er=!1;return;case 27:case 3:Er=!0;return;default:mn=mn.return}}function pl(n){if(n!==mn)return!1;if(!We)return jy(n),We=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Nm(n.type,n.memoizedProps)),a=!a),a&&vt&&ea(n),jy(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(s===0){vt=sr(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;n=n.nextSibling}vt=null}}else s===27?(s=vt,ei(n.type)?(n=jm,jm=null,vt=n):vt=s):vt=mn?sr(n.stateNode.nextSibling):null;return!0}function gl(){vt=mn=null,We=!1}function Dy(){var n=Ji;return n!==null&&(vn===null?vn=n:vn.push.apply(vn,n),Ji=null),n}function yl(n){Ji===null?Ji=[n]:Ji.push(n)}var df=J(null),ta=null,rs=null;function Us(n,s,a){he(df,s._currentValue),s._currentValue=a}function ss(n){n._currentValue=df.current,de(df)}function ff(n,s,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),n===a)break;n=n.return}}function mf(n,s,a,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var x=d.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=d;for(var O=0;O<s.length;O++)if(w.context===s[O]){m.lanes|=a,w=m.alternate,w!==null&&(w.lanes|=a),ff(m.return,a,n),l||(x=null);break e}m=w.next}}else if(d.tag===18){if(x=d.return,x===null)throw Error(i(341));x.lanes|=a,m=x.alternate,m!==null&&(m.lanes|=a),ff(x,a,n),x=null}else x=d.child;if(x!==null)x.return=d;else for(x=d;x!==null;){if(x===n){x=null;break}if(d=x.sibling,d!==null){d.return=x.return,x=d;break}x=x.return}d=x}}function vl(n,s,a,l){n=null;for(var d=s,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var x=d.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var w=d.type;Sn(d.pendingProps.value,x.value)||(n!==null?n.push(w):n=[w])}}else if(d===fe.current){if(x=d.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Kl):n=[Kl])}d=d.return}n!==null&&mf(s,n,a,l),s.flags|=262144}function wu(n){for(n=n.firstContext;n!==null;){if(!Sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function na(n){ta=n,rs=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sn(n){return ky(ta,n)}function Tu(n,s){return ta===null&&na(n),ky(n,s)}function ky(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},rs===null){if(n===null)throw Error(i(308));rs=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else rs=rs.next=s;return a}var tT=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},nT=r.unstable_scheduleCallback,rT=r.unstable_NormalPriority,Ut={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new tT,data:new Map,refCount:0}}function _l(n){n.refCount--,n.refCount===0&&nT(rT,function(){n.controller.abort()})}var xl=null,gf=0,Wa=0,Za=null;function sT(n,s){if(xl===null){var a=xl=[];gf=0,Wa=vm(),Za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return gf++,s.then(Oy,Oy),s}function Oy(){if(--gf===0&&xl!==null){Za!==null&&(Za.status="fulfilled");var n=xl;xl=null,Wa=0,Za=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function iT(n,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return n.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var My=Q.S;Q.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&sT(n,s),My!==null&&My(n,s)};var ra=J(null);function yf(){var n=ra.current;return n!==null?n:lt.pooledCache}function Au(n,s){s===null?he(ra,ra.current):he(ra,s.pool)}function Py(){var n=yf();return n===null?null:{parent:Ut._currentValue,pool:n}}var bl=Error(i(460)),Vy=Error(i(474)),Su=Error(i(542)),vf={then:function(){}};function Ly(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Nu(){}function Uy(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Nu,Nu),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,By(n),n;default:if(typeof s.status=="string")s.then(Nu,Nu);else{if(n=lt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,By(n),n}throw El=s,bl}}var El=null;function zy(){if(El===null)throw Error(i(459));var n=El;return El=null,n}function By(n){if(n===bl||n===Su)throw Error(i(483))}var zs=!1;function _f(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Bs(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qs(n,s,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(tt&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=_u(n),Ny(n,null,a),s}return vu(n,l,s,a),_u(n)}function wl(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Wo(n,a)}}function bf(n,s){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=x:m=m.next=x,a=a.next}while(a!==null);m===null?d=m=s:m=m.next=s}else d=m=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var Ef=!1;function Tl(){if(Ef){var n=Za;if(n!==null)throw n}}function Al(n,s,a,l){Ef=!1;var d=n.updateQueue;zs=!1;var m=d.firstBaseUpdate,x=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var O=w,$=O.next;O.next=null,x===null?m=$:x.next=$,x=O;var te=n.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==x&&(w===null?te.firstBaseUpdate=$:w.next=$,te.lastBaseUpdate=O))}if(m!==null){var ie=d.baseState;x=0,te=$=O=null,w=m;do{var Y=w.lane&-536870913,X=Y!==w.lane;if(X?(Qe&Y)===Y:(l&Y)===Y){Y!==0&&Y===Wa&&(Ef=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var De=n,Ne=w;Y=s;var at=a;switch(Ne.tag){case 1:if(De=Ne.payload,typeof De=="function"){ie=De.call(at,ie,Y);break e}ie=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ne.payload,Y=typeof De=="function"?De.call(at,ie,Y):De,Y==null)break e;ie=b({},ie,Y);break e;case 2:zs=!0}}Y=w.callback,Y!==null&&(n.flags|=64,X&&(n.flags|=8192),X=d.callbacks,X===null?d.callbacks=[Y]:X.push(Y))}else X={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?($=te=X,O=ie):te=te.next=X,x|=Y;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;X=w,w=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);te===null&&(O=ie),d.baseState=O,d.firstBaseUpdate=$,d.lastBaseUpdate=te,m===null&&(d.shared.lanes=0),Xs|=x,n.lanes=x,n.memoizedState=ie}}function qy(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function Hy(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)qy(a[n],s)}var Ja=J(null),Ru=J(0);function Fy(n,s){n=hs,he(Ru,n),he(Ja,s),hs=n|s.baseLanes}function wf(){he(Ru,hs),he(Ja,Ja.current)}function Tf(){hs=Ru.current,de(Ja),de(Ru)}var Hs=0,Ve=null,st=null,Ct=null,Iu=!1,eo=!1,sa=!1,Cu=0,Sl=0,to=null,aT=0;function At(){throw Error(i(321))}function Af(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Sn(n[a],s[a]))return!1;return!0}function Sf(n,s,a,l,d,m){return Hs=m,Ve=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=n===null||n.memoizedState===null?N0:R0,sa=!1,m=a(l,d),sa=!1,eo&&(m=$y(s,a,l,d)),Gy(n),m}function Gy(n){Q.H=Pu;var s=st!==null&&st.next!==null;if(Hs=0,Ct=st=Ve=null,Iu=!1,Sl=0,to=null,s)throw Error(i(300));n===null||Ft||(n=n.dependencies,n!==null&&wu(n)&&(Ft=!0))}function $y(n,s,a,l){Ve=n;var d=0;do{if(eo&&(to=null),Sl=0,eo=!1,25<=d)throw Error(i(301));if(d+=1,Ct=st=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=fT,m=s(a,l)}while(eo);return m}function oT(){var n=Q.H,s=n.useState()[0];return s=typeof s.then=="function"?Nl(s):s,n=n.useState()[0],(st!==null?st.memoizedState:null)!==n&&(Ve.flags|=1024),s}function Nf(){var n=Cu!==0;return Cu=0,n}function Rf(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function If(n){if(Iu){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Iu=!1}Hs=0,Ct=st=Ve=null,eo=!1,Sl=Cu=0,to=null}function gn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ve.memoizedState=Ct=n:Ct=Ct.next=n,Ct}function jt(){if(st===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=st.next;var s=Ct===null?Ve.memoizedState:Ct.next;if(s!==null)Ct=s,st=n;else{if(n===null)throw Ve.alternate===null?Error(i(467)):Error(i(310));st=n,n={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Ct===null?Ve.memoizedState=Ct=n:Ct=Ct.next=n}return Ct}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(n){var s=Sl;return Sl+=1,to===null&&(to=[]),n=Uy(to,n,s),s=Ve,(Ct===null?s.memoizedState:Ct.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?N0:R0),n}function ju(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Nl(n);if(n.$$typeof===ee)return sn(n)}throw Error(i(438,String(n)))}function jf(n){var s=null,a=Ve.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Cf(),Ve.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),l=0;l<n;l++)a[l]=D;return s.index++,a}function is(n,s){return typeof s=="function"?s(n):s}function Du(n){var s=jt();return Df(s,st,n)}function Df(n,s,a){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var d=n.baseQueue,m=l.pending;if(m!==null){if(d!==null){var x=d.next;d.next=m.next,m.next=x}s.baseQueue=d=m,l.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{s=d.next;var w=x=null,O=null,$=s,te=!1;do{var ie=$.lane&-536870913;if(ie!==$.lane?(Qe&ie)===ie:(Hs&ie)===ie){var Y=$.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ie===Wa&&(te=!0);else if((Hs&Y)===Y){$=$.next,Y===Wa&&(te=!0);continue}else ie={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(w=O=ie,x=m):O=O.next=ie,Ve.lanes|=Y,Xs|=Y;ie=$.action,sa&&a(m,ie),m=$.hasEagerState?$.eagerState:a(m,ie)}else Y={lane:ie,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},O===null?(w=O=Y,x=m):O=O.next=Y,Ve.lanes|=ie,Xs|=ie;$=$.next}while($!==null&&$!==s);if(O===null?x=m:O.next=w,!Sn(m,n.memoizedState)&&(Ft=!0,te&&(a=Za,a!==null)))throw a;n.memoizedState=m,n.baseState=x,n.baseQueue=O,l.lastRenderedState=m}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function kf(n){var s=jt(),a=s.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=n;var l=a.dispatch,d=a.pending,m=s.memoizedState;if(d!==null){a.pending=null;var x=d=d.next;do m=n(m,x.action),x=x.next;while(x!==d);Sn(m,s.memoizedState)||(Ft=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),a.lastRenderedState=m}return[m,l]}function Ky(n,s,a){var l=Ve,d=jt(),m=We;if(m){if(a===void 0)throw Error(i(407));a=a()}else a=s();var x=!Sn((st||d).memoizedState,a);x&&(d.memoizedState=a,Ft=!0),d=d.queue;var w=Xy.bind(null,l,d,n);if(Rl(2048,8,w,[n]),d.getSnapshot!==s||x||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,no(9,ku(),Yy.bind(null,l,d,a,s),null),lt===null)throw Error(i(349));m||(Hs&124)!==0||Qy(l,s,a)}return a}function Qy(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ve.updateQueue,s===null?(s=Cf(),Ve.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Yy(n,s,a,l){s.value=a,s.getSnapshot=l,Wy(s)&&Zy(n)}function Xy(n,s,a){return a(function(){Wy(s)&&Zy(n)})}function Wy(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Sn(n,a)}catch{return!0}}function Zy(n){var s=Ka(n,2);s!==null&&Dn(s,n,2)}function Of(n){var s=gn();if(typeof n=="function"){var a=n;if(n=a(),sa){Tn(!0);try{a()}finally{Tn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:n},s}function Jy(n,s,a,l){return n.baseState=a,Df(n,st,typeof l=="function"?l:is)}function lT(n,s,a,l,d){if(Mu(n))throw Error(i(485));if(n=s.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){m.listeners.push(x)}};Q.T!==null?a(!0):m.isTransition=!1,l(m),a=s.pending,a===null?(m.next=s.pending=m,e0(s,m)):(m.next=a.next,s.pending=a.next=m)}}function e0(n,s){var a=s.action,l=s.payload,d=n.state;if(s.isTransition){var m=Q.T,x={};Q.T=x;try{var w=a(d,l),O=Q.S;O!==null&&O(x,w),t0(n,s,w)}catch($){Mf(n,s,$)}finally{Q.T=m}}else try{m=a(d,l),t0(n,s,m)}catch($){Mf(n,s,$)}}function t0(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){n0(n,s,l)},function(l){return Mf(n,s,l)}):n0(n,s,a)}function n0(n,s,a){s.status="fulfilled",s.value=a,r0(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,e0(n,a)))}function Mf(n,s,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,r0(s),s=s.next;while(s!==l)}n.action=null}function r0(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function s0(n,s){return s}function i0(n,s){if(We){var a=lt.formState;if(a!==null){e:{var l=Ve;if(We){if(vt){t:{for(var d=vt,m=Er;d.nodeType!==8;){if(!m){d=null;break t}if(d=sr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){vt=sr(d.nextSibling),l=d.data==="F!";break e}}ea(l)}l=!1}l&&(s=a[0])}}return a=gn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s0,lastRenderedState:s},a.queue=l,a=T0.bind(null,Ve,l),l.dispatch=a,l=Of(!1),m=zf.bind(null,Ve,!1,l.queue),l=gn(),d={state:s,dispatch:null,action:n,pending:null},l.queue=d,a=lT.bind(null,Ve,d,m,a),d.dispatch=a,l.memoizedState=n,[s,a,!1]}function a0(n){var s=jt();return o0(s,st,n)}function o0(n,s,a){if(s=Df(n,s,s0)[0],n=Du(is)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Nl(s)}catch(x){throw x===bl?Su:x}else l=s;s=jt();var d=s.queue,m=d.dispatch;return a!==s.memoizedState&&(Ve.flags|=2048,no(9,ku(),cT.bind(null,d,a),null)),[l,m,n]}function cT(n,s){n.action=s}function l0(n){var s=jt(),a=st;if(a!==null)return o0(s,a,n);jt(),s=s.memoizedState,a=jt();var l=a.queue.dispatch;return a.memoizedState=n,[s,l,!1]}function no(n,s,a,l){return n={tag:n,create:a,deps:l,inst:s,next:null},s=Ve.updateQueue,s===null&&(s=Cf(),Ve.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,s.lastEffect=n),n}function ku(){return{destroy:void 0,resource:void 0}}function c0(){return jt().memoizedState}function Ou(n,s,a,l){var d=gn();l=l===void 0?null:l,Ve.flags|=n,d.memoizedState=no(1|s,ku(),a,l)}function Rl(n,s,a,l){var d=jt();l=l===void 0?null:l;var m=d.memoizedState.inst;st!==null&&l!==null&&Af(l,st.memoizedState.deps)?d.memoizedState=no(s,m,a,l):(Ve.flags|=n,d.memoizedState=no(1|s,m,a,l))}function u0(n,s){Ou(8390656,8,n,s)}function h0(n,s){Rl(2048,8,n,s)}function d0(n,s){return Rl(4,2,n,s)}function f0(n,s){return Rl(4,4,n,s)}function m0(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function p0(n,s,a){a=a!=null?a.concat([n]):null,Rl(4,4,m0.bind(null,s,n),a)}function Pf(){}function g0(n,s){var a=jt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Af(s,l[1])?l[0]:(a.memoizedState=[n,s],n)}function y0(n,s){var a=jt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Af(s,l[1]))return l[0];if(l=n(),sa){Tn(!0);try{n()}finally{Tn(!1)}}return a.memoizedState=[l,s],l}function Vf(n,s,a){return a===void 0||(Hs&1073741824)!==0?n.memoizedState=s:(n.memoizedState=a,n=xv(),Ve.lanes|=n,Xs|=n,a)}function v0(n,s,a,l){return Sn(a,s)?a:Ja.current!==null?(n=Vf(n,a,l),Sn(n,s)||(Ft=!0),n):(Hs&42)===0?(Ft=!0,n.memoizedState=a):(n=xv(),Ve.lanes|=n,Xs|=n,s)}function _0(n,s,a,l,d){var m=ue.p;ue.p=m!==0&&8>m?m:8;var x=Q.T,w={};Q.T=w,zf(n,!1,s,a);try{var O=d(),$=Q.S;if($!==null&&$(w,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var te=iT(O,l);Il(n,s,te,jn(n))}else Il(n,s,l,jn(n))}catch(ie){Il(n,s,{then:function(){},status:"rejected",reason:ie},jn())}finally{ue.p=m,Q.T=x}}function uT(){}function Lf(n,s,a,l){if(n.tag!==5)throw Error(i(476));var d=x0(n).queue;_0(n,d,s,se,a===null?uT:function(){return b0(n),a(l)})}function x0(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:se},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function b0(n){var s=x0(n).next.queue;Il(n,s,{},jn())}function Uf(){return sn(Kl)}function E0(){return jt().memoizedState}function w0(){return jt().memoizedState}function hT(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=jn();n=Bs(a);var l=qs(s,n,a);l!==null&&(Dn(l,s,a),wl(l,s,a)),s={cache:pf()},n.payload=s;return}s=s.return}}function dT(n,s,a){var l=jn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Mu(n)?A0(s,a):(a=sf(n,s,a,l),a!==null&&(Dn(a,n,l),S0(a,s,l)))}function T0(n,s,a){var l=jn();Il(n,s,a,l)}function Il(n,s,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Mu(n))A0(s,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var x=s.lastRenderedState,w=m(x,a);if(d.hasEagerState=!0,d.eagerState=w,Sn(w,x))return vu(n,s,d,0),lt===null&&yu(),!1}catch{}finally{}if(a=sf(n,s,d,l),a!==null)return Dn(a,n,l),S0(a,s,l),!0}return!1}function zf(n,s,a,l){if(l={lane:2,revertLane:vm(),action:l,hasEagerState:!1,eagerState:null,next:null},Mu(n)){if(s)throw Error(i(479))}else s=sf(n,a,l,2),s!==null&&Dn(s,n,2)}function Mu(n){var s=n.alternate;return n===Ve||s!==null&&s===Ve}function A0(n,s){eo=Iu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function S0(n,s,a){if((a&4194048)!==0){var l=s.lanes;l&=n.pendingLanes,a|=l,s.lanes=a,Wo(n,a)}}var Pu={readContext:sn,use:ju,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},N0={readContext:sn,use:ju,useCallback:function(n,s){return gn().memoizedState=[n,s===void 0?null:s],n},useContext:sn,useEffect:u0,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Ou(4194308,4,m0.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Ou(4194308,4,n,s)},useInsertionEffect:function(n,s){Ou(4,2,n,s)},useMemo:function(n,s){var a=gn();s=s===void 0?null:s;var l=n();if(sa){Tn(!0);try{n()}finally{Tn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(n,s,a){var l=gn();if(a!==void 0){var d=a(s);if(sa){Tn(!0);try{a(s)}finally{Tn(!1)}}}else d=s;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=dT.bind(null,Ve,n),[l.memoizedState,n]},useRef:function(n){var s=gn();return n={current:n},s.memoizedState=n},useState:function(n){n=Of(n);var s=n.queue,a=T0.bind(null,Ve,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(n,s){var a=gn();return Vf(a,n,s)},useTransition:function(){var n=Of(!1);return n=_0.bind(null,Ve,n.queue,!0,!1),gn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var l=Ve,d=gn();if(We){if(a===void 0)throw Error(i(407));a=a()}else{if(a=s(),lt===null)throw Error(i(349));(Qe&124)!==0||Qy(l,s,a)}d.memoizedState=a;var m={value:a,getSnapshot:s};return d.queue=m,u0(Xy.bind(null,l,m,n),[n]),l.flags|=2048,no(9,ku(),Yy.bind(null,l,m,a,s),null),a},useId:function(){var n=gn(),s=lt.identifierPrefix;if(We){var a=ns,l=ts;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,s="«"+s+"R"+a,a=Cu++,0<a&&(s+="H"+a.toString(32)),s+="»"}else a=aT++,s="«"+s+"r"+a.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:Uf,useFormState:i0,useActionState:i0,useOptimistic:function(n){var s=gn();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=zf.bind(null,Ve,!0,a),a.dispatch=s,[n,s]},useMemoCache:jf,useCacheRefresh:function(){return gn().memoizedState=hT.bind(null,Ve)}},R0={readContext:sn,use:ju,useCallback:g0,useContext:sn,useEffect:h0,useImperativeHandle:p0,useInsertionEffect:d0,useLayoutEffect:f0,useMemo:y0,useReducer:Du,useRef:c0,useState:function(){return Du(is)},useDebugValue:Pf,useDeferredValue:function(n,s){var a=jt();return v0(a,st.memoizedState,n,s)},useTransition:function(){var n=Du(is)[0],s=jt().memoizedState;return[typeof n=="boolean"?n:Nl(n),s]},useSyncExternalStore:Ky,useId:E0,useHostTransitionStatus:Uf,useFormState:a0,useActionState:a0,useOptimistic:function(n,s){var a=jt();return Jy(a,st,n,s)},useMemoCache:jf,useCacheRefresh:w0},fT={readContext:sn,use:ju,useCallback:g0,useContext:sn,useEffect:h0,useImperativeHandle:p0,useInsertionEffect:d0,useLayoutEffect:f0,useMemo:y0,useReducer:kf,useRef:c0,useState:function(){return kf(is)},useDebugValue:Pf,useDeferredValue:function(n,s){var a=jt();return st===null?Vf(a,n,s):v0(a,st.memoizedState,n,s)},useTransition:function(){var n=kf(is)[0],s=jt().memoizedState;return[typeof n=="boolean"?n:Nl(n),s]},useSyncExternalStore:Ky,useId:E0,useHostTransitionStatus:Uf,useFormState:l0,useActionState:l0,useOptimistic:function(n,s){var a=jt();return st!==null?Jy(a,st,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:jf,useCacheRefresh:w0},ro=null,Cl=0;function Vu(n){var s=Cl;return Cl+=1,ro===null&&(ro=[]),Uy(ro,n,s)}function jl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Lu(n,s){throw s.$$typeof===T?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function I0(n){var s=n._init;return s(n._payload)}function C0(n){function s(q,B){if(n){var G=q.deletions;G===null?(q.deletions=[B],q.flags|=16):G.push(B)}}function a(q,B){if(!n)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function l(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function d(q,B){return q=es(q,B),q.index=0,q.sibling=null,q}function m(q,B,G){return q.index=G,n?(G=q.alternate,G!==null?(G=G.index,G<B?(q.flags|=67108866,B):G):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function x(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function w(q,B,G,ne){return B===null||B.tag!==6?(B=of(G,q.mode,ne),B.return=q,B):(B=d(B,G),B.return=q,B)}function O(q,B,G,ne){var be=G.type;return be===A?te(q,B,G.props.children,ne,G.key):B!==null&&(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===N&&I0(be)===B.type)?(B=d(B,G.props),jl(B,G),B.return=q,B):(B=xu(G.type,G.key,G.props,null,q.mode,ne),jl(B,G),B.return=q,B)}function $(q,B,G,ne){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=lf(G,q.mode,ne),B.return=q,B):(B=d(B,G.children||[]),B.return=q,B)}function te(q,B,G,ne,be){return B===null||B.tag!==7?(B=Xi(G,q.mode,ne,be),B.return=q,B):(B=d(B,G),B.return=q,B)}function ie(q,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=of(""+B,q.mode,G),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case E:return G=xu(B.type,B.key,B.props,null,q.mode,G),jl(G,B),G.return=q,G;case C:return B=lf(B,q.mode,G),B.return=q,B;case N:var ne=B._init;return B=ne(B._payload),ie(q,B,G)}if(Te(B)||L(B))return B=Xi(B,q.mode,G,null),B.return=q,B;if(typeof B.then=="function")return ie(q,Vu(B),G);if(B.$$typeof===ee)return ie(q,Tu(q,B),G);Lu(q,B)}return null}function Y(q,B,G,ne){var be=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return be!==null?null:w(q,B,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return G.key===be?O(q,B,G,ne):null;case C:return G.key===be?$(q,B,G,ne):null;case N:return be=G._init,G=be(G._payload),Y(q,B,G,ne)}if(Te(G)||L(G))return be!==null?null:te(q,B,G,ne,null);if(typeof G.then=="function")return Y(q,B,Vu(G),ne);if(G.$$typeof===ee)return Y(q,B,Tu(q,G),ne);Lu(q,G)}return null}function X(q,B,G,ne,be){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get(G)||null,w(B,q,""+ne,be);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case E:return q=q.get(ne.key===null?G:ne.key)||null,O(B,q,ne,be);case C:return q=q.get(ne.key===null?G:ne.key)||null,$(B,q,ne,be);case N:var ze=ne._init;return ne=ze(ne._payload),X(q,B,G,ne,be)}if(Te(ne)||L(ne))return q=q.get(G)||null,te(B,q,ne,be,null);if(typeof ne.then=="function")return X(q,B,G,Vu(ne),be);if(ne.$$typeof===ee)return X(q,B,G,Tu(B,ne),be);Lu(B,ne)}return null}function De(q,B,G,ne){for(var be=null,ze=null,Ee=B,Re=B=0,$t=null;Ee!==null&&Re<G.length;Re++){Ee.index>Re?($t=Ee,Ee=null):$t=Ee.sibling;var Xe=Y(q,Ee,G[Re],ne);if(Xe===null){Ee===null&&(Ee=$t);break}n&&Ee&&Xe.alternate===null&&s(q,Ee),B=m(Xe,B,Re),ze===null?be=Xe:ze.sibling=Xe,ze=Xe,Ee=$t}if(Re===G.length)return a(q,Ee),We&&Zi(q,Re),be;if(Ee===null){for(;Re<G.length;Re++)Ee=ie(q,G[Re],ne),Ee!==null&&(B=m(Ee,B,Re),ze===null?be=Ee:ze.sibling=Ee,ze=Ee);return We&&Zi(q,Re),be}for(Ee=l(Ee);Re<G.length;Re++)$t=X(Ee,q,Re,G[Re],ne),$t!==null&&(n&&$t.alternate!==null&&Ee.delete($t.key===null?Re:$t.key),B=m($t,B,Re),ze===null?be=$t:ze.sibling=$t,ze=$t);return n&&Ee.forEach(function(ii){return s(q,ii)}),We&&Zi(q,Re),be}function Ne(q,B,G,ne){if(G==null)throw Error(i(151));for(var be=null,ze=null,Ee=B,Re=B=0,$t=null,Xe=G.next();Ee!==null&&!Xe.done;Re++,Xe=G.next()){Ee.index>Re?($t=Ee,Ee=null):$t=Ee.sibling;var ii=Y(q,Ee,Xe.value,ne);if(ii===null){Ee===null&&(Ee=$t);break}n&&Ee&&ii.alternate===null&&s(q,Ee),B=m(ii,B,Re),ze===null?be=ii:ze.sibling=ii,ze=ii,Ee=$t}if(Xe.done)return a(q,Ee),We&&Zi(q,Re),be;if(Ee===null){for(;!Xe.done;Re++,Xe=G.next())Xe=ie(q,Xe.value,ne),Xe!==null&&(B=m(Xe,B,Re),ze===null?be=Xe:ze.sibling=Xe,ze=Xe);return We&&Zi(q,Re),be}for(Ee=l(Ee);!Xe.done;Re++,Xe=G.next())Xe=X(Ee,q,Re,Xe.value,ne),Xe!==null&&(n&&Xe.alternate!==null&&Ee.delete(Xe.key===null?Re:Xe.key),B=m(Xe,B,Re),ze===null?be=Xe:ze.sibling=Xe,ze=Xe);return n&&Ee.forEach(function(m2){return s(q,m2)}),We&&Zi(q,Re),be}function at(q,B,G,ne){if(typeof G=="object"&&G!==null&&G.type===A&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case E:e:{for(var be=G.key;B!==null;){if(B.key===be){if(be=G.type,be===A){if(B.tag===7){a(q,B.sibling),ne=d(B,G.props.children),ne.return=q,q=ne;break e}}else if(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===N&&I0(be)===B.type){a(q,B.sibling),ne=d(B,G.props),jl(ne,G),ne.return=q,q=ne;break e}a(q,B);break}else s(q,B);B=B.sibling}G.type===A?(ne=Xi(G.props.children,q.mode,ne,G.key),ne.return=q,q=ne):(ne=xu(G.type,G.key,G.props,null,q.mode,ne),jl(ne,G),ne.return=q,q=ne)}return x(q);case C:e:{for(be=G.key;B!==null;){if(B.key===be)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){a(q,B.sibling),ne=d(B,G.children||[]),ne.return=q,q=ne;break e}else{a(q,B);break}else s(q,B);B=B.sibling}ne=lf(G,q.mode,ne),ne.return=q,q=ne}return x(q);case N:return be=G._init,G=be(G._payload),at(q,B,G,ne)}if(Te(G))return De(q,B,G,ne);if(L(G)){if(be=L(G),typeof be!="function")throw Error(i(150));return G=be.call(G),Ne(q,B,G,ne)}if(typeof G.then=="function")return at(q,B,Vu(G),ne);if(G.$$typeof===ee)return at(q,B,Tu(q,G),ne);Lu(q,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(a(q,B.sibling),ne=d(B,G),ne.return=q,q=ne):(a(q,B),ne=of(G,q.mode,ne),ne.return=q,q=ne),x(q)):a(q,B)}return function(q,B,G,ne){try{Cl=0;var be=at(q,B,G,ne);return ro=null,be}catch(Ee){if(Ee===bl||Ee===Su)throw Ee;var ze=Nn(29,Ee,null,q.mode);return ze.lanes=ne,ze.return=q,ze}finally{}}}var so=C0(!0),j0=C0(!1),$n=J(null),wr=null;function Fs(n){var s=n.alternate;he(zt,zt.current&1),he($n,n),wr===null&&(s===null||Ja.current!==null||s.memoizedState!==null)&&(wr=n)}function D0(n){if(n.tag===22){if(he(zt,zt.current),he($n,n),wr===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(wr=n)}}else Gs()}function Gs(){he(zt,zt.current),he($n,$n.current)}function as(n){de($n),wr===n&&(wr=null),de(zt)}var zt=J(0);function Uu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Cm(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Bf(n,s,a,l){s=n.memoizedState,a=a(l,s),a=a==null?s:b({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var qf={enqueueSetState:function(n,s,a){n=n._reactInternals;var l=jn(),d=Bs(l);d.payload=s,a!=null&&(d.callback=a),s=qs(n,d,l),s!==null&&(Dn(s,n,l),wl(s,n,l))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var l=jn(),d=Bs(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=qs(n,d,l),s!==null&&(Dn(s,n,l),wl(s,n,l))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=jn(),l=Bs(a);l.tag=2,s!=null&&(l.callback=s),s=qs(n,l,a),s!==null&&(Dn(s,n,a),wl(s,n,a))}};function k0(n,s,a,l,d,m,x){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,x):s.prototype&&s.prototype.isPureReactComponent?!fl(a,l)||!fl(d,m):!0}function O0(n,s,a,l){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==n&&qf.enqueueReplaceState(s,s.state,null)}function ia(n,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(n=n.defaultProps){a===s&&(a=b({},a));for(var d in n)a[d]===void 0&&(a[d]=n[d])}return a}var zu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function M0(n){zu(n)}function P0(n){console.error(n)}function V0(n){zu(n)}function Bu(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function L0(n,s,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Hf(n,s,a){return a=Bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Bu(n,s)},a}function U0(n){return n=Bs(n),n.tag=3,n}function z0(n,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;n.payload=function(){return d(m)},n.callback=function(){L0(s,a,l)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(n.callback=function(){L0(s,a,l),typeof d!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function mT(n,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&vl(s,a,d,!0),a=$n.current,a!==null){switch(a.tag){case 13:return wr===null?fm():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===vf?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),pm(n,l,d)),!1;case 22:return a.flags|=65536,l===vf?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),pm(n,l,d)),!1}throw Error(i(435,a.tag))}return pm(n,l,d),fm(),!1}if(We)return s=$n.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==hf&&(n=Error(i(422),{cause:l}),yl(qn(n,a)))):(l!==hf&&(s=Error(i(423),{cause:l}),yl(qn(s,a))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=qn(l,a),d=Hf(n.stateNode,l,d),bf(n,d),_t!==4&&(_t=2)),!1;var m=Error(i(520),{cause:l});if(m=qn(m,a),Ll===null?Ll=[m]:Ll.push(m),_t!==4&&(_t=2),s===null)return!0;l=qn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=d&-d,a.lanes|=n,n=Hf(a.stateNode,l,n),bf(a,n),!1;case 1:if(s=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ws===null||!Ws.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=U0(d),z0(d,n,a,l),bf(a,d),!1}a=a.return}while(a!==null);return!1}var B0=Error(i(461)),Ft=!1;function Xt(n,s,a,l){s.child=n===null?j0(s,null,a,l):so(s,n.child,a,l)}function q0(n,s,a,l,d){a=a.render;var m=s.ref;if("ref"in l){var x={};for(var w in l)w!=="ref"&&(x[w]=l[w])}else x=l;return na(s),l=Sf(n,s,a,x,m,d),w=Nf(),n!==null&&!Ft?(Rf(n,s,d),os(n,s,d)):(We&&w&&cf(s),s.flags|=1,Xt(n,s,l,d),s.child)}function H0(n,s,a,l,d){if(n===null){var m=a.type;return typeof m=="function"&&!af(m)&&m.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=m,F0(n,s,m,l,d)):(n=xu(a.type,null,l,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!Wf(n,d)){var x=m.memoizedProps;if(a=a.compare,a=a!==null?a:fl,a(x,l)&&n.ref===s.ref)return os(n,s,d)}return s.flags|=1,n=es(m,l),n.ref=s.ref,n.return=s,s.child=n}function F0(n,s,a,l,d){if(n!==null){var m=n.memoizedProps;if(fl(m,l)&&n.ref===s.ref)if(Ft=!1,s.pendingProps=l=m,Wf(n,d))(n.flags&131072)!==0&&(Ft=!0);else return s.lanes=n.lanes,os(n,s,d)}return Ff(n,s,a,l,d)}function G0(n,s,a){var l=s.pendingProps,d=l.children,m=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=m!==null?m.baseLanes|a:a,n!==null){for(d=s.child=n.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;s.childLanes=m&~l}else s.childLanes=0,s.child=null;return $0(n,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Au(s,m!==null?m.cachePool:null),m!==null?Fy(s,m):wf(),D0(s);else return s.lanes=s.childLanes=536870912,$0(n,s,m!==null?m.baseLanes|a:a,a)}else m!==null?(Au(s,m.cachePool),Fy(s,m),Gs(),s.memoizedState=null):(n!==null&&Au(s,null),wf(),Gs());return Xt(n,s,d,a),s.child}function $0(n,s,a,l){var d=yf();return d=d===null?null:{parent:Ut._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},n!==null&&Au(s,null),wf(),D0(s),n!==null&&vl(n,s,l,!0),null}function qu(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Ff(n,s,a,l,d){return na(s),a=Sf(n,s,a,l,void 0,d),l=Nf(),n!==null&&!Ft?(Rf(n,s,d),os(n,s,d)):(We&&l&&cf(s),s.flags|=1,Xt(n,s,a,d),s.child)}function K0(n,s,a,l,d,m){return na(s),s.updateQueue=null,a=$y(s,l,a,d),Gy(n),l=Nf(),n!==null&&!Ft?(Rf(n,s,m),os(n,s,m)):(We&&l&&cf(s),s.flags|=1,Xt(n,s,a,m),s.child)}function Q0(n,s,a,l,d){if(na(s),s.stateNode===null){var m=Qa,x=a.contextType;typeof x=="object"&&x!==null&&(m=sn(x)),m=new a(l,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=qf,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=l,m.state=s.memoizedState,m.refs={},_f(s),x=a.contextType,m.context=typeof x=="object"&&x!==null?sn(x):Qa,m.state=s.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Bf(s,a,x,l),m.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(x=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),x!==m.state&&qf.enqueueReplaceState(m,m.state,null),Al(s,l,m,d),Tl(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(n===null){m=s.stateNode;var w=s.memoizedProps,O=ia(a,w);m.props=O;var $=m.context,te=a.contextType;x=Qa,typeof te=="object"&&te!==null&&(x=sn(te));var ie=a.getDerivedStateFromProps;te=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,te||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||$!==x)&&O0(s,m,l,x),zs=!1;var Y=s.memoizedState;m.state=Y,Al(s,l,m,d),Tl(),$=s.memoizedState,w||Y!==$||zs?(typeof ie=="function"&&(Bf(s,a,ie,l),$=s.memoizedState),(O=zs||k0(s,a,O,l,Y,$,x))?(te||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=$),m.props=l,m.state=$,m.context=x,l=O):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{m=s.stateNode,xf(n,s),x=s.memoizedProps,te=ia(a,x),m.props=te,ie=s.pendingProps,Y=m.context,$=a.contextType,O=Qa,typeof $=="object"&&$!==null&&(O=sn($)),w=a.getDerivedStateFromProps,($=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==ie||Y!==O)&&O0(s,m,l,O),zs=!1,Y=s.memoizedState,m.state=Y,Al(s,l,m,d),Tl();var X=s.memoizedState;x!==ie||Y!==X||zs||n!==null&&n.dependencies!==null&&wu(n.dependencies)?(typeof w=="function"&&(Bf(s,a,w,l),X=s.memoizedState),(te=zs||k0(s,a,te,l,Y,X,O)||n!==null&&n.dependencies!==null&&wu(n.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,O)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=X),m.props=l,m.state=X,m.context=O,l=te):(typeof m.componentDidUpdate!="function"||x===n.memoizedProps&&Y===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===n.memoizedProps&&Y===n.memoizedState||(s.flags|=1024),l=!1)}return m=l,qu(n,s),l=(s.flags&128)!==0,m||l?(m=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&l?(s.child=so(s,n.child,null,d),s.child=so(s,null,a,d)):Xt(n,s,a,d),s.memoizedState=m.state,n=s.child):n=os(n,s,d),n}function Y0(n,s,a,l){return gl(),s.flags|=256,Xt(n,s,a,l),s.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(n){return{baseLanes:n,cachePool:Py()}}function Kf(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=Kn),n}function X0(n,s,a){var l=s.pendingProps,d=!1,m=(s.flags&128)!==0,x;if((x=m)||(x=n!==null&&n.memoizedState===null?!1:(zt.current&2)!==0),x&&(d=!0,s.flags&=-129),x=(s.flags&32)!==0,s.flags&=-33,n===null){if(We){if(d?Fs(s):Gs(),We){var w=vt,O;if(O=w){e:{for(O=w,w=Er;O.nodeType!==8;){if(!w){w=null;break e}if(O=sr(O.nextSibling),O===null){w=null;break e}}w=O}w!==null?(s.memoizedState={dehydrated:w,treeContext:Wi!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},O=Nn(18,null,null,0),O.stateNode=w,O.return=s,s.child=O,mn=s,vt=null,O=!0):O=!1}O||ea(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return Cm(w)?s.lanes=32:s.lanes=536870912,null;as(s)}return w=l.children,l=l.fallback,d?(Gs(),d=s.mode,w=Hu({mode:"hidden",children:w},d),l=Xi(l,d,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,d=s.child,d.memoizedState=$f(a),d.childLanes=Kf(n,x,a),s.memoizedState=Gf,l):(Fs(s),Qf(s,w))}if(O=n.memoizedState,O!==null&&(w=O.dehydrated,w!==null)){if(m)s.flags&256?(Fs(s),s.flags&=-257,s=Yf(n,s,a)):s.memoizedState!==null?(Gs(),s.child=n.child,s.flags|=128,s=null):(Gs(),d=l.fallback,w=s.mode,l=Hu({mode:"visible",children:l.children},w),d=Xi(d,w,a,null),d.flags|=2,l.return=s,d.return=s,l.sibling=d,s.child=l,so(s,n.child,null,a),l=s.child,l.memoizedState=$f(a),l.childLanes=Kf(n,x,a),s.memoizedState=Gf,s=d);else if(Fs(s),Cm(w)){if(x=w.nextSibling&&w.nextSibling.dataset,x)var $=x.dgst;x=$,l=Error(i(419)),l.stack="",l.digest=x,yl({value:l,source:null,stack:null}),s=Yf(n,s,a)}else if(Ft||vl(n,s,a,!1),x=(a&n.childLanes)!==0,Ft||x){if(x=lt,x!==null&&(l=a&-a,l=(l&42)!==0?1:Ds(l),l=(l&(x.suspendedLanes|a))!==0?0:l,l!==0&&l!==O.retryLane))throw O.retryLane=l,Ka(n,l),Dn(x,n,l),B0;w.data==="$?"||fm(),s=Yf(n,s,a)}else w.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=O.treeContext,vt=sr(w.nextSibling),mn=s,We=!0,Ji=null,Er=!1,n!==null&&(Fn[Gn++]=ts,Fn[Gn++]=ns,Fn[Gn++]=Wi,ts=n.id,ns=n.overflow,Wi=s),s=Qf(s,l.children),s.flags|=4096);return s}return d?(Gs(),d=l.fallback,w=s.mode,O=n.child,$=O.sibling,l=es(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,$!==null?d=es($,d):(d=Xi(d,w,a,null),d.flags|=2),d.return=s,l.return=s,l.sibling=d,s.child=l,l=d,d=s.child,w=n.child.memoizedState,w===null?w=$f(a):(O=w.cachePool,O!==null?($=Ut._currentValue,O=O.parent!==$?{parent:$,pool:$}:O):O=Py(),w={baseLanes:w.baseLanes|a,cachePool:O}),d.memoizedState=w,d.childLanes=Kf(n,x,a),s.memoizedState=Gf,l):(Fs(s),a=n.child,n=a.sibling,a=es(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,n!==null&&(x=s.deletions,x===null?(s.deletions=[n],s.flags|=16):x.push(n)),s.child=a,s.memoizedState=null,a)}function Qf(n,s){return s=Hu({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Hu(n,s){return n=Nn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Yf(n,s,a){return so(s,n.child,null,a),n=Qf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function W0(n,s,a){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s),ff(n.return,s,a)}function Xf(n,s,a,l,d){var m=n.memoizedState;m===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=s,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function Z0(n,s,a){var l=s.pendingProps,d=l.revealOrder,m=l.tail;if(Xt(n,s,l.children,a),l=zt.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&W0(n,a,s);else if(n.tag===19)W0(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(he(zt,l),d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&Uu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Xf(s,!1,d,a,m);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&Uu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}Xf(s,!0,a,null,m);break;case"together":Xf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function os(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),Xs|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(vl(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,a=es(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=es(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Wf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&wu(n)))}function pT(n,s,a){switch(s.tag){case 3:ge(s,s.stateNode.containerInfo),Us(s,Ut,n.memoizedState.cache),gl();break;case 27:case 5:Ae(s);break;case 4:ge(s,s.stateNode.containerInfo);break;case 10:Us(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Fs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?X0(n,s,a):(Fs(s),n=os(n,s,a),n!==null?n.sibling:null);Fs(s);break;case 19:var d=(n.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(vl(n,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return Z0(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),he(zt,zt.current),l)break;return null;case 22:case 23:return s.lanes=0,G0(n,s,a);case 24:Us(s,Ut,n.memoizedState.cache)}return os(n,s,a)}function J0(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ft=!0;else{if(!Wf(n,a)&&(s.flags&128)===0)return Ft=!1,pT(n,s,a);Ft=(n.flags&131072)!==0}else Ft=!1,We&&(s.flags&1048576)!==0&&Iy(s,Eu,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var l=s.elementType,d=l._init;if(l=d(l._payload),s.type=l,typeof l=="function")af(l)?(n=ia(l,n),s.tag=1,s=Q0(null,s,l,n,a)):(s.tag=0,s=Ff(null,s,l,n,a));else{if(l!=null){if(d=l.$$typeof,d===le){s.tag=11,s=q0(null,s,l,n,a);break e}else if(d===j){s.tag=14,s=H0(null,s,l,n,a);break e}}throw s=Ge(l)||l,Error(i(306,s,""))}}return s;case 0:return Ff(n,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=ia(l,s.pendingProps),Q0(n,s,l,d,a);case 3:e:{if(ge(s,s.stateNode.containerInfo),n===null)throw Error(i(387));l=s.pendingProps;var m=s.memoizedState;d=m.element,xf(n,s),Al(s,l,null,a);var x=s.memoizedState;if(l=x.cache,Us(s,Ut,l),l!==m.cache&&mf(s,[Ut],a,!0),Tl(),l=x.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:x.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=Y0(n,s,l,a);break e}else if(l!==d){d=qn(Error(i(424)),s),yl(d),s=Y0(n,s,l,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(vt=sr(n.firstChild),mn=s,We=!0,Ji=null,Er=!0,a=j0(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(gl(),l===d){s=os(n,s,a);break e}Xt(n,s,l,a)}s=s.child}return s;case 26:return qu(n,s),n===null?(a=r_(s.type,null,s.pendingProps,null))?s.memoizedState=a:We||(a=s.type,n=s.pendingProps,l=rh(W.current).createElement(a),l[Pt]=s,l[Rt]=n,Zt(l,a,n),Tt(l),s.stateNode=l):s.memoizedState=r_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Ae(s),n===null&&We&&(l=s.stateNode=e_(s.type,s.pendingProps,W.current),mn=s,Er=!0,d=vt,ei(s.type)?(jm=d,vt=sr(l.firstChild)):vt=d),Xt(n,s,s.pendingProps.children,a),qu(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&We&&((d=l=vt)&&(l=HT(l,s.type,s.pendingProps,Er),l!==null?(s.stateNode=l,mn=s,vt=sr(l.firstChild),Er=!1,d=!0):d=!1),d||ea(s)),Ae(s),d=s.type,m=s.pendingProps,x=n!==null?n.memoizedProps:null,l=m.children,Nm(d,m)?l=null:x!==null&&Nm(d,x)&&(s.flags|=32),s.memoizedState!==null&&(d=Sf(n,s,oT,null,null,a),Kl._currentValue=d),qu(n,s),Xt(n,s,l,a),s.child;case 6:return n===null&&We&&((n=a=vt)&&(a=FT(a,s.pendingProps,Er),a!==null?(s.stateNode=a,mn=s,vt=null,n=!0):n=!1),n||ea(s)),null;case 13:return X0(n,s,a);case 4:return ge(s,s.stateNode.containerInfo),l=s.pendingProps,n===null?s.child=so(s,null,l,a):Xt(n,s,l,a),s.child;case 11:return q0(n,s,s.type,s.pendingProps,a);case 7:return Xt(n,s,s.pendingProps,a),s.child;case 8:return Xt(n,s,s.pendingProps.children,a),s.child;case 12:return Xt(n,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Us(s,s.type,l.value),Xt(n,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,na(s),d=sn(d),l=l(d),s.flags|=1,Xt(n,s,l,a),s.child;case 14:return H0(n,s,s.type,s.pendingProps,a);case 15:return F0(n,s,s.type,s.pendingProps,a);case 19:return Z0(n,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},n===null?(a=Hu(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=es(n.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return G0(n,s,a);case 24:return na(s),l=sn(Ut),n===null?(d=yf(),d===null&&(d=lt,m=pf(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),s.memoizedState={parent:l,cache:d},_f(s),Us(s,Ut,d)):((n.lanes&a)!==0&&(xf(n,s),Al(s,null,null,a),Tl()),d=n.memoizedState,m=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Us(s,Ut,l)):(l=m.cache,Us(s,Ut,l),l!==d.cache&&mf(s,[Ut],a,!0))),Xt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function ls(n){n.flags|=4}function ev(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!l_(s)){if(s=$n.current,s!==null&&((Qe&4194048)===Qe?wr!==null:(Qe&62914560)!==Qe&&(Qe&536870912)===0||s!==wr))throw El=vf,Vy;n.flags|=8192}}function Fu(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Yo():536870912,n.lanes|=s,lo|=s)}function Dl(n,s){if(!We)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function pt(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=a,s}function gT(n,s,a){var l=s.pendingProps;switch(uf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return a=s.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ss(Ut),me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(pl(s)?ls(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dy())),pt(s),null;case 26:return a=s.memoizedState,n===null?(ls(s),a!==null?(pt(s),ev(s,a)):(pt(s),s.flags&=-16777217)):a?a!==n.memoizedState?(ls(s),pt(s),ev(s,a)):(pt(s),s.flags&=-16777217):(n.memoizedProps!==l&&ls(s),pt(s),s.flags&=-16777217),null;case 27:Ie(s),a=W.current;var d=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ls(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return pt(s),null}n=ce.current,pl(s)?Cy(s):(n=e_(d,l,a),s.stateNode=n,ls(s))}return pt(s),null;case 5:if(Ie(s),a=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==l&&ls(s);else{if(!l){if(s.stateNode===null)throw Error(i(166));return pt(s),null}if(n=ce.current,pl(s))Cy(s);else{switch(d=rh(W.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}n[Pt]=s,n[Rt]=l;e:for(d=s.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===s)break e;for(;d.sibling===null;){if(d.return===null||d.return===s)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s.stateNode=n;e:switch(Zt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ls(s)}}return pt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==l&&ls(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(i(166));if(n=W.current,pl(s)){if(n=s.stateNode,a=s.memoizedProps,l=null,d=mn,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[Pt]=s,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Kv(n.nodeValue,a)),n||ea(s)}else n=rh(n).createTextNode(l),n[Pt]=s,s.stateNode=n}return pt(s),null;case 13:if(l=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=pl(s),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Pt]=s}else gl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),d=!1}else d=Dy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(as(s),s):(as(s),null)}if(as(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==n&&a&&(s.child.flags|=8192),Fu(s,s.updateQueue),pt(s),null;case 4:return me(),n===null&&Em(s.stateNode.containerInfo),pt(s),null;case 10:return ss(s.type),pt(s),null;case 19:if(de(zt),d=s.memoizedState,d===null)return pt(s),null;if(l=(s.flags&128)!==0,m=d.rendering,m===null)if(l)Dl(d,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Uu(n),m!==null){for(s.flags|=128,Dl(d,!1),n=m.updateQueue,s.updateQueue=n,Fu(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)Ry(a,n),a=a.sibling;return he(zt,zt.current&1|2),s.child}n=n.sibling}d.tail!==null&&Mt()>Ku&&(s.flags|=128,l=!0,Dl(d,!1),s.lanes=4194304)}else{if(!l)if(n=Uu(m),n!==null){if(s.flags|=128,l=!0,n=n.updateQueue,s.updateQueue=n,Fu(s,n),Dl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!We)return pt(s),null}else 2*Mt()-d.renderingStartTime>Ku&&a!==536870912&&(s.flags|=128,l=!0,Dl(d,!1),s.lanes=4194304);d.isBackwards?(m.sibling=s.child,s.child=m):(n=d.last,n!==null?n.sibling=m:s.child=m,d.last=m)}return d.tail!==null?(s=d.tail,d.rendering=s,d.tail=s.sibling,d.renderingStartTime=Mt(),s.sibling=null,n=zt.current,he(zt,l?n&1|2:n&1),s):(pt(s),null);case 22:case 23:return as(s),Tf(),l=s.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),a=s.updateQueue,a!==null&&Fu(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),n!==null&&de(ra),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ss(Ut),pt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function yT(n,s){switch(uf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ss(Ut),me(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Ie(s),null;case 13:if(as(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));gl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return de(zt),null;case 4:return me(),null;case 10:return ss(s.type),null;case 22:case 23:return as(s),Tf(),n!==null&&de(ra),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ss(Ut),null;case 25:return null;default:return null}}function tv(n,s){switch(uf(s),s.tag){case 3:ss(Ut),me();break;case 26:case 27:case 5:Ie(s);break;case 4:me();break;case 13:as(s);break;case 19:de(zt);break;case 10:ss(s.type);break;case 22:case 23:as(s),Tf(),n!==null&&de(ra);break;case 24:ss(Ut)}}function kl(n,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&n)===n){l=void 0;var m=a.create,x=a.inst;l=m(),x.destroy=l}a=a.next}while(a!==d)}}catch(w){ot(s,s.return,w)}}function $s(n,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&n)===n){var x=l.inst,w=x.destroy;if(w!==void 0){x.destroy=void 0,d=s;var O=a,$=w;try{$()}catch(te){ot(d,O,te)}}}l=l.next}while(l!==m)}}catch(te){ot(s,s.return,te)}}function nv(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Hy(s,a)}catch(l){ot(n,n.return,l)}}}function rv(n,s,a){a.props=ia(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ot(n,s,l)}}function Ol(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(d){ot(n,s,d)}}function Tr(n,s){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){ot(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){ot(n,s,d)}else a.current=null}function sv(n){var s=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){ot(n,n.return,d)}}function Zf(n,s,a){try{var l=n.stateNode;LT(l,n.type,a,s),l[Rt]=s}catch(d){ot(n,n.return,d)}}function iv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ei(n.type)||n.tag===4}function Jf(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||iv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ei(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function em(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=nh));else if(l!==4&&(l===27&&ei(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(em(n,s,a),n=n.sibling;n!==null;)em(n,s,a),n=n.sibling}function Gu(n,s,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(l!==4&&(l===27&&ei(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Gu(n,s,a),n=n.sibling;n!==null;)Gu(n,s,a),n=n.sibling}function av(n){var s=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Zt(s,l,a),s[Pt]=n,s[Rt]=a}catch(m){ot(n,n.return,m)}}var cs=!1,St=!1,tm=!1,ov=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function vT(n,s){if(n=n.containerInfo,Am=ch,n=vy(n),Zd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var x=0,w=-1,O=-1,$=0,te=0,ie=n,Y=null;t:for(;;){for(var X;ie!==a||d!==0&&ie.nodeType!==3||(w=x+d),ie!==m||l!==0&&ie.nodeType!==3||(O=x+l),ie.nodeType===3&&(x+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Y=ie,ie=X;for(;;){if(ie===n)break t;if(Y===a&&++$===d&&(w=x),Y===m&&++te===l&&(O=x),(X=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=X}a=w===-1||O===-1?null:{start:w,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sm={focusedElem:n,selectionRange:a},ch=!1,Gt=s;Gt!==null;)if(s=Gt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,Gt=n;else for(;Gt!==null;){switch(s=Gt,m=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,a=s,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var De=ia(a.type,d,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(De,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ne){ot(a,a.return,Ne)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)Im(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Im(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Gt=n;break}Gt=s.return}}function lv(n,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ks(n,a),l&4&&kl(5,a);break;case 1:if(Ks(n,a),l&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(x){ot(a,a.return,x)}else{var d=ia(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(x){ot(a,a.return,x)}}l&64&&nv(a),l&512&&Ol(a,a.return);break;case 3:if(Ks(n,a),l&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Hy(n,s)}catch(x){ot(a,a.return,x)}}break;case 27:s===null&&l&4&&av(a);case 26:case 5:Ks(n,a),s===null&&l&4&&sv(a),l&512&&Ol(a,a.return);break;case 12:Ks(n,a);break;case 13:Ks(n,a),l&4&&hv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=NT.bind(null,a),GT(n,a))));break;case 22:if(l=a.memoizedState!==null||cs,!l){s=s!==null&&s.memoizedState!==null||St,d=cs;var m=St;cs=l,(St=s)&&!m?Qs(n,a,(a.subtreeFlags&8772)!==0):Ks(n,a),cs=d,St=m}break;case 30:break;default:Ks(n,a)}}function cv(n){var s=n.alternate;s!==null&&(n.alternate=null,cv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ms(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var dt=null,yn=!1;function us(n,s,a){for(a=a.child;a!==null;)uv(n,s,a),a=a.sibling}function uv(n,s,a){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(yt,a)}catch{}switch(a.tag){case 26:St||Tr(a,s),us(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||Tr(a,s);var l=dt,d=yn;ei(a.type)&&(dt=a.stateNode,yn=!1),us(n,s,a),Hl(a.stateNode),dt=l,yn=d;break;case 5:St||Tr(a,s);case 6:if(l=dt,d=yn,dt=null,us(n,s,a),dt=l,yn=d,dt!==null)if(yn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(a.stateNode)}catch(m){ot(a,s,m)}else try{dt.removeChild(a.stateNode)}catch(m){ot(a,s,m)}break;case 18:dt!==null&&(yn?(n=dt,Zv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Wl(n)):Zv(dt,a.stateNode));break;case 4:l=dt,d=yn,dt=a.stateNode.containerInfo,yn=!0,us(n,s,a),dt=l,yn=d;break;case 0:case 11:case 14:case 15:St||$s(2,a,s),St||$s(4,a,s),us(n,s,a);break;case 1:St||(Tr(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&rv(a,s,l)),us(n,s,a);break;case 21:us(n,s,a);break;case 22:St=(l=St)||a.memoizedState!==null,us(n,s,a),St=l;break;default:us(n,s,a)}}function hv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Wl(n)}catch(a){ot(s,s.return,a)}}function _T(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new ov),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new ov),s;default:throw Error(i(435,n.tag))}}function nm(n,s){var a=_T(n);s.forEach(function(l){var d=RT.bind(null,n,l);a.has(l)||(a.add(l),l.then(d,d))})}function Rn(n,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=n,x=s,w=x;e:for(;w!==null;){switch(w.tag){case 27:if(ei(w.type)){dt=w.stateNode,yn=!1;break e}break;case 5:dt=w.stateNode,yn=!1;break e;case 3:case 4:dt=w.stateNode.containerInfo,yn=!0;break e}w=w.return}if(dt===null)throw Error(i(160));uv(m,x,d),dt=null,yn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)dv(s,n),s=s.sibling}var rr=null;function dv(n,s){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Rn(s,n),In(n),l&4&&($s(3,n,n.return),kl(3,n),$s(5,n,n.return));break;case 1:Rn(s,n),In(n),l&512&&(St||a===null||Tr(a,a.return)),l&64&&cs&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=rr;if(Rn(s,n),In(n),l&512&&(St||a===null||Tr(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Oi]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),Zt(m,l,a),m[Pt]=n,Tt(m),l=m;break e;case"link":var x=a_("link","href",d).get(l+(a.href||""));if(x){for(var w=0;w<x.length;w++)if(m=x[w],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(w,1);break t}}m=d.createElement(l),Zt(m,l,a),d.head.appendChild(m);break;case"meta":if(x=a_("meta","content",d).get(l+(a.content||""))){for(w=0;w<x.length;w++)if(m=x[w],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(w,1);break t}}m=d.createElement(l),Zt(m,l,a),d.head.appendChild(m);break;default:throw Error(i(468,l))}m[Pt]=n,Tt(m),l=m}n.stateNode=l}else o_(d,n.type,n.stateNode);else n.stateNode=i_(d,l,n.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?o_(d,n.type,n.stateNode):i_(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Zf(n,n.memoizedProps,a.memoizedProps)}break;case 27:Rn(s,n),In(n),l&512&&(St||a===null||Tr(a,a.return)),a!==null&&l&4&&Zf(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Rn(s,n),In(n),l&512&&(St||a===null||Tr(a,a.return)),n.flags&32){d=n.stateNode;try{Ln(d,"")}catch(X){ot(n,n.return,X)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,Zf(n,d,a!==null?a.memoizedProps:d)),l&1024&&(tm=!0);break;case 6:if(Rn(s,n),In(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(X){ot(n,n.return,X)}}break;case 3:if(ah=null,d=rr,rr=sh(s.containerInfo),Rn(s,n),rr=d,In(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Wl(s.containerInfo)}catch(X){ot(n,n.return,X)}tm&&(tm=!1,fv(n));break;case 4:l=rr,rr=sh(n.stateNode.containerInfo),Rn(s,n),In(n),rr=l;break;case 12:Rn(s,n),In(n);break;case 13:Rn(s,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lm=Mt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,nm(n,l)));break;case 22:d=n.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,$=cs,te=St;if(cs=$||d,St=te||O,Rn(s,n),St=te,cs=$,In(n),l&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||O||cs||St||aa(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){O=a=s;try{if(m=O.stateNode,d)x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{w=O.stateNode;var ie=O.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(X){ot(O,O.return,X)}}}else if(s.tag===6){if(a===null){O=s;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(X){ot(O,O.return,X)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nm(n,a))));break;case 19:Rn(s,n),In(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,nm(n,l)));break;case 30:break;case 21:break;default:Rn(s,n),In(n)}}function In(n){var s=n.flags;if(s&2){try{for(var a,l=n.return;l!==null;){if(iv(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var d=a.stateNode,m=Jf(n);Gu(n,m,d);break;case 5:var x=a.stateNode;a.flags&32&&(Ln(x,""),a.flags&=-33);var w=Jf(n);Gu(n,w,x);break;case 3:case 4:var O=a.stateNode.containerInfo,$=Jf(n);em(n,$,O);break;default:throw Error(i(161))}}catch(te){ot(n,n.return,te)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function fv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;fv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Ks(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)lv(n,s.alternate,s),s=s.sibling}function aa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:$s(4,s,s.return),aa(s);break;case 1:Tr(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&rv(s,s.return,a),aa(s);break;case 27:Hl(s.stateNode);case 26:case 5:Tr(s,s.return),aa(s);break;case 22:s.memoizedState===null&&aa(s);break;case 30:aa(s);break;default:aa(s)}n=n.sibling}}function Qs(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=n,m=s,x=m.flags;switch(m.tag){case 0:case 11:case 15:Qs(d,m,a),kl(4,m);break;case 1:if(Qs(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch($){ot(l,l.return,$)}if(l=m,d=l.updateQueue,d!==null){var w=l.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)qy(O[d],w)}catch($){ot(l,l.return,$)}}a&&x&64&&nv(m),Ol(m,m.return);break;case 27:av(m);case 26:case 5:Qs(d,m,a),a&&l===null&&x&4&&sv(m),Ol(m,m.return);break;case 12:Qs(d,m,a);break;case 13:Qs(d,m,a),a&&x&4&&hv(d,m);break;case 22:m.memoizedState===null&&Qs(d,m,a),Ol(m,m.return);break;case 30:break;default:Qs(d,m,a)}s=s.sibling}}function rm(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&_l(a))}function sm(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&_l(n))}function Ar(n,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)mv(n,s,a,l),s=s.sibling}function mv(n,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ar(n,s,a,l),d&2048&&kl(9,s);break;case 1:Ar(n,s,a,l);break;case 3:Ar(n,s,a,l),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&_l(n)));break;case 12:if(d&2048){Ar(n,s,a,l),n=s.stateNode;try{var m=s.memoizedProps,x=m.id,w=m.onPostCommit;typeof w=="function"&&w(x,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){ot(s,s.return,O)}}else Ar(n,s,a,l);break;case 13:Ar(n,s,a,l);break;case 23:break;case 22:m=s.stateNode,x=s.alternate,s.memoizedState!==null?m._visibility&2?Ar(n,s,a,l):Ml(n,s):m._visibility&2?Ar(n,s,a,l):(m._visibility|=2,io(n,s,a,l,(s.subtreeFlags&10256)!==0)),d&2048&&rm(x,s);break;case 24:Ar(n,s,a,l),d&2048&&sm(s.alternate,s);break;default:Ar(n,s,a,l)}}function io(n,s,a,l,d){for(d=d&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var m=n,x=s,w=a,O=l,$=x.flags;switch(x.tag){case 0:case 11:case 15:io(m,x,w,O,d),kl(8,x);break;case 23:break;case 22:var te=x.stateNode;x.memoizedState!==null?te._visibility&2?io(m,x,w,O,d):Ml(m,x):(te._visibility|=2,io(m,x,w,O,d)),d&&$&2048&&rm(x.alternate,x);break;case 24:io(m,x,w,O,d),d&&$&2048&&sm(x.alternate,x);break;default:io(m,x,w,O,d)}s=s.sibling}}function Ml(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,l=s,d=l.flags;switch(l.tag){case 22:Ml(a,l),d&2048&&rm(l.alternate,l);break;case 24:Ml(a,l),d&2048&&sm(l.alternate,l);break;default:Ml(a,l)}s=s.sibling}}var Pl=8192;function ao(n){if(n.subtreeFlags&Pl)for(n=n.child;n!==null;)pv(n),n=n.sibling}function pv(n){switch(n.tag){case 26:ao(n),n.flags&Pl&&n.memoizedState!==null&&s2(rr,n.memoizedState,n.memoizedProps);break;case 5:ao(n);break;case 3:case 4:var s=rr;rr=sh(n.stateNode.containerInfo),ao(n),rr=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Pl,Pl=16777216,ao(n),Pl=s):ao(n));break;default:ao(n)}}function gv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Vl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Gt=l,vv(l,n)}gv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yv(n),n=n.sibling}function yv(n){switch(n.tag){case 0:case 11:case 15:Vl(n),n.flags&2048&&$s(9,n,n.return);break;case 3:Vl(n);break;case 12:Vl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,$u(n)):Vl(n);break;default:Vl(n)}}function $u(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Gt=l,vv(l,n)}gv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:$s(8,s,s.return),$u(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,$u(s));break;default:$u(s)}n=n.sibling}}function vv(n,s){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:$s(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=n;Gt!==null;){l=Gt;var d=l.sibling,m=l.return;if(cv(l),l===a){Gt=null;break e}if(d!==null){d.return=m,Gt=d;break e}Gt=m}}}var xT={getCacheForType:function(n){var s=sn(Ut),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a}},bT=typeof WeakMap=="function"?WeakMap:Map,tt=0,lt=null,Be=null,Qe=0,nt=0,Cn=null,Ys=!1,oo=!1,im=!1,hs=0,_t=0,Xs=0,oa=0,am=0,Kn=0,lo=0,Ll=null,vn=null,om=!1,lm=0,Ku=1/0,Qu=null,Ws=null,Wt=0,Zs=null,co=null,uo=0,cm=0,um=null,_v=null,Ul=0,hm=null;function jn(){if((tt&2)!==0&&Qe!==0)return Qe&-Qe;if(Q.T!==null){var n=Wa;return n!==0?n:vm()}return ks()}function xv(){Kn===0&&(Kn=(Qe&536870912)===0||We?Qo():536870912);var n=$n.current;return n!==null&&(n.flags|=32),Kn}function Dn(n,s,a){(n===lt&&(nt===2||nt===9)||n.cancelPendingCommit!==null)&&(ho(n,0),Js(n,Qe,Kn,!1)),Hr(n,a),((tt&2)===0||n!==lt)&&(n===lt&&((tt&2)===0&&(oa|=a),_t===4&&Js(n,Qe,Kn,!1)),Sr(n))}function bv(n,s,a){if((tt&6)!==0)throw Error(i(327));var l=!a&&(s&124)===0&&(s&n.expiredLanes)===0||ki(n,s),d=l?TT(n,s):mm(n,s,!0),m=l;do{if(d===0){oo&&!l&&Js(n,s,0,!1);break}else{if(a=n.current.alternate,m&&!ET(a)){d=mm(n,s,!1),m=!1;continue}if(d===2){if(m=s,n.errorRecoveryDisabledLanes&m)var x=0;else x=n.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){s=x;e:{var w=n;d=Ll;var O=w.current.memoizedState.isDehydrated;if(O&&(ho(w,x).flags|=256),x=mm(w,x,!1),x!==2){if(im&&!O){w.errorRecoveryDisabledLanes|=m,oa|=m,d=4;break e}m=vn,vn=d,m!==null&&(vn===null?vn=m:vn.push.apply(vn,m))}d=x}if(m=!1,d!==2)continue}}if(d===1){ho(n,0),Js(n,s,0,!0);break}e:{switch(l=n,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Js(l,s,Kn,!Ys);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=lm+300-Mt(),10<d)){if(Js(l,s,Kn,!Ys),Ra(l,0,!0)!==0)break e;l.timeoutHandle=Xv(Ev.bind(null,l,a,vn,Qu,om,s,Kn,oa,lo,Ys,m,2,-0,0),d);break e}Ev(l,a,vn,Qu,om,s,Kn,oa,lo,Ys,m,0,-0,0)}}break}while(!0);Sr(n)}function Ev(n,s,a,l,d,m,x,w,O,$,te,ie,Y,X){if(n.timeoutHandle=-1,ie=s.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&($l={stylesheets:null,count:0,unsuspend:r2},pv(s),ie=i2(),ie!==null)){n.cancelPendingCommit=ie(Iv.bind(null,n,s,m,a,l,d,x,w,O,te,1,Y,X)),Js(n,m,x,!$);return}Iv(n,s,m,a,l,d,x,w,O)}function ET(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Sn(m(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Js(n,s,a,l){s&=~am,s&=~oa,n.suspendedLanes|=s,n.pingedLanes&=~s,l&&(n.warmLanes|=s),l=n.expirationTimes;for(var d=s;0<d;){var m=31-rn(d),x=1<<m;l[m]=-1,d&=~x}a!==0&&hr(n,a,s)}function Yu(){return(tt&6)===0?(zl(0),!1):!0}function dm(){if(Be!==null){if(nt===0)var n=Be.return;else n=Be,rs=ta=null,If(n),ro=null,Cl=0,n=Be;for(;n!==null;)tv(n.alternate,n),n=n.return;Be=null}}function ho(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,zT(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),dm(),lt=n,Be=a=es(n.current,null),Qe=s,nt=0,Cn=null,Ys=!1,oo=ki(n,s),im=!1,lo=Kn=am=oa=Xs=_t=0,vn=Ll=null,om=!1,(s&8)!==0&&(s|=s&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=s;0<l;){var d=31-rn(l),m=1<<d;s|=n[d],l&=~m}return hs=s,yu(),a}function wv(n,s){Ve=null,Q.H=Pu,s===bl||s===Su?(s=zy(),nt=3):s===Vy?(s=zy(),nt=4):nt=s===B0?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cn=s,Be===null&&(_t=1,Bu(n,qn(s,n.current)))}function Tv(){var n=Q.H;return Q.H=Pu,n===null?Pu:n}function Av(){var n=Q.A;return Q.A=xT,n}function fm(){_t=4,Ys||(Qe&4194048)!==Qe&&$n.current!==null||(oo=!0),(Xs&134217727)===0&&(oa&134217727)===0||lt===null||Js(lt,Qe,Kn,!1)}function mm(n,s,a){var l=tt;tt|=2;var d=Tv(),m=Av();(lt!==n||Qe!==s)&&(Qu=null,ho(n,s)),s=!1;var x=_t;e:do try{if(nt!==0&&Be!==null){var w=Be,O=Cn;switch(nt){case 8:dm(),x=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(s=!0);var $=nt;if(nt=0,Cn=null,fo(n,w,O,$),a&&oo){x=0;break e}break;default:$=nt,nt=0,Cn=null,fo(n,w,O,$)}}wT(),x=_t;break}catch(te){wv(n,te)}while(!0);return s&&n.shellSuspendCounter++,rs=ta=null,tt=l,Q.H=d,Q.A=m,Be===null&&(lt=null,Qe=0,yu()),x}function wT(){for(;Be!==null;)Sv(Be)}function TT(n,s){var a=tt;tt|=2;var l=Tv(),d=Av();lt!==n||Qe!==s?(Qu=null,Ku=Mt()+500,ho(n,s)):oo=ki(n,s);e:do try{if(nt!==0&&Be!==null){s=Be;var m=Cn;t:switch(nt){case 1:nt=0,Cn=null,fo(n,s,m,1);break;case 2:case 9:if(Ly(m)){nt=0,Cn=null,Nv(s);break}s=function(){nt!==2&&nt!==9||lt!==n||(nt=7),Sr(n)},m.then(s,s);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Ly(m)?(nt=0,Cn=null,Nv(s)):(nt=0,Cn=null,fo(n,s,m,7));break;case 5:var x=null;switch(Be.tag){case 26:x=Be.memoizedState;case 5:case 27:var w=Be;if(!x||l_(x)){nt=0,Cn=null;var O=w.sibling;if(O!==null)Be=O;else{var $=w.return;$!==null?(Be=$,Xu($)):Be=null}break t}}nt=0,Cn=null,fo(n,s,m,5);break;case 6:nt=0,Cn=null,fo(n,s,m,6);break;case 8:dm(),_t=6;break e;default:throw Error(i(462))}}AT();break}catch(te){wv(n,te)}while(!0);return rs=ta=null,Q.H=l,Q.A=d,tt=a,Be!==null?0:(lt=null,Qe=0,yu(),_t)}function AT(){for(;Be!==null&&!Pn();)Sv(Be)}function Sv(n){var s=J0(n.alternate,n,hs);n.memoizedProps=n.pendingProps,s===null?Xu(n):Be=s}function Nv(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=K0(a,s,s.pendingProps,s.type,void 0,Qe);break;case 11:s=K0(a,s,s.pendingProps,s.type.render,s.ref,Qe);break;case 5:If(s);default:tv(a,s),s=Be=Ry(s,hs),s=J0(a,s,hs)}n.memoizedProps=n.pendingProps,s===null?Xu(n):Be=s}function fo(n,s,a,l){rs=ta=null,If(s),ro=null,Cl=0;var d=s.return;try{if(mT(n,d,s,a,Qe)){_t=1,Bu(n,qn(a,n.current)),Be=null;return}}catch(m){if(d!==null)throw Be=d,m;_t=1,Bu(n,qn(a,n.current)),Be=null;return}s.flags&32768?(We||l===1?n=!0:oo||(Qe&536870912)!==0?n=!1:(Ys=n=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rv(s,n)):Xu(s)}function Xu(n){var s=n;do{if((s.flags&32768)!==0){Rv(s,Ys);return}n=s.return;var a=gT(s.alternate,s,hs);if(a!==null){Be=a;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=n}while(s!==null);_t===0&&(_t=5)}function Rv(n,s){do{var a=yT(n.alternate,n);if(a!==null){a.flags&=32767,Be=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Be=n;return}Be=n=a}while(n!==null);_t=6,Be=null}function Iv(n,s,a,l,d,m,x,w,O){n.cancelPendingCommit=null;do Wu();while(Wt!==0);if((tt&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=rf,Xo(n,a,m,x,w,O),n===lt&&(Be=lt=null,Qe=0),co=s,Zs=n,uo=a,cm=m,um=d,_v=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,IT(Ii,function(){return Ov(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,d=ue.p,ue.p=2,x=tt,tt|=4;try{vT(n,s,a)}finally{tt=x,ue.p=d,Q.T=l}}Wt=1,Cv(),jv(),Dv()}}function Cv(){if(Wt===1){Wt=0;var n=Zs,s=co,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var d=tt;tt|=4;try{dv(s,n);var m=Sm,x=vy(n.containerInfo),w=m.focusedElem,O=m.selectionRange;if(x!==w&&w&&w.ownerDocument&&yy(w.ownerDocument.documentElement,w)){if(O!==null&&Zd(w)){var $=O.start,te=O.end;if(te===void 0&&(te=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(te,w.value.length);else{var ie=w.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var X=Y.getSelection(),De=w.textContent.length,Ne=Math.min(O.start,De),at=O.end===void 0?Ne:Math.min(O.end,De);!X.extend&&Ne>at&&(x=at,at=Ne,Ne=x);var q=gy(w,Ne),B=gy(w,at);if(q&&B&&(X.rangeCount!==1||X.anchorNode!==q.node||X.anchorOffset!==q.offset||X.focusNode!==B.node||X.focusOffset!==B.offset)){var G=ie.createRange();G.setStart(q.node,q.offset),X.removeAllRanges(),Ne>at?(X.addRange(G),X.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),X.addRange(G))}}}}for(ie=[],X=w;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ie.length;w++){var ne=ie[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}ch=!!Am,Sm=Am=null}finally{tt=d,ue.p=l,Q.T=a}}n.current=s,Wt=2}}function jv(){if(Wt===2){Wt=0;var n=Zs,s=co,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var d=tt;tt|=4;try{lv(n,s.alternate,s)}finally{tt=d,ue.p=l,Q.T=a}}Wt=3}}function Dv(){if(Wt===4||Wt===3){Wt=0,zr();var n=Zs,s=co,a=uo,l=_v;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,co=Zs=null,kv(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(Ws=null),Ia(a),s=s.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(yt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Q.T,d=ue.p,ue.p=2,Q.T=null;try{for(var m=n.onRecoverableError,x=0;x<l.length;x++){var w=l[x];m(w.value,{componentStack:w.stack})}}finally{Q.T=s,ue.p=d}}(uo&3)!==0&&Wu(),Sr(n),d=n.pendingLanes,(a&4194090)!==0&&(d&42)!==0?n===hm?Ul++:(Ul=0,hm=n):Ul=0,zl(0)}}function kv(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,_l(s)))}function Wu(n){return Cv(),jv(),Dv(),Ov()}function Ov(){if(Wt!==5)return!1;var n=Zs,s=cm;cm=0;var a=Ia(uo),l=Q.T,d=ue.p;try{ue.p=32>a?32:a,Q.T=null,a=um,um=null;var m=Zs,x=uo;if(Wt=0,co=Zs=null,uo=0,(tt&6)!==0)throw Error(i(331));var w=tt;if(tt|=4,yv(m.current),mv(m,m.current,x,a),tt=w,zl(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(yt,m)}catch{}return!0}finally{ue.p=d,Q.T=l,kv(n,s)}}function Mv(n,s,a){s=qn(a,s),s=Hf(n.stateNode,s,2),n=qs(n,s,2),n!==null&&(Hr(n,2),Sr(n))}function ot(n,s,a){if(n.tag===3)Mv(n,n,a);else for(;s!==null;){if(s.tag===3){Mv(s,n,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ws===null||!Ws.has(l))){n=qn(a,n),a=U0(2),l=qs(s,a,2),l!==null&&(z0(a,l,s,n),Hr(l,2),Sr(l));break}}s=s.return}}function pm(n,s,a){var l=n.pingCache;if(l===null){l=n.pingCache=new bT;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(im=!0,d.add(a),n=ST.bind(null,n,s,a),s.then(n,n))}function ST(n,s,a){var l=n.pingCache;l!==null&&l.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,lt===n&&(Qe&a)===a&&(_t===4||_t===3&&(Qe&62914560)===Qe&&300>Mt()-lm?(tt&2)===0&&ho(n,0):am|=a,lo===Qe&&(lo=0)),Sr(n)}function Pv(n,s){s===0&&(s=Yo()),n=Ka(n,s),n!==null&&(Hr(n,s),Sr(n))}function NT(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Pv(n,a)}function RT(n,s){var a=0;switch(n.tag){case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(s),Pv(n,a)}function IT(n,s){return Ue(n,s)}var Zu=null,mo=null,gm=!1,Ju=!1,ym=!1,la=0;function Sr(n){n!==mo&&n.next===null&&(mo===null?Zu=mo=n:mo=mo.next=n),Ju=!0,gm||(gm=!0,jT())}function zl(n,s){if(!ym&&Ju){ym=!0;do for(var a=!1,l=Zu;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var x=l.suspendedLanes,w=l.pingedLanes;m=(1<<31-rn(42|n)+1)-1,m&=d&~(x&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,zv(l,m))}else m=Qe,m=Ra(l,l===lt?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||ki(l,m)||(a=!0,zv(l,m));l=l.next}while(a);ym=!1}}function CT(){Vv()}function Vv(){Ju=gm=!1;var n=0;la!==0&&(UT()&&(n=la),la=0);for(var s=Mt(),a=null,l=Zu;l!==null;){var d=l.next,m=Lv(l,s);m===0?(l.next=null,a===null?Zu=d:a.next=d,d===null&&(mo=a)):(a=l,(n!==0||(m&3)!==0)&&(Ju=!0)),l=d}zl(n)}function Lv(n,s){for(var a=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var x=31-rn(m),w=1<<x,O=d[x];O===-1?((w&a)===0||(w&l)!==0)&&(d[x]=Ko(w,s)):O<=s&&(n.expiredLanes|=w),m&=~w}if(s=lt,a=Qe,a=Ra(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===s&&(nt===2||nt===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&wt(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ki(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(l!==null&&wt(l),Ia(a)){case 2:case 8:a=Br;break;case 32:a=Ii;break;case 268435456:a=Na;break;default:a=Ii}return l=Uv.bind(null,n),a=Ue(a,l),n.callbackPriority=s,n.callbackNode=a,s}return l!==null&&l!==null&&wt(l),n.callbackPriority=2,n.callbackNode=null,2}function Uv(n,s){if(Wt!==0&&Wt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Wu()&&n.callbackNode!==a)return null;var l=Qe;return l=Ra(n,n===lt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(bv(n,l,s),Lv(n,Mt()),n.callbackNode!=null&&n.callbackNode===a?Uv.bind(null,n):null)}function zv(n,s){if(Wu())return null;bv(n,s,!0)}function jT(){BT(function(){(tt&6)!==0?Ue(Ri,CT):Vv()})}function vm(){return la===0&&(la=Qo()),la}function Bv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ma(""+n)}function qv(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function DT(n,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var m=Bv((d[Rt]||null).action),x=l.submitter;x&&(s=(s=x[Rt]||null)?Bv(s.formAction):x.getAttribute("formAction"),s!==null&&(m=s,x=null));var w=new Pa("action","action",null,l,d);n.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(la!==0){var O=x?qv(d,x):new FormData(d);Lf(a,{pending:!0,data:O,method:d.method,action:m},null,O)}}else typeof m=="function"&&(w.preventDefault(),O=x?qv(d,x):new FormData(d),Lf(a,{pending:!0,data:O,method:d.method,action:m},m,O))},currentTarget:d}]})}}for(var _m=0;_m<nf.length;_m++){var xm=nf[_m],kT=xm.toLowerCase(),OT=xm[0].toUpperCase()+xm.slice(1);nr(kT,"on"+OT)}nr(by,"onAnimationEnd"),nr(Ey,"onAnimationIteration"),nr(wy,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(Ww,"onTransitionRun"),nr(Zw,"onTransitionStart"),nr(Jw,"onTransitionCancel"),nr(Ty,"onTransitionEnd"),Gr("onMouseEnter",["mouseout","mouseover"]),Gr("onMouseLeave",["mouseout","mouseover"]),Gr("onPointerEnter",["pointerout","pointerover"]),Gr("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function Hv(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],d=l.event;l=l.listeners;e:{var m=void 0;if(s)for(var x=l.length-1;0<=x;x--){var w=l[x],O=w.instance,$=w.currentTarget;if(w=w.listener,O!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=$;try{m(d)}catch(te){zu(te)}d.currentTarget=null,m=O}else for(x=0;x<l.length;x++){if(w=l[x],O=w.instance,$=w.currentTarget,w=w.listener,O!==m&&d.isPropagationStopped())break e;m=w,d.currentTarget=$;try{m(d)}catch(te){zu(te)}d.currentTarget=null,m=O}}}}function qe(n,s){var a=s[Zo];a===void 0&&(a=s[Zo]=new Set);var l=n+"__bubble";a.has(l)||(Fv(s,n,2,!1),a.add(l))}function bm(n,s,a){var l=0;s&&(l|=4),Fv(a,n,l,s)}var eh="_reactListening"+Math.random().toString(36).slice(2);function Em(n){if(!n[eh]){n[eh]=!0,Jo.forEach(function(a){a!=="selectionchange"&&(MT.has(a)||bm(a,!1,n),bm(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[eh]||(s[eh]=!0,bm("selectionchange",!1,s))}}function Fv(n,s,a,l){switch(m_(s)){case 2:var d=l2;break;case 8:d=c2;break;default:d=Pm}a=d.bind(null,s,a,n),d=void 0,!zn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function wm(n,s,a,l,d){var m=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var w=l.stateNode.containerInfo;if(w===d)break;if(x===4)for(x=l.return;x!==null;){var O=x.tag;if((O===3||O===4)&&x.stateNode.containerInfo===d)return;x=x.return}for(;w!==null;){if(x=Fr(w),x===null)return;if(O=x.tag,O===5||O===6||O===26||O===27){l=m=x;continue e}w=w.parentNode}}l=l.return}nu(function(){var $=m,te=Un(a),ie=[];e:{var Y=Ay.get(n);if(Y!==void 0){var X=Pa,De=n;switch(n){case"keypress":if(yr(a)===0)break e;case"keydown":case"keyup":X=qa;break;case"focusin":De="focus",X=Ua;break;case"focusout":De="blur",X=Ua;break;case"beforeblur":case"afterblur":X=Ua;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Qd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=uu;break;case by:case Ey:case wy:X=za;break;case Ty:X=du;break;case"scroll":case"scrollend":X=ru;break;case"wheel":X=Ha;break;case"copy":case"cut":case"paste":X=Ba;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=hl;break;case"toggle":case"beforetoggle":X=mu}var Ne=(s&4)!==0,at=!Ne&&(n==="scroll"||n==="scrollend"),q=Ne?Y!==null?Y+"Capture":null:Y;Ne=[];for(var B=$,G;B!==null;){var ne=B;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||q===null||(ne=Bi(B,q),ne!=null&&Ne.push(ql(B,ne,G))),at)break;B=B.return}0<Ne.length&&(Y=new X(Y,De,null,a,te),ie.push({event:Y,listeners:Ne}))}}if((s&7)===0){e:{if(Y=n==="mouseover"||n==="pointerover",X=n==="mouseout"||n==="pointerout",Y&&a!==Qr&&(De=a.relatedTarget||a.fromElement)&&(Fr(De)||De[Vn]))break e;if((X||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,X?(De=a.relatedTarget||a.toElement,X=$,De=De?Fr(De):null,De!==null&&(at=c(De),Ne=De.tag,De!==at||Ne!==5&&Ne!==27&&Ne!==6)&&(De=null)):(X=null,De=$),X!==De)){if(Ne=Bn,ne="onMouseLeave",q="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Ne=hl,ne="onPointerLeave",q="onPointerEnter",B="pointer"),at=X==null?Y:fr(X),G=De==null?Y:fr(De),Y=new Ne(ne,B+"leave",X,a,te),Y.target=at,Y.relatedTarget=G,ne=null,Fr(te)===$&&(Ne=new Ne(q,B+"enter",De,a,te),Ne.target=G,Ne.relatedTarget=at,ne=Ne),at=ne,X&&De)t:{for(Ne=X,q=De,B=0,G=Ne;G;G=po(G))B++;for(G=0,ne=q;ne;ne=po(ne))G++;for(;0<B-G;)Ne=po(Ne),B--;for(;0<G-B;)q=po(q),G--;for(;B--;){if(Ne===q||q!==null&&Ne===q.alternate)break t;Ne=po(Ne),q=po(q)}Ne=null}else Ne=null;X!==null&&Gv(ie,Y,X,Ne,!1),De!==null&&at!==null&&Gv(ie,at,De,Ne,!0)}}e:{if(Y=$?fr($):window,X=Y.nodeName&&Y.nodeName.toLowerCase(),X==="select"||X==="input"&&Y.type==="file")var be=uy;else if(Lt(Y))if(hy)be=Qw;else{be=$w;var ze=Gw}else X=Y.nodeName,!X||X.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&sl($.elementType)&&(be=uy):be=Kw;if(be&&(be=be(n,$))){Jr(ie,be,a,te);break e}ze&&ze(n,Y,$),n==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&Vs(Y,"number",Y.value)}switch(ze=$?fr($):window,n){case"focusin":(Lt(ze)||ze.contentEditable==="true")&&(Fa=ze,Jd=$,ml=null);break;case"focusout":ml=Jd=Fa=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,_y(ie,a,te);break;case"selectionchange":if(Xw)break;case"keydown":case"keyup":_y(ie,a,te)}var Ee;if(xr)e:{switch(n){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else $e?Z(n,a)&&(Re="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(_&&a.locale!=="ko"&&($e||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&$e&&(Ee=al()):(gr=te,Ls="value"in gr?gr.value:gr.textContent,$e=!0)),ze=th($,Re),0<ze.length&&(Re=new cl(Re,n,null,a,te),ie.push({event:Re,listeners:ze}),Ee?Re.data=Ee:(Ee=ye(a),Ee!==null&&(Re.data=Ee)))),(Ee=v?Vt(n,a):Ke(n,a))&&(Re=th($,"onBeforeInput"),0<Re.length&&(ze=new cl("onBeforeInput","beforeinput",null,a,te),ie.push({event:ze,listeners:Re}),ze.data=Ee)),DT(ie,n,$,a,te)}Hv(ie,s)})}function ql(n,s,a){return{instance:n,listener:s,currentTarget:a}}function th(n,s){for(var a=s+"Capture",l=[];n!==null;){var d=n,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Bi(n,a),d!=null&&l.unshift(ql(n,d,m)),d=Bi(n,s),d!=null&&l.push(ql(n,d,m))),n.tag===3)return l;n=n.return}return[]}function po(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Gv(n,s,a,l,d){for(var m=s._reactName,x=[];a!==null&&a!==l;){var w=a,O=w.alternate,$=w.stateNode;if(w=w.tag,O!==null&&O===l)break;w!==5&&w!==26&&w!==27||$===null||(O=$,d?($=Bi(a,m),$!=null&&x.unshift(ql(a,$,O))):d||($=Bi(a,m),$!=null&&x.push(ql(a,$,O)))),a=a.return}x.length!==0&&n.push({event:s,listeners:x})}var PT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function $v(n){return(typeof n=="string"?n:""+n).replace(PT,`
`).replace(VT,"")}function Kv(n,s){return s=$v(s),$v(n)===s}function nh(){}function it(n,s,a,l,d,m){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Ln(n,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Ln(n,""+l);break;case"className":mr(n,"class",l);break;case"tabIndex":mr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mr(n,a,l);break;case"style":rl(n,l,m);break;case"data":if(s!=="object"){mr(n,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ma(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(s!=="input"&&it(n,s,"name",d.name,d,null),it(n,s,"formEncType",d.formEncType,d,null),it(n,s,"formMethod",d.formMethod,d,null),it(n,s,"formTarget",d.formTarget,d,null)):(it(n,s,"encType",d.encType,d,null),it(n,s,"method",d.method,d,null),it(n,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ma(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=nh);break;case"onScroll":l!=null&&qe("scroll",n);break;case"onScrollEnd":l!=null&&qe("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ma(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":qe("beforetoggle",n),qe("toggle",n),Ps(n,"popover",l);break;case"xlinkActuate":Qt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Qt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Qt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Qt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Qt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Qt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Qt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ps(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$d.get(a)||a,Ps(n,a,l))}}function Tm(n,s,a,l,d,m){switch(a){case"style":rl(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Ln(n,l):(typeof l=="number"||typeof l=="bigint")&&Ln(n,""+l);break;case"onScroll":l!=null&&qe("scroll",n);break;case"onScrollEnd":l!=null&&qe("scrollend",n);break;case"onClick":l!=null&&(n.onclick=nh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),m=n[Rt]||null,m=m!=null?m[a]:null,typeof m=="function"&&n.removeEventListener(s,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,l,d);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Ps(n,a,l)}}}function Zt(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",n),qe("load",n);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var x=a[m];if(x!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(n,s,m,x,a,null)}}d&&it(n,s,"srcSet",a.srcSet,a,null),l&&it(n,s,"src",a.src,a,null);return;case"input":qe("invalid",n);var w=m=x=d=null,O=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":d=te;break;case"type":x=te;break;case"checked":O=te;break;case"defaultChecked":$=te;break;case"value":m=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:it(n,s,l,te,a,null)}}Li(n,m,w,O,$,x,d,!1),Oa(n);return;case"select":qe("invalid",n),l=x=m=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":m=w;break;case"defaultValue":x=w;break;case"multiple":l=w;default:it(n,s,d,w,a,null)}s=m,a=x,n.multiple=!!l,s!=null?Kr(n,!!l,s,!1):a!=null&&Kr(n,!!l,a,!0);return;case"textarea":qe("invalid",n),m=d=l=null;for(x in a)if(a.hasOwnProperty(x)&&(w=a[x],w!=null))switch(x){case"value":l=w;break;case"defaultValue":d=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:it(n,s,x,w,a,null)}Ui(n,l,d,m),Oa(n);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(l=a[O],l!=null))switch(O){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(n,s,O,l,a,null)}return;case"dialog":qe("beforetoggle",n),qe("toggle",n),qe("cancel",n),qe("close",n);break;case"iframe":case"object":qe("load",n);break;case"video":case"audio":for(l=0;l<Bl.length;l++)qe(Bl[l],n);break;case"image":qe("error",n),qe("load",n);break;case"details":qe("toggle",n);break;case"embed":case"source":case"link":qe("error",n),qe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:it(n,s,$,l,a,null)}return;default:if(sl(s)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&Tm(n,s,te,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&it(n,s,w,l,a,null))}function LT(n,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,x=null,w=null,O=null,$=null,te=null;for(X in a){var ie=a[X];if(a.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=ie;default:l.hasOwnProperty(X)||it(n,s,X,null,l,ie)}}for(var Y in l){var X=l[Y];if(ie=a[Y],l.hasOwnProperty(Y)&&(X!=null||ie!=null))switch(Y){case"type":m=X;break;case"name":d=X;break;case"checked":$=X;break;case"defaultChecked":te=X;break;case"value":x=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==ie&&it(n,s,Y,X,l,ie)}}An(n,x,w,O,$,te,m,d);return;case"select":X=x=w=Y=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":X=O;default:l.hasOwnProperty(m)||it(n,s,m,null,l,O)}for(d in l)if(m=l[d],O=a[d],l.hasOwnProperty(d)&&(m!=null||O!=null))switch(d){case"value":Y=m;break;case"defaultValue":w=m;break;case"multiple":x=m;default:m!==O&&it(n,s,d,m,l,O)}s=w,a=x,l=X,Y!=null?Kr(n,!!a,Y,!1):!!l!=!!a&&(s!=null?Kr(n,!!a,s,!0):Kr(n,!!a,a?[]:"",!1));return;case"textarea":X=Y=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:it(n,s,w,null,l,d)}for(x in l)if(d=l[x],m=a[x],l.hasOwnProperty(x)&&(d!=null||m!=null))switch(x){case"value":Y=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&it(n,s,x,d,l,m)}rt(n,Y,X);return;case"option":for(var De in a)if(Y=a[De],a.hasOwnProperty(De)&&Y!=null&&!l.hasOwnProperty(De))switch(De){case"selected":n.selected=!1;break;default:it(n,s,De,null,l,Y)}for(O in l)if(Y=l[O],X=a[O],l.hasOwnProperty(O)&&Y!==X&&(Y!=null||X!=null))switch(O){case"selected":n.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:it(n,s,O,Y,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in a)Y=a[Ne],a.hasOwnProperty(Ne)&&Y!=null&&!l.hasOwnProperty(Ne)&&it(n,s,Ne,null,l,Y);for($ in l)if(Y=l[$],X=a[$],l.hasOwnProperty($)&&Y!==X&&(Y!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:it(n,s,$,Y,l,X)}return;default:if(sl(s)){for(var at in a)Y=a[at],a.hasOwnProperty(at)&&Y!==void 0&&!l.hasOwnProperty(at)&&Tm(n,s,at,void 0,l,Y);for(te in l)Y=l[te],X=a[te],!l.hasOwnProperty(te)||Y===X||Y===void 0&&X===void 0||Tm(n,s,te,Y,l,X);return}}for(var q in a)Y=a[q],a.hasOwnProperty(q)&&Y!=null&&!l.hasOwnProperty(q)&&it(n,s,q,null,l,Y);for(ie in l)Y=l[ie],X=a[ie],!l.hasOwnProperty(ie)||Y===X||Y==null&&X==null||it(n,s,ie,Y,l,X)}var Am=null,Sm=null;function rh(n){return n.nodeType===9?n:n.ownerDocument}function Qv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Yv(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Nm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rm=null;function UT(){var n=window.event;return n&&n.type==="popstate"?n===Rm?!1:(Rm=n,!0):(Rm=null,!1)}var Xv=typeof setTimeout=="function"?setTimeout:void 0,zT=typeof clearTimeout=="function"?clearTimeout:void 0,Wv=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof Wv<"u"?function(n){return Wv.resolve(null).then(n).catch(qT)}:Xv;function qT(n){setTimeout(function(){throw n})}function ei(n){return n==="head"}function Zv(n,s){var a=s,l=0,d=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"){if(0<l&&8>l){a=l;var x=n.ownerDocument;if(a&1&&Hl(x.documentElement),a&2&&Hl(x.body),a&4)for(a=x.head,Hl(a),x=a.firstChild;x;){var w=x.nextSibling,O=x.nodeName;x[Oi]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=w}}if(d===0){n.removeChild(m),Wl(s);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:l=a.charCodeAt(0)-48;else l=0;a=m}while(a);Wl(s)}function Im(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Im(a),Ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function HT(n,s,a,l){for(;n.nodeType===1;){var d=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Oi])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=sr(n.nextSibling),n===null)break}return null}function FT(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=sr(n.nextSibling),n===null))return null;return n}function Cm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function GT(n,s){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function sr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var jm=null;function Jv(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}function e_(n,s,a){switch(s=rh(a),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Hl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ms(n)}var Qn=new Map,t_=new Set;function sh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ds=ue.d;ue.d={f:$T,r:KT,D:QT,C:YT,L:XT,m:WT,X:JT,S:ZT,M:e2};function $T(){var n=ds.f(),s=Yu();return n||s}function KT(n){var s=dr(n);s!==null&&s.tag===5&&s.type==="form"?b0(s):ds.r(n)}var go=typeof document>"u"?null:document;function n_(n,s,a){var l=go;if(l&&typeof s=="string"&&s){var d=It(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),t_.has(d)||(t_.add(d),n={rel:n,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Zt(s,"link",n),Tt(s),l.head.appendChild(s)))}}function QT(n){ds.D(n),n_("dns-prefetch",n,null)}function YT(n,s){ds.C(n,s),n_("preconnect",n,s)}function XT(n,s,a){ds.L(n,s,a);var l=go;if(l&&n&&s){var d='link[rel="preload"][as="'+It(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+It(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+It(a.imageSizes)+'"]')):d+='[href="'+It(n)+'"]';var m=d;switch(s){case"style":m=yo(n);break;case"script":m=vo(n)}Qn.has(m)||(n=b({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),Qn.set(m,n),l.querySelector(d)!==null||s==="style"&&l.querySelector(Fl(m))||s==="script"&&l.querySelector(Gl(m))||(s=l.createElement("link"),Zt(s,"link",n),Tt(s),l.head.appendChild(s)))}}function WT(n,s){ds.m(n,s);var a=go;if(a&&n){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(n)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=vo(n)}if(!Qn.has(m)&&(n=b({rel:"modulepreload",href:n},s),Qn.set(m,n),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(m)))return}l=a.createElement("link"),Zt(l,"link",n),Tt(l),a.head.appendChild(l)}}}function ZT(n,s,a){ds.S(n,s,a);var l=go;if(l&&n){var d=hn(l).hoistableStyles,m=yo(n);s=s||"default";var x=d.get(m);if(!x){var w={loading:0,preload:null};if(x=l.querySelector(Fl(m)))w.loading=5;else{n=b({rel:"stylesheet",href:n,"data-precedence":s},a),(a=Qn.get(m))&&Dm(n,a);var O=x=l.createElement("link");Tt(O),Zt(O,"link",n),O._p=new Promise(function($,te){O.onload=$,O.onerror=te}),O.addEventListener("load",function(){w.loading|=1}),O.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ih(x,s,l)}x={type:"stylesheet",instance:x,count:1,state:w},d.set(m,x)}}}function JT(n,s){ds.X(n,s);var a=go;if(a&&n){var l=hn(a).hoistableScripts,d=vo(n),m=l.get(d);m||(m=a.querySelector(Gl(d)),m||(n=b({src:n,async:!0},s),(s=Qn.get(d))&&km(n,s),m=a.createElement("script"),Tt(m),Zt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function e2(n,s){ds.M(n,s);var a=go;if(a&&n){var l=hn(a).hoistableScripts,d=vo(n),m=l.get(d);m||(m=a.querySelector(Gl(d)),m||(n=b({src:n,async:!0,type:"module"},s),(s=Qn.get(d))&&km(n,s),m=a.createElement("script"),Tt(m),Zt(m,"link",n),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function r_(n,s,a,l){var d=(d=W.current)?sh(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=yo(a.href),a=hn(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=yo(a.href);var m=hn(d).hoistableStyles,x=m.get(n);if(x||(d=d.ownerDocument||d,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,x),(m=d.querySelector(Fl(n)))&&!m._p&&(x.instance=m,x.state.loading=5),Qn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(n,a),m||t2(d,n,a,x.state))),s&&l===null)throw Error(i(528,""));return x}if(s&&l!==null)throw Error(i(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=vo(a),a=hn(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function yo(n){return'href="'+It(n)+'"'}function Fl(n){return'link[rel="stylesheet"]['+n+"]"}function s_(n){return b({},n,{"data-precedence":n.precedence,precedence:null})}function t2(n,s,a,l){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=n.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Zt(s,"link",a),Tt(s),n.head.appendChild(s))}function vo(n){return'[src="'+It(n)+'"]'}function Gl(n){return"script[async]"+n}function i_(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=n.querySelector('style[data-href~="'+It(a.href)+'"]');if(l)return s.instance=l,Tt(l),l;var d=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Tt(l),Zt(l,"style",d),ih(l,a.precedence,n),s.instance=l;case"stylesheet":d=yo(a.href);var m=n.querySelector(Fl(d));if(m)return s.state.loading|=4,s.instance=m,Tt(m),m;l=s_(a),(d=Qn.get(d))&&Dm(l,d),m=(n.ownerDocument||n).createElement("link"),Tt(m);var x=m;return x._p=new Promise(function(w,O){x.onload=w,x.onerror=O}),Zt(m,"link",l),s.state.loading|=4,ih(m,a.precedence,n),s.instance=m;case"script":return m=vo(a.src),(d=n.querySelector(Gl(m)))?(s.instance=d,Tt(d),d):(l=a,(d=Qn.get(m))&&(l=b({},a),km(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),Tt(d),Zt(d,"link",l),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,ih(l,a.precedence,n));return s.instance}function ih(n,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,x=0;x<l.length;x++){var w=l[x];if(w.dataset.precedence===s)m=w;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function Dm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function km(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var ah=null;function a_(n,s,a){if(ah===null){var l=new Map,d=ah=new Map;d.set(a,l)}else d=ah,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),d=0;d<a.length;d++){var m=a[d];if(!(m[Oi]||m[Pt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var x=m.getAttribute(s)||"";x=n+x;var w=l.get(x);w?w.push(m):l.set(x,[m])}}return l}function o_(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function n2(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function l_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var $l=null;function r2(){}function s2(n,s,a){if($l===null)throw Error(i(475));var l=$l;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=yo(a.href),m=n.querySelector(Fl(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=oh.bind(l),n.then(l,l)),s.state.loading|=4,s.instance=m,Tt(m);return}m=n.ownerDocument||n,a=s_(a),(d=Qn.get(d))&&Dm(a,d),m=m.createElement("link"),Tt(m);var x=m;x._p=new Promise(function(w,O){x.onload=w,x.onerror=O}),Zt(m,"link",a),s.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=oh.bind(l),n.addEventListener("load",s),n.addEventListener("error",s))}}function i2(){if($l===null)throw Error(i(475));var n=$l;return n.stylesheets&&n.count===0&&Om(n,n.stylesheets),0<n.count?function(s){var a=setTimeout(function(){if(n.stylesheets&&Om(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(a)}}:null}function oh(){if(this.count--,this.count===0){if(this.stylesheets)Om(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var lh=null;function Om(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,lh=new Map,s.forEach(a2,n),lh=null,oh.call(n))}function a2(n,s){if(!(s.state.loading&4)){var a=lh.get(n);if(a)var l=a.get(null);else{a=new Map,lh.set(n,a);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var x=d[m];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),l=x)}l&&a.set(null,l)}d=s.instance,x=d.getAttribute("data-precedence"),m=a.get(x)||l,m===l&&a.set(null,d),a.set(x,d),this.count++,l=oh.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var Kl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function o2(n,s,a,l,d,m,x,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.hiddenUpdates=qr(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function c_(n,s,a,l,d,m,x,w,O,$,te,ie){return n=new o2(n,s,a,x,w,O,$,ie),s=1,m===!0&&(s|=24),m=Nn(3,null,null,s),n.current=m,m.stateNode=n,s=pf(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:s},_f(m),n}function u_(n){return n?(n=Qa,n):Qa}function h_(n,s,a,l,d,m){d=u_(d),l.context===null?l.context=d:l.pendingContext=d,l=Bs(s),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=qs(n,l,s),a!==null&&(Dn(a,n,s),wl(a,n,s))}function d_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function Mm(n,s){d_(n,s),(n=n.alternate)&&d_(n,s)}function f_(n){if(n.tag===13){var s=Ka(n,67108864);s!==null&&Dn(s,n,67108864),Mm(n,67108864)}}var ch=!0;function l2(n,s,a,l){var d=Q.T;Q.T=null;var m=ue.p;try{ue.p=2,Pm(n,s,a,l)}finally{ue.p=m,Q.T=d}}function c2(n,s,a,l){var d=Q.T;Q.T=null;var m=ue.p;try{ue.p=8,Pm(n,s,a,l)}finally{ue.p=m,Q.T=d}}function Pm(n,s,a,l){if(ch){var d=Vm(l);if(d===null)wm(n,s,l,uh,a),p_(n,l);else if(h2(d,n,s,a,l))l.stopPropagation();else if(p_(n,l),s&4&&-1<u2.indexOf(n)){for(;d!==null;){var m=dr(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var x=Jn(m.pendingLanes);if(x!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;x;){var O=1<<31-rn(x);w.entanglements[1]|=O,x&=~O}Sr(m),(tt&6)===0&&(Ku=Mt()+500,zl(0))}}break;case 13:w=Ka(m,2),w!==null&&Dn(w,m,2),Yu(),Mm(m,2)}if(m=Vm(l),m===null&&wm(n,s,l,uh,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else wm(n,s,l,null,a)}}function Vm(n){return n=Un(n),Lm(n)}var uh=null;function Lm(n){if(uh=null,n=Fr(n),n!==null){var s=c(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return uh=n,null}function m_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sa()){case Ri:return 2;case Br:return 8;case Ii:case Bd:return 32;case Na:return 268435456;default:return 32}default:return 32}}var Um=!1,ti=null,ni=null,ri=null,Ql=new Map,Yl=new Map,si=[],u2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(n,s){switch(n){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(s.pointerId)}}function Xl(n,s,a,l,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},s!==null&&(s=dr(s),s!==null&&f_(s)),n):(n.eventSystemFlags|=l,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function h2(n,s,a,l,d){switch(s){case"focusin":return ti=Xl(ti,n,s,a,l,d),!0;case"dragenter":return ni=Xl(ni,n,s,a,l,d),!0;case"mouseover":return ri=Xl(ri,n,s,a,l,d),!0;case"pointerover":var m=d.pointerId;return Ql.set(m,Xl(Ql.get(m)||null,n,s,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Yl.set(m,Xl(Yl.get(m)||null,n,s,a,l,d)),!0}return!1}function g_(n){var s=Fr(n.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){n.blockedOn=s,Yc(n.priority,function(){if(a.tag===13){var l=jn();l=Ds(l);var d=Ka(a,l);d!==null&&Dn(d,a,l),Mm(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function hh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Vm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Qr=l,a.target.dispatchEvent(l),Qr=null}else return s=dr(a),s!==null&&f_(s),n.blockedOn=a,!1;s.shift()}return!0}function y_(n,s,a){hh(n)&&a.delete(s)}function d2(){Um=!1,ti!==null&&hh(ti)&&(ti=null),ni!==null&&hh(ni)&&(ni=null),ri!==null&&hh(ri)&&(ri=null),Ql.forEach(y_),Yl.forEach(y_)}function dh(n,s){n.blockedOn===s&&(n.blockedOn=null,Um||(Um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,d2)))}var fh=null;function v_(n){fh!==n&&(fh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fh===n&&(fh=null);for(var s=0;s<n.length;s+=3){var a=n[s],l=n[s+1],d=n[s+2];if(typeof l!="function"){if(Lm(l||a)===null)continue;break}var m=dr(a);m!==null&&(n.splice(s,3),s-=3,Lf(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function Wl(n){function s(O){return dh(O,n)}ti!==null&&dh(ti,n),ni!==null&&dh(ni,n),ri!==null&&dh(ri,n),Ql.forEach(s),Yl.forEach(s);for(var a=0;a<si.length;a++){var l=si[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<si.length&&(a=si[0],a.blockedOn===null);)g_(a),a.blockedOn===null&&si.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],x=d[Rt]||null;if(typeof m=="function")x||v_(a);else if(x){var w=null;if(m&&m.hasAttribute("formAction")){if(d=m,x=m[Rt]||null)w=x.formAction;else if(Lm(d)!==null)continue}else w=x.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),v_(a)}}}function zm(n){this._internalRoot=n}mh.prototype.render=zm.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var a=s.current,l=jn();h_(a,l,n,s,null,null)},mh.prototype.unmount=zm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;h_(n.current,2,null,n,null,null),Yu(),s[Vn]=null}};function mh(n){this._internalRoot=n}mh.prototype.unstable_scheduleHydration=function(n){if(n){var s=ks();n={blockedOn:null,target:n,priority:s};for(var a=0;a<si.length&&s!==0&&s<si[a].priority;a++);si.splice(a,0,n),a===0&&g_(n)}};var __=e.version;if(__!=="19.1.0")throw Error(i(527,__,"19.1.0"));ue.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=g(s),n=n!==null?y(n):null,n=n===null?null:n.stateNode,n};var f2={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ph.isDisabled&&ph.supportsFiber)try{yt=ph.inject(f2),et=ph}catch{}}return Jl.createRoot=function(n,s){if(!o(n))throw Error(i(299));var a=!1,l="",d=M0,m=P0,x=V0,w=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(x=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=c_(n,1,!1,null,null,a,l,d,m,x,w,null),n[Vn]=s.current,Em(n),new zm(s)},Jl.hydrateRoot=function(n,s,a){if(!o(n))throw Error(i(299));var l=!1,d="",m=M0,x=P0,w=V0,O=null,$=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(O=a.unstable_transitionCallbacks),a.formState!==void 0&&($=a.formState)),s=c_(n,1,!0,s,a??null,l,d,m,x,w,O,$),s.context=u_(null),a=s.current,l=jn(),l=Ds(l),d=Bs(l),d.callback=null,qs(a,d,l),a=l,s.current.lanes=a,Hr(s,a),Sr(s),n[Vn]=s.current,Em(n),new mh(s)},Jl.version="19.1.0",Jl}var I_;function w2(){if(I_)return Hm.exports;I_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hm.exports=E2(),Hm.exports}var T2=w2(),ec={},C_;function A2(){if(C_)return ec;C_=1,Object.defineProperty(ec,"__esModule",{value:!0}),ec.parse=h,ec.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function h(E,C){const A=new c,z=E.length;if(z<2)return A;const V=(C==null?void 0:C.decode)||b;let H=0;do{const K=E.indexOf("=",H);if(K===-1)break;const ee=E.indexOf(";",H),le=ee===-1?z:ee;if(K>le){H=E.lastIndexOf(";",K-1)+1;continue}const pe=p(E,H,K),oe=g(E,K,pe),j=E.slice(pe,oe);if(A[j]===void 0){let N=p(E,K+1,le),R=g(E,le,N);const D=V(E.slice(N,R));A[j]=D}H=le+1}while(H<z);return A}function p(E,C,A){do{const z=E.charCodeAt(C);if(z!==32&&z!==9)return C}while(++C<A);return A}function g(E,C,A){for(;C>A;){const z=E.charCodeAt(--C);if(z!==32&&z!==9)return C+1}return A}function y(E,C,A){const z=(A==null?void 0:A.encode)||encodeURIComponent;if(!r.test(E))throw new TypeError(`argument name is invalid: ${E}`);const V=z(C);if(!e.test(V))throw new TypeError(`argument val is invalid: ${C}`);let H=E+"="+V;if(!A)return H;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);H+="; Max-Age="+A.maxAge}if(A.domain){if(!t.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);H+="; Domain="+A.domain}if(A.path){if(!i.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);H+="; Path="+A.path}if(A.expires){if(!T(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);H+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(H+="; HttpOnly"),A.secure&&(H+="; Secure"),A.partitioned&&(H+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":H+="; Priority=Low";break;case"medium":H+="; Priority=Medium";break;case"high":H+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":H+="; SameSite=Strict";break;case"lax":H+="; SameSite=Lax";break;case"none":H+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return H}function b(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function T(E){return o.call(E)==="[object Date]"}return ec}A2();var j_="popstate";function S2(r={}){function e(o,c){let{pathname:h="/",search:p="",hash:g=""}=Ea(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),up("",{pathname:h,search:p,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function t(o,c){let h=o.document.querySelector("base"),p="";if(h&&h.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");p=y===-1?g:g.slice(0,y)}return p+"#"+(typeof c=="string"?c:vc(c))}function i(o,c){Wn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return R2(e,t,i,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N2(){return Math.random().toString(36).substring(2,10)}function D_(r,e){return{usr:r.state,key:r.key,idx:e}}function up(r,e,t=null,i){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ea(e):e,state:t,key:e&&e.key||i||N2()}}function vc({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Ea(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substring(i),r=r.substring(0,i)),r&&(e.pathname=r)}return e}function R2(r,e,t,i={}){let{window:o=document.defaultView,v5Compat:c=!1}=i,h=o.history,p="POP",g=null,y=b();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function b(){return(h.state||{idx:null}).idx}function T(){p="POP";let V=b(),H=V==null?null:V-y;y=V,g&&g({action:p,location:z.location,delta:H})}function E(V,H){p="PUSH";let K=up(z.location,V,H);t&&t(K,V),y=b()+1;let ee=D_(K,y),le=z.createHref(K);try{h.pushState(ee,"",le)}catch(pe){if(pe instanceof DOMException&&pe.name==="DataCloneError")throw pe;o.location.assign(le)}c&&g&&g({action:p,location:z.location,delta:1})}function C(V,H){p="REPLACE";let K=up(z.location,V,H);t&&t(K,V),y=b();let ee=D_(K,y),le=z.createHref(K);h.replaceState(ee,"",le),c&&g&&g({action:p,location:z.location,delta:0})}function A(V){return I2(V)}let z={get action(){return p},get location(){return r(o,h)},listen(V){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(j_,T),g=V,()=>{o.removeEventListener(j_,T),g=null}},createHref(V){return e(o,V)},createURL:A,encodeLocation(V){let H=A(V);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:E,replace:C,go(V){return h.go(V)}};return z}function I2(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ft(t,"No window.location.(origin|href) available to create URL");let i=typeof r=="string"?r:vc(r);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Nb(r,e,t="/"){return C2(r,e,t,!1)}function C2(r,e,t,i){let o=typeof e=="string"?Ea(e):e,c=xs(o.pathname||"/",t);if(c==null)return null;let h=Rb(r);j2(h);let p=null;for(let g=0;p==null&&g<h.length;++g){let y=q2(c);p=z2(h[g],y,i)}return p}function Rb(r,e=[],t=[],i=""){let o=(c,h,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&(ft(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length));let y=ys([i,g.relativePath]),b=t.concat(g);c.children&&c.children.length>0&&(ft(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Rb(c.children,e,b,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:L2(y,c.index),routesMeta:b})};return r.forEach((c,h)=>{var p;if(c.path===""||!((p=c.path)!=null&&p.includes("?")))o(c,h);else for(let g of Ib(c.path))o(c,h,g)}),e}function Ib(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let h=Ib(i.join("/")),p=[];return p.push(...h.map(g=>g===""?c:[c,g].join("/"))),o&&p.push(...h),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function j2(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:U2(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var D2=/^:[\w-]+$/,k2=3,O2=2,M2=1,P2=10,V2=-2,k_=r=>r==="*";function L2(r,e){let t=r.split("/"),i=t.length;return t.some(k_)&&(i+=V2),e&&(i+=O2),t.filter(o=>!k_(o)).reduce((o,c)=>o+(D2.test(c)?k2:c===""?M2:P2),i)}function U2(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function z2(r,e,t=!1){let{routesMeta:i}=r,o={},c="/",h=[];for(let p=0;p<i.length;++p){let g=i[p],y=p===i.length-1,b=c==="/"?e:e.slice(c.length)||"/",T=Uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),E=g.route;if(!T&&y&&t&&!i[i.length-1].route.index&&(T=Uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:ys([c,T.pathname]),pathnameBase:$2(ys([c,T.pathnameBase])),route:E}),T.pathnameBase!=="/"&&(c=ys([c,T.pathnameBase]))}return h}function Uh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=B2(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:i.reduce((y,{paramName:b,isOptional:T},E)=>{if(b==="*"){let A=p[E]||"";h=c.slice(0,c.length-A.length).replace(/(.)\/+$/,"$1")}const C=p[E];return T&&!C?y[b]=void 0:y[b]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:r}}function B2(r,e=!1,t=!0){Wn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,g)=>(i.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function q2(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function xs(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}function H2(r,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Ea(r):r;return{pathname:t?t.startsWith("/")?t:F2(t,e):e,search:K2(i),hash:Q2(o)}}function F2(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Km(r,e,t,i){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function G2(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hp(r){let e=G2(r);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Fp(r,e,t,i=!1){let o;typeof r=="string"?o=Ea(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),Km("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),Km("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),Km("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,p;if(h==null)p=t;else{let T=e.length-1;if(!i&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),T-=1;o.pathname=E.join("/")}p=T>=0?e[T]:"/"}let g=H2(o,p),y=h&&h!=="/"&&h.endsWith("/"),b=(c||h===".")&&t.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var ys=r=>r.join("/").replace(/\/\/+/g,"/"),$2=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),K2=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Q2=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Y2(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Cb=["POST","PUT","PATCH","DELETE"];new Set(Cb);var X2=["GET",...Cb];new Set(X2);var Vo=M.createContext(null);Vo.displayName="DataRouter";var hd=M.createContext(null);hd.displayName="DataRouterState";var jb=M.createContext({isTransitioning:!1});jb.displayName="ViewTransition";var W2=M.createContext(new Map);W2.displayName="Fetchers";var Z2=M.createContext(null);Z2.displayName="Await";var cr=M.createContext(null);cr.displayName="Navigation";var Dc=M.createContext(null);Dc.displayName="Location";var ur=M.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var Gp=M.createContext(null);Gp.displayName="RouteError";function J2(r,{relative:e}={}){ft(Lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=M.useContext(cr),{hash:o,pathname:c,search:h}=kc(r,{relative:e}),p=c;return t!=="/"&&(p=c==="/"?t:ys([t,c])),i.createHref({pathname:p,search:h,hash:o})}function Lo(){return M.useContext(Dc)!=null}function Ss(){return ft(Lo(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(Dc).location}var Db="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function kb(r){M.useContext(cr).static||M.useLayoutEffect(r)}function Ns(){let{isDataRoute:r}=M.useContext(ur);return r?fA():eA()}function eA(){ft(Lo(),"useNavigate() may be used only in the context of a <Router> component.");let r=M.useContext(Vo),{basename:e,navigator:t}=M.useContext(cr),{matches:i}=M.useContext(ur),{pathname:o}=Ss(),c=JSON.stringify(Hp(i)),h=M.useRef(!1);return kb(()=>{h.current=!0}),M.useCallback((g,y={})=>{if(Wn(h.current,Db),!h.current)return;if(typeof g=="number"){t.go(g);return}let b=Fp(g,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ys([e,b.pathname])),(y.replace?t.replace:t.push)(b,y.state,y)},[e,t,c,o,r])}M.createContext(null);function tA(){let{matches:r}=M.useContext(ur),e=r[r.length-1];return e?e.params:{}}function kc(r,{relative:e}={}){let{matches:t}=M.useContext(ur),{pathname:i}=Ss(),o=JSON.stringify(Hp(t));return M.useMemo(()=>Fp(r,JSON.parse(o),i,e==="path"),[r,o,i,e])}function nA(r,e){return Ob(r,e)}function Ob(r,e,t,i){var H;ft(Lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=M.useContext(cr),{matches:c}=M.useContext(ur),h=c[c.length-1],p=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",b=h&&h.route;{let K=b&&b.path||"";Mb(g,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let T=Ss(),E;if(e){let K=typeof e=="string"?Ea(e):e;ft(y==="/"||((H=K.pathname)==null?void 0:H.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${K.pathname}" was given in the \`location\` prop.`),E=K}else E=T;let C=E.pathname||"/",A=C;if(y!=="/"){let K=y.replace(/^\//,"").split("/");A="/"+C.replace(/^\//,"").split("/").slice(K.length).join("/")}let z=Nb(r,{pathname:A});Wn(b||z!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Wn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=oA(z&&z.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:ys([y,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?y:ys([y,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,t,i);return e&&V?M.createElement(Dc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},V):V}function rA(){let r=dA(),e=Y2(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},c={padding:"2px 4px",backgroundColor:i},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=M.createElement(M.Fragment,null,M.createElement("p",null,"💿 Hey developer 👋"),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:c},"ErrorBoundary")," or"," ",M.createElement("code",{style:c},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:o},t):null,h)}var sA=M.createElement(rA,null),iA=class extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?M.createElement(ur.Provider,{value:this.props.routeContext},M.createElement(Gp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aA({routeContext:r,match:e,children:t}){let i=M.useContext(Vo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(ur.Provider,{value:r},t)}function oA(r,e=[],t=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,c=t==null?void 0:t.errors;if(c!=null){let g=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);ft(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let h=!1,p=-1;if(t)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=g),y.route.id){let{loaderData:b,errors:T}=t,E=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!T||T[y.route.id]===void 0);if(y.route.lazy||E){h=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((g,y,b)=>{let T,E=!1,C=null,A=null;t&&(T=c&&y.route.id?c[y.route.id]:void 0,C=y.route.errorElement||sA,h&&(p<0&&b===0?(Mb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):p===b&&(E=!0,A=y.route.hydrateFallbackElement||null)));let z=e.concat(o.slice(0,b+1)),V=()=>{let H;return T?H=C:E?H=A:y.route.Component?H=M.createElement(y.route.Component,null):y.route.element?H=y.route.element:H=g,M.createElement(aA,{match:y,routeContext:{outlet:g,matches:z,isDataRoute:t!=null},children:H})};return t&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?M.createElement(iA,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:V(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):V()},null)}function $p(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lA(r){let e=M.useContext(Vo);return ft(e,$p(r)),e}function cA(r){let e=M.useContext(hd);return ft(e,$p(r)),e}function uA(r){let e=M.useContext(ur);return ft(e,$p(r)),e}function Kp(r){let e=uA(r),t=e.matches[e.matches.length-1];return ft(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function hA(){return Kp("useRouteId")}function dA(){var i;let r=M.useContext(Gp),e=cA("useRouteError"),t=Kp("useRouteError");return r!==void 0?r:(i=e.errors)==null?void 0:i[t]}function fA(){let{router:r}=lA("useNavigate"),e=Kp("useNavigate"),t=M.useRef(!1);return kb(()=>{t.current=!0}),M.useCallback(async(o,c={})=>{Wn(t.current,Db),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var O_={};function Mb(r,e,t){!e&&!O_[r]&&(O_[r]=!0,Wn(!1,t))}M.memo(mA);function mA({routes:r,future:e,state:t}){return Ob(r,void 0,t,e)}function Pb({to:r,replace:e,state:t,relative:i}){ft(Lo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=M.useContext(cr);Wn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=M.useContext(ur),{pathname:h}=Ss(),p=Ns(),g=Fp(r,Hp(c),h,i==="path"),y=JSON.stringify(g);return M.useEffect(()=>{p(JSON.parse(y),{replace:e,state:t,relative:i})},[p,y,i,e,t]),null}function kn(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pA({basename:r="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:c=!1}){ft(!Lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof t=="string"&&(t=Ea(t));let{pathname:g="/",search:y="",hash:b="",state:T=null,key:E="default"}=t,C=M.useMemo(()=>{let A=xs(g,h);return A==null?null:{location:{pathname:A,search:y,hash:b,state:T,key:E},navigationType:i}},[h,g,y,b,T,E,i]);return Wn(C!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:M.createElement(cr.Provider,{value:p},M.createElement(Dc.Provider,{children:e,value:C}))}function gA({children:r,location:e}){return nA(hp(r),e)}function hp(r,e=[]){let t=[];return M.Children.forEach(r,(i,o)=>{if(!M.isValidElement(i))return;let c=[...e,o];if(i.type===M.Fragment){t.push.apply(t,hp(i.props.children,c));return}ft(i.type===kn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!i.props.index||!i.props.children,"An index route cannot have child routes.");let h={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=hp(i.props.children,c)),t.push(h)}),t}var Sh="get",Nh="application/x-www-form-urlencoded";function dd(r){return r!=null&&typeof r.tagName=="string"}function yA(r){return dd(r)&&r.tagName.toLowerCase()==="button"}function vA(r){return dd(r)&&r.tagName.toLowerCase()==="form"}function _A(r){return dd(r)&&r.tagName.toLowerCase()==="input"}function xA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function bA(r,e){return r.button===0&&(!e||e==="_self")&&!xA(r)}var gh=null;function EA(){if(gh===null)try{new FormData(document.createElement("form"),0),gh=!1}catch{gh=!0}return gh}var wA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qm(r){return r!=null&&!wA.has(r)?(Wn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):r}function TA(r,e){let t,i,o,c,h;if(vA(r)){let p=r.getAttribute("action");i=p?xs(p,e):null,t=r.getAttribute("method")||Sh,o=Qm(r.getAttribute("enctype"))||Nh,c=new FormData(r)}else if(yA(r)||_A(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(i=g?xs(g,e):null,t=r.getAttribute("formmethod")||p.getAttribute("method")||Sh,o=Qm(r.getAttribute("formenctype"))||Qm(p.getAttribute("enctype"))||Nh,c=new FormData(p,r),!EA()){let{name:y,type:b,value:T}=r;if(b==="image"){let E=y?`${y}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else y&&c.append(y,T)}}else{if(dd(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sh,i=null,o=Nh,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:c,body:h}}function Qp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function AA(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function NA(r,e,t){let i=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let h=await AA(c,t);return h.links?h.links():[]}return[]}));return jA(i.flat(1).filter(SA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function M_(r,e,t,i,o,c){let h=(g,y)=>t[y]?g.route.id!==t[y].route.id:!0,p=(g,y)=>{var b;return t[y].pathname!==g.pathname||((b=t[y].route.path)==null?void 0:b.endsWith("*"))&&t[y].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,y)=>h(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{var T;let b=i.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(h(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let E=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function RA(r,e,{includeHydrateFallback:t}={}){return IA(r.map(i=>{let o=e.routes[i.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function IA(r){return[...new Set(r)]}function CA(r){let e={},t=Object.keys(r).sort();for(let i of t)e[i]=r[i];return e}function jA(r,e){let t=new Set;return new Set(e),r.reduce((i,o)=>{let c=JSON.stringify(CA(o));return t.has(c)||(t.add(c),i.push({key:c,link:o})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var DA=new Set([100,101,204,205]);function kA(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&xs(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Vb(){let r=M.useContext(Vo);return Qp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function OA(){let r=M.useContext(hd);return Qp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Yp=M.createContext(void 0);Yp.displayName="FrameworkContext";function Lb(){let r=M.useContext(Yp);return Qp(r,"You must render this element inside a <HydratedRouter> element"),r}function MA(r,e){let t=M.useContext(Yp),[i,o]=M.useState(!1),[c,h]=M.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:T}=e,E=M.useRef(null);M.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let z=H=>{H.forEach(K=>{h(K.isIntersecting)})},V=new IntersectionObserver(z,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[r]),M.useEffect(()=>{if(i){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[i]);let C=()=>{o(!0)},A=()=>{o(!1),h(!1)};return t?r!=="intent"?[c,E,{}]:[c,E,{onFocus:tc(p,C),onBlur:tc(g,A),onMouseEnter:tc(y,C),onMouseLeave:tc(b,A),onTouchStart:tc(T,C)}]:[!1,E,{}]}function tc(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function PA({page:r,...e}){let{router:t}=Vb(),i=M.useMemo(()=>Nb(t.routes,r,t.basename),[t.routes,r,t.basename]);return i?M.createElement(LA,{page:r,matches:i,...e}):null}function VA(r){let{manifest:e,routeModules:t}=Lb(),[i,o]=M.useState([]);return M.useEffect(()=>{let c=!1;return NA(r,e,t).then(h=>{c||o(h)}),()=>{c=!0}},[r,e,t]),i}function LA({page:r,matches:e,...t}){let i=Ss(),{manifest:o,routeModules:c}=Lb(),{basename:h}=Vb(),{loaderData:p,matches:g}=OA(),y=M.useMemo(()=>M_(r,e,g,o,i,"data"),[r,e,g,o,i]),b=M.useMemo(()=>M_(r,e,g,o,i,"assets"),[r,e,g,o,i]),T=M.useMemo(()=>{if(r===i.pathname+i.search+i.hash)return[];let A=new Set,z=!1;if(e.forEach(H=>{var ee;let K=o.routes[H.route.id];!K||!K.hasLoader||(!y.some(le=>le.route.id===H.route.id)&&H.route.id in p&&((ee=c[H.route.id])!=null&&ee.shouldRevalidate)||K.hasClientLoader?z=!0:A.add(H.route.id))}),A.size===0)return[];let V=kA(r,h);return z&&A.size>0&&V.searchParams.set("_routes",e.filter(H=>A.has(H.route.id)).map(H=>H.route.id).join(",")),[V.pathname+V.search]},[h,p,i,o,y,e,r,c]),E=M.useMemo(()=>RA(b,o),[b,o]),C=VA(b);return M.createElement(M.Fragment,null,T.map(A=>M.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),E.map(A=>M.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),C.map(({key:A,link:z})=>M.createElement("link",{key:A,...z})))}function UA(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Ub=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ub&&(window.__reactRouterVersion="7.6.3")}catch{}function zA({basename:r,children:e,window:t}){let i=M.useRef();i.current==null&&(i.current=S2({window:t,v5Compat:!0}));let o=i.current,[c,h]=M.useState({action:o.action,location:o.location}),p=M.useCallback(g=>{M.startTransition(()=>h(g))},[h]);return M.useLayoutEffect(()=>o.listen(p),[o,p]),M.createElement(pA,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bb=M.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:c,replace:h,state:p,target:g,to:y,preventScrollReset:b,viewTransition:T,...E},C){let{basename:A}=M.useContext(cr),z=typeof y=="string"&&zb.test(y),V,H=!1;if(typeof y=="string"&&z&&(V=y,Ub))try{let R=new URL(window.location.href),D=y.startsWith("//")?new URL(R.protocol+y):new URL(y),P=xs(D.pathname,A);D.origin===R.origin&&P!=null?y=P+D.search+D.hash:H=!0}catch{Wn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=J2(y,{relative:o}),[ee,le,pe]=MA(i,E),oe=FA(y,{replace:h,state:p,target:g,preventScrollReset:b,relative:o,viewTransition:T});function j(R){e&&e(R),R.defaultPrevented||oe(R)}let N=M.createElement("a",{...E,...pe,href:V||K,onClick:H||c?e:j,ref:UA(C,le),target:g,"data-discover":!z&&t==="render"?"true":void 0});return ee&&!z?M.createElement(M.Fragment,null,N,M.createElement(PA,{page:K})):N});Bb.displayName="Link";var BA=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:c,to:h,viewTransition:p,children:g,...y},b){let T=kc(h,{relative:y.relative}),E=Ss(),C=M.useContext(hd),{navigator:A,basename:z}=M.useContext(cr),V=C!=null&&YA(T)&&p===!0,H=A.encodeLocation?A.encodeLocation(T).pathname:T.pathname,K=E.pathname,ee=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(K=K.toLowerCase(),ee=ee?ee.toLowerCase():null,H=H.toLowerCase()),ee&&z&&(ee=xs(ee,z)||ee);const le=H!=="/"&&H.endsWith("/")?H.length-1:H.length;let pe=K===H||!o&&K.startsWith(H)&&K.charAt(le)==="/",oe=ee!=null&&(ee===H||!o&&ee.startsWith(H)&&ee.charAt(H.length)==="/"),j={isActive:pe,isPending:oe,isTransitioning:V},N=pe?e:void 0,R;typeof i=="function"?R=i(j):R=[i,pe?"active":null,oe?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let D=typeof c=="function"?c(j):c;return M.createElement(Bb,{...y,"aria-current":N,className:R,ref:b,style:D,to:h,viewTransition:p},typeof g=="function"?g(j):g)});BA.displayName="NavLink";var qA=M.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:c,method:h=Sh,action:p,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:T,...E},C)=>{let A=KA(),z=QA(p,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",H=typeof p=="string"&&zb.test(p),K=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let le=ee.nativeEvent.submitter,pe=(le==null?void 0:le.getAttribute("formmethod"))||h;A(le||ee.currentTarget,{fetcherKey:e,method:pe,navigate:t,replace:o,state:c,relative:y,preventScrollReset:b,viewTransition:T})};return M.createElement("form",{ref:C,method:V,action:z,onSubmit:i?g:K,...E,"data-discover":!H&&r==="render"?"true":void 0})});qA.displayName="Form";function HA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qb(r){let e=M.useContext(Vo);return ft(e,HA(r)),e}function FA(r,{target:e,replace:t,state:i,preventScrollReset:o,relative:c,viewTransition:h}={}){let p=Ns(),g=Ss(),y=kc(r,{relative:c});return M.useCallback(b=>{if(bA(b,e)){b.preventDefault();let T=t!==void 0?t:vc(g)===vc(y);p(r,{replace:T,state:i,preventScrollReset:o,relative:c,viewTransition:h})}},[g,p,y,t,i,e,r,o,c,h])}var GA=0,$A=()=>`__${String(++GA)}__`;function KA(){let{router:r}=qb("useSubmit"),{basename:e}=M.useContext(cr),t=hA();return M.useCallback(async(i,o={})=>{let{action:c,method:h,encType:p,formData:g,body:y}=TA(i,e);if(o.navigate===!1){let b=o.fetcherKey||$A();await r.fetch(b,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||h,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function QA(r,{relative:e}={}){let{basename:t}=M.useContext(cr),i=M.useContext(ur);ft(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),c={...kc(r||".",{relative:e})},h=Ss();if(r==null){c.search=h.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(b=>b==="")){p.delete("index"),g.filter(T=>T).forEach(T=>p.append("index",T));let b=p.toString();c.search=b?`?${b}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:ys([t,c.pathname])),vc(c)}function YA(r,e={}){let t=M.useContext(jb);ft(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=qb("useViewTransitionState"),o=kc(r,{relative:e.relative});if(!t.isTransitioning)return!1;let c=xs(t.currentLocation.pathname,i)||t.currentLocation.pathname,h=xs(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Uh(o.pathname,h)!=null||Uh(o.pathname,c)!=null}[...DA];/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),P_=r=>{const e=WA(r);return e.charAt(0).toUpperCase()+e.slice(1)},Hb=(...r)=>r.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),ZA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=M.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:c,iconNode:h,...p},g)=>M.createElement("svg",{ref:g,...JA,width:e,height:e,stroke:r,strokeWidth:i?Number(t)*24/Number(e):t,className:Hb("lucide",o),...!c&&!ZA(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,b])=>M.createElement(y,b)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(r,e)=>{const t=M.forwardRef(({className:i,...o},c)=>M.createElement(eS,{ref:c,iconNode:e,className:Hb(`lucide-${XA(P_(r))}`,`lucide-${r}`,i),...o}));return t.displayName=P_(r),t};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Xp=Se("arrow-left",tS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Wp=Se("award",nS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Fb=Se("bookmark",rS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],V_=Se("calculator",sS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dp=Se("calendar",iS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],zh=Se("camera",aS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],lS=Se("chart-column",oS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],uS=Se("chart-pie",cS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dS=Se("chevron-down",hS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],mS=Se("chevron-left",fS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gb=Se("chevron-right",pS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yS=Se("circle-alert",gS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$b=Se("circle-check-big",vS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],xS=Se("circle-plus",_S);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],di=Se("clock",bS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],wo=Se("crown",ES);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],TS=Se("download",wS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],SS=Se("ellipsis",AS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],L_=Se("flame",NS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],IS=Se("heart",RS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],U_=Se("house",CS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],z_=Se("image",jS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kS=Se("info",DS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],MS=Se("loader",OS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],fp=Se("lock",PS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],mp=Se("log-out",VS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],US=Se("mail",LS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],BS=Se("medal",zS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],HS=Se("menu",qS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],pp=Se("message-circle",FS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],$S=Se("pen-line",GS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],QS=Se("phone",KS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],B_=Se("play",YS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WS=Se("rotate-ccw",XS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],JS=Se("save",ZS);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Kb=Se("search",eN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Qb=Se("send",tN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q_=Se("settings",nN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Zp=Se("share-2",rN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],iN=Se("smile",sN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Rh=Se("star",aN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Bh=Se("target",oN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],cN=Se("timer",lN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],hN=Se("trending-down",uN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],fd=Se("trending-up",dN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yb=Se("triangle-alert",fN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],qh=Se("trophy",mN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],gN=Se("upload",pN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Rr=Se("user",yN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],H_=Se("users",vN);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jp=Se("x",_N);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],eg=Se("zap",xN),bN=()=>{};var F_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},EN=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[t++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[t++],h=r[t++],p=r[t++],g=((o&7)<<18|(c&63)<<12|(h&63)<<6|p&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const c=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Wb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,p=h?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,b=c>>2,T=(c&3)<<4|p>>4;let E=(p&15)<<2|y>>6,C=y&63;g||(C=64,h||(E=64)),i.push(t[b],t[T],t[E],t[C])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Xb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):EN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const c=t[r.charAt(o++)],p=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||T==null)throw new wN;const E=c<<2|p>>4;if(i.push(E),y!==64){const C=p<<4&240|y>>2;if(i.push(C),T!==64){const A=y<<6&192|T;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class wN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TN=function(r){const e=Xb(r);return Wb.encodeByteArray(e,!0)},Hh=function(r){return TN(r).replace(/\./g,"")},Zb=function(r){try{return Wb.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=()=>AN().__FIREBASE_DEFAULTS__,NN=()=>{if(typeof process>"u"||typeof F_>"u")return;const r=F_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},RN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Zb(r[1]);return e&&JSON.parse(e)},md=()=>{try{return bN()||SN()||NN()||RN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Jb=r=>{var e,t;return(t=(e=md())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},e1=r=>{const e=Jb(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},t1=()=>{var r;return(r=md())===null||r===void 0?void 0:r.config},n1=r=>{var e;return(e=md())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tg(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Hh(JSON.stringify(t)),Hh(JSON.stringify(h)),""].join(".")}const hc={};function CN(){const r={prod:[],emulator:[]};for(const e of Object.keys(hc))hc[e]?r.emulator.push(e):r.prod.push(e);return r}function jN(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let G_=!1;function ng(r,e){if(typeof window>"u"||typeof document>"u"||!Ai(window.location.host)||hc[r]===e||hc[r]||G_)return;hc[r]=e;function t(E){return`__firebase__banner__${E}`}const i="__firebase__banner",c=CN().prod.length>0;function h(){const E=document.getElementById(i);E&&E.remove()}function p(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,C){E.setAttribute("width","24"),E.setAttribute("id",C),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function y(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{G_=!0,h()},E}function b(E,C){E.setAttribute("id",C),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function T(){const E=jN(i),C=t("text"),A=document.getElementById(C)||document.createElement("span"),z=t("learnmore"),V=document.getElementById(z)||document.createElement("a"),H=t("preprendIcon"),K=document.getElementById(H)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const ee=E.element;p(ee),b(V,z);const le=y();g(K,H),ee.append(K,A,V,le),document.body.appendChild(ee)}c?(A.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function kN(){var r;const e=(r=md())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ON(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MN(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VN(){const r=un();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function LN(){return!kN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UN(){try{return typeof indexedDB=="object"}catch{return!1}}function zN(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="FirebaseError";class Lr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=BN,Object.setPrototypeOf(this,Lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oc.prototype.create)}}class Oc{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],h=c?qN(c,i):"Error",p=`${this.serviceName}: ${h} (${o}).`;return new Lr(o,p,i)}}function qN(r,e){return r.replace(HN,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const HN=/\{\$([^}]+)}/g;function FN(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function pa(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const c=r[o],h=e[o];if($_(c)&&$_(h)){if(!pa(c,h))return!1}else if(c!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function $_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ic(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function ac(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function GN(r,e){const t=new $N(r,e);return t.subscribe.bind(t)}class $N{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");KN(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Ym),o.error===void 0&&(o.error=Ym),o.complete===void 0&&(o.complete=Ym);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KN(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(r){return r&&r._delegate?r._delegate:r}class yi{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new IN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XN(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,h]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);i===p&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),c=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(o,c);const h=this.instances.get(o);return h&&e(h,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:YN(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YN(r){return r===ca?void 0:r}function XN(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new QN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(He||(He={}));const ZN={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},JN=He.INFO,eR={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},tR=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=eR[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rg{constructor(e){this.name=e,this._logLevel=JN,this._logHandler=tR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const nR=(r,e)=>e.some(t=>r instanceof t);let K_,Q_;function rR(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sR(){return Q_||(Q_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s1=new WeakMap,gp=new WeakMap,i1=new WeakMap,Xm=new WeakMap,sg=new WeakMap;function iR(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{t(fi(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&s1.set(t,r)}).catch(()=>{}),sg.set(e,r),e}function aR(r){if(gp.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});gp.set(r,e)}let yp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return gp.get(r);if(e==="objectStoreNames")return r.objectStoreNames||i1.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function oR(r){yp=r(yp)}function lR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Wm(this),e,...t);return i1.set(i,e.sort?e.sort():[e]),fi(i)}:sR().includes(r)?function(...e){return r.apply(Wm(this),e),fi(s1.get(this))}:function(...e){return fi(r.apply(Wm(this),e))}}function cR(r){return typeof r=="function"?lR(r):(r instanceof IDBTransaction&&aR(r),nR(r,rR())?new Proxy(r,yp):r)}function fi(r){if(r instanceof IDBRequest)return iR(r);if(Xm.has(r))return Xm.get(r);const e=cR(r);return e!==r&&(Xm.set(r,e),sg.set(e,r)),e}const Wm=r=>sg.get(r);function uR(r,e,{blocked:t,upgrade:i,blocking:o,terminated:c}={}){const h=indexedDB.open(r,e),p=fi(h);return i&&h.addEventListener("upgradeneeded",g=>{i(fi(h.result),g.oldVersion,g.newVersion,fi(h.transaction),g)}),t&&h.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const hR=["get","getKey","getAll","getAllKeys","count"],dR=["put","add","delete","clear"],Zm=new Map;function Y_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=dR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||hR.includes(t)))return;const c=async function(h,...p){const g=this.transaction(h,o?"readwrite":"readonly");let y=g.store;return i&&(y=y.index(p.shift())),(await Promise.all([y[t](...p),o&&g.done]))[0]};return Zm.set(e,c),c}oR(r=>({...r,get:(e,t,i)=>Y_(e,t)||r.get(e,t,i),has:(e,t)=>!!Y_(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(mR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function mR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vp="@firebase/app",X_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new rg("@firebase/app"),pR="@firebase/app-compat",gR="@firebase/analytics-compat",yR="@firebase/analytics",vR="@firebase/app-check-compat",_R="@firebase/app-check",xR="@firebase/auth",bR="@firebase/auth-compat",ER="@firebase/database",wR="@firebase/data-connect",TR="@firebase/database-compat",AR="@firebase/functions",SR="@firebase/functions-compat",NR="@firebase/installations",RR="@firebase/installations-compat",IR="@firebase/messaging",CR="@firebase/messaging-compat",jR="@firebase/performance",DR="@firebase/performance-compat",kR="@firebase/remote-config",OR="@firebase/remote-config-compat",MR="@firebase/storage",PR="@firebase/storage-compat",VR="@firebase/firestore",LR="@firebase/ai",UR="@firebase/firestore-compat",zR="firebase",BR="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="[DEFAULT]",qR={[vp]:"fire-core",[pR]:"fire-core-compat",[yR]:"fire-analytics",[gR]:"fire-analytics-compat",[_R]:"fire-app-check",[vR]:"fire-app-check-compat",[xR]:"fire-auth",[bR]:"fire-auth-compat",[ER]:"fire-rtdb",[wR]:"fire-data-connect",[TR]:"fire-rtdb-compat",[AR]:"fire-fn",[SR]:"fire-fn-compat",[NR]:"fire-iid",[RR]:"fire-iid-compat",[IR]:"fire-fcm",[CR]:"fire-fcm-compat",[jR]:"fire-perf",[DR]:"fire-perf-compat",[kR]:"fire-rc",[OR]:"fire-rc-compat",[MR]:"fire-gcs",[PR]:"fire-gcs-compat",[VR]:"fire-fst",[UR]:"fire-fst-compat",[LR]:"fire-vertex","fire-js":"fire-js",[zR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=new Map,HR=new Map,xp=new Map;function W_(r,e){try{r.container.addComponent(e)}catch(t){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ga(r){const e=r.name;if(xp.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;xp.set(e,r);for(const t of Fh.values())W_(t,r);for(const t of HR.values())W_(t,r);return!0}function pd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function bn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},mi=new Oc("app","Firebase",FR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=BR;function a1(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:_p,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw mi.create("bad-app-name",{appName:String(o)});if(t||(t=t1()),!t)throw mi.create("no-options");const c=Fh.get(o);if(c){if(pa(t,c.options)&&pa(i,c.config))return c;throw mi.create("duplicate-app",{appName:o})}const h=new WN(o);for(const g of xp.values())h.addComponent(g);const p=new GR(t,i,h);return Fh.set(o,p),p}function ig(r=_p){const e=Fh.get(r);if(!e&&r===_p&&t1())return a1();if(!e)throw mi.create("no-app",{appName:r});return e}function jr(r,e,t){var i;let o=(i=qR[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const c=o.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const p=[`Unable to register library "${o}" with version "${e}":`];c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&h&&p.push("and"),h&&p.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(p.join(" "));return}ga(new yi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R="firebase-heartbeat-database",KR=1,_c="firebase-heartbeat-store";let Jm=null;function o1(){return Jm||(Jm=uR($R,KR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(_c)}catch(t){console.warn(t)}}}}).catch(r=>{throw mi.create("idb-open",{originalErrorMessage:r.message})})),Jm}async function QR(r){try{const t=(await o1()).transaction(_c),i=await t.objectStore(_c).get(l1(r));return await t.done,i}catch(e){if(e instanceof Lr)bs.warn(e.message);else{const t=mi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bs.warn(t.message)}}}async function Z_(r,e){try{const i=(await o1()).transaction(_c,"readwrite");await i.objectStore(_c).put(e,l1(r)),await i.done}catch(t){if(t instanceof Lr)bs.warn(t.message);else{const i=mi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});bs.warn(i.message)}}}function l1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=1024,XR=30;class WR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new JR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=J_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>XR){const h=eI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){bs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:i,unsentEntries:o}=ZR(this._heartbeatsCache.heartbeats),c=Hh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return bs.warn(t),""}}}function J_(){return new Date().toISOString().substring(0,10)}function ZR(r,e=YR){const t=[];let i=r.slice();for(const o of r){const c=t.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),ex(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),ex(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class JR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UN()?zN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await QR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return Z_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function ex(r){return Hh(JSON.stringify({version:2,heartbeats:r})).length}function eI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(r){ga(new yi("platform-logger",e=>new fR(e),"PRIVATE")),ga(new yi("heartbeat",e=>new WR(e),"PRIVATE")),jr(vp,X_,r),jr(vp,X_,"esm2017"),jr("fire-js","")}tI("");function ag(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function c1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nI=c1,u1=new Oc("auth","Firebase",c1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new rg("@firebase/auth");function rI(r,...e){Gh.logLevel<=He.WARN&&Gh.warn(`Auth (${wa}): ${r}`,...e)}function Ih(r,...e){Gh.logLevel<=He.ERROR&&Gh.error(`Auth (${wa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(r,...e){throw lg(r,...e)}function ar(r,...e){return lg(r,...e)}function og(r,e,t){const i=Object.assign(Object.assign({},nI()),{[e]:t});return new Oc("auth","Firebase",i).create(e,{appName:r.name})}function vs(r){return og(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sI(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Zn(r,"argument-error"),og(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lg(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return u1.create(r,...e)}function Ce(r,e,...t){if(!r)throw lg(e,...t)}function ps(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Ih(e),new Error(e)}function Es(r,e){r||ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function iI(){return tx()==="http:"||tx()==="https:"}function tx(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iI()||MN()||"connection"in navigator)?navigator.onLine:!0}function oI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Es(t>e,"Short delay should be less than long delay!"),this.isMobile=DN()||PN()}get(){return aI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(r,e){Es(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uI=new Pc(3e4,6e4);function Rs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ur(r,e,t,i,o={}){return d1(r,o,async()=>{let c={},h={};i&&(e==="GET"?h=i:c={body:JSON.stringify(i)});const p=Mc(Object.assign({key:r.config.apiKey},h)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},c);return ON()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ai(r.emulatorConfig.host)&&(y.credentials="include"),h1.fetch()(await f1(r,r.config.apiHost,t,p),y)})}async function d1(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},lI),e);try{const o=new dI(r),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw yh(r,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const p=c.ok?h.errorMessage:h.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw yh(r,"credential-already-in-use",h);if(g==="EMAIL_EXISTS")throw yh(r,"email-already-in-use",h);if(g==="USER_DISABLED")throw yh(r,"user-disabled",h);const b=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw og(r,b,y);Zn(r,b)}}catch(o){if(o instanceof Lr)throw o;Zn(r,"network-request-failed",{message:String(o)})}}async function Vc(r,e,t,i,o={}){const c=await Ur(r,e,t,i,o);return"mfaPendingCredential"in c&&Zn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function f1(r,e,t,i){const o=`${e}${t}?${i}`,c=r,h=c.config.emulator?cg(r.config,o):`${r.config.apiScheme}://${o}`;return cI.includes(t)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function hI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(ar(this.auth,"network-request-failed")),uI.get())})}}function yh(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=ar(r,e,i);return o.customData._tokenResponse=t,o}function nx(r){return r!==void 0&&r.enterprise!==void 0}class fI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mI(r,e){return Ur(r,"GET","/v2/recaptchaConfig",Rs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pI(r,e){return Ur(r,"POST","/v1/accounts:delete",e)}async function $h(r,e){return Ur(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gI(r,e=!1){const t=mt(r),i=await t.getIdToken(e),o=ug(i);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:dc(ep(o.auth_time)),issuedAtTime:dc(ep(o.iat)),expirationTime:dc(ep(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function ep(r){return Number(r)*1e3}function ug(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=Zb(t);return o?JSON.parse(o):(Ih("Failed to decode base64 JWT payload"),null)}catch(o){return Ih("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function rx(r){const e=ug(r);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Lr&&yI(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function yI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(r){var e;const t=r.auth,i=await r.getIdToken(),o=await Io(r,$h(t,{idToken:i}));Ce(o==null?void 0:o.users.length,t,"internal-error");const c=o.users[0];r._notifyReloadListener(c);const h=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?m1(c.providerUserInfo):[],p=xI(r.providerData,h),g=r.isAnonymous,y=!(r.email&&c.passwordHash)&&!(p!=null&&p.length),b=g?y:!1,T={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:p,metadata:new Ep(c.createdAt,c.lastLoginAt),isAnonymous:b};Object.assign(r,T)}async function _I(r){const e=mt(r);await Kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xI(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function m1(r){return r.map(e=>{var{providerId:t}=e,i=ag(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(r,e){const t=await d1(r,{},async()=>{const i=Mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,h=await f1(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:i};return r.emulatorConfig&&Ai(r.emulatorConfig.host)&&(g.credentials="include"),h1.fetch()(h,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function EI(r,e){return Ur(r,"POST","/v2/accounts:revokeToken",Rs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=rx(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:c}=await bI(e,t);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:c}=t,h=new Ao;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Ce(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),c&&(Ce(typeof c=="number","internal-error",{appName:e}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ao,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(r,e){Ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,c=ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Ep(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await Io(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gI(this,e)}reload(){return _I(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Kh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await Io(this,pI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,c,h,p,g,y,b;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,E=(o=t.email)!==null&&o!==void 0?o:void 0,C=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,A=(h=t.photoURL)!==null&&h!==void 0?h:void 0,z=(p=t.tenantId)!==null&&p!==void 0?p:void 0,V=(g=t._redirectEventId)!==null&&g!==void 0?g:void 0,H=(y=t.createdAt)!==null&&y!==void 0?y:void 0,K=(b=t.lastLoginAt)!==null&&b!==void 0?b:void 0,{uid:ee,emailVerified:le,isAnonymous:pe,providerData:oe,stsTokenManager:j}=t;Ce(ee&&j,e,"internal-error");const N=Ao.fromJSON(this.name,j);Ce(typeof ee=="string",e,"internal-error"),ai(T,e.name),ai(E,e.name),Ce(typeof le=="boolean",e,"internal-error"),Ce(typeof pe=="boolean",e,"internal-error"),ai(C,e.name),ai(A,e.name),ai(z,e.name),ai(V,e.name),ai(H,e.name),ai(K,e.name);const R=new ir({uid:ee,auth:e,email:E,emailVerified:le,displayName:T,isAnonymous:pe,photoURL:A,phoneNumber:C,tenantId:z,stsTokenManager:N,createdAt:H,lastLoginAt:K});return oe&&Array.isArray(oe)&&(R.providerData=oe.map(D=>Object.assign({},D))),V&&(R._redirectEventId=V),R}static async _fromIdTokenResponse(e,t,i=!1){const o=new Ao;o.updateFromServerResponse(t);const c=new ir({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Kh(c),c}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Ce(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?m1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),p=new Ao;p.updateFromIdToken(i);const g=new ir({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Ep(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new Map;function gs(r){Es(r instanceof Function,"Expected a class definition");let e=sx.get(r);return e?(Es(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,sx.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}p1.type="NONE";const ix=p1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ch(r,e,t){return`firebase:${r}:${e}:${t}`}class So{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Ch(this.userKey,o.apiKey,c),this.fullPersistenceKey=Ch("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $h(this.auth,{idToken:e}).catch(()=>{});return t?ir._fromGetAccountInfoResponse(this.auth,t,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new So(gs(ix),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||gs(ix);const h=Ch(i,e.config.apiKey,e.name);let p=null;for(const y of t)try{const b=await y._get(h);if(b){let T;if(typeof b=="string"){const E=await $h(e,{idToken:b}).catch(()=>{});if(!E)break;T=await ir._fromGetAccountInfoResponse(e,E,b)}else T=ir._fromJSON(e,b);y!==c&&(p=T),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new So(c,e,i):(c=g[0],p&&await c._set(h,p.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(h)}catch{}})),new So(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(g1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b1(e))return"Blackberry";if(E1(e))return"Webos";if(y1(e))return"Safari";if((e.includes("chrome/")||v1(e))&&!e.includes("edge/"))return"Chrome";if(x1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function g1(r=un()){return/firefox\//i.test(r)}function y1(r=un()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function v1(r=un()){return/crios\//i.test(r)}function _1(r=un()){return/iemobile/i.test(r)}function x1(r=un()){return/android/i.test(r)}function b1(r=un()){return/blackberry/i.test(r)}function E1(r=un()){return/webos/i.test(r)}function hg(r=un()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function wI(r=un()){var e;return hg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TI(){return VN()&&document.documentMode===10}function w1(r=un()){return hg(r)||x1(r)||E1(r)||b1(r)||/windows phone/i.test(r)||_1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(r,e=[]){let t;switch(r){case"Browser":t=ax(un());break;case"Worker":t=`${ax(un())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${wa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((h,p)=>{try{const g=e(c);h(g)}catch(g){p(g)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,e={}){return Ur(r,"GET","/v2/passwordPolicy",Rs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=6;class RI{constructor(e){var t,i,o,c;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:NI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,c,h,p;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(t=g.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),g.isValid&&(g.isValid=(i=g.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(h=g.containsNumericCharacter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(p=g.containsNonAlphanumericCharacter)!==null&&p!==void 0?p:!0),g}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ox(this),this.idTokenSubscription=new ox(this),this.beforeStateQueue=new AI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=u1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=gs(t)),this._initializationPromise=this.queue(async()=>{var i,o,c;if(!this._deleted&&(this.persistenceManager=await So.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $h(this,{idToken:e}),i=await ir._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,p=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!h||h===p)&&(g!=null&&g.user)&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(vs(this));const t=e?mt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SI(this),t=new RI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Oc("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await EI(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&gs(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await So.create(this,[gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let h=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(p,this,"internal-error"),p.then(()=>{h||c(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,o);return()=>{h=!0,g()}}else{const g=e.addObserver(t);return()=>{h=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&rI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Is(r){return mt(r)}class ox{constructor(e){this.auth=e,this.observer=null,this.addObserver=GN(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CI(r){gd=r}function A1(r){return gd.loadJS(r)}function jI(){return gd.recaptchaEnterpriseScript}function DI(){return gd.gapiScript}function kI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class OI{constructor(){this.enterprise=new MI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class MI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const PI="recaptcha-enterprise",S1="NO_RECAPTCHA";class VI{constructor(e){this.type=PI,this.auth=Is(e)}async verify(e="verify",t=!1){async function i(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,p)=>{mI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new fI(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,h(y.siteKey)}}).catch(g=>{p(g)})})}function o(c,h,p){const g=window.grecaptcha;nx(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{h(y)}).catch(()=>{h(S1)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OI().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{i(this.auth).then(p=>{if(!t&&nx(window.grecaptcha))o(p,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let g=jI();g.length!==0&&(g+=p),A1(g).then(()=>{o(p,c,h)}).catch(y=>{h(y)})}}).catch(p=>{h(p)})})}}async function lx(r,e,t,i=!1,o=!1){const c=new VI(r);let h;if(o)h=S1;else try{h=await c.verify(t)}catch{h=await c.verify(t,!0)}const p=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return i?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Qh(r,e,t,i,o){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await lx(r,e,t,t==="getOobCode");return i(r,h)}else return i(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await lx(r,e,t,t==="getOobCode");return i(r,p)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r,e){const t=pd(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(pa(c,e??{}))return o;Zn(o,"already-initialized")}return t.initialize({options:e})}function UI(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(gs);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function zI(r,e,t){const i=Is(r);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=N1(e),{host:h,port:p}=BI(e),g=p===null?"":`:${p}`,y={url:`${c}//${h}${g}/`},b=Object.freeze({host:h,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(pa(y,i.config.emulator)&&pa(b,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=b,i.settings.appVerificationDisabledForTesting=!0,Ai(h)?(tg(`${c}//${h}${g}`),ng("Auth",!0)):qI()}function N1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function BI(r){const e=N1(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:cx(i.substr(c.length+1))}}else{const[c,h]=i.split(":");return{host:c,port:cx(h)}}}function cx(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function qI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,t){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function HI(r,e){return Ur(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(r,e){return Vc(r,"POST","/v1/accounts:signInWithPassword",Rs(r,e))}async function GI(r,e){return Ur(r,"POST","/v1/accounts:sendOobCode",Rs(r,e))}async function $I(r,e){return GI(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(r,e){return Vc(r,"POST","/v1/accounts:signInWithEmailLink",Rs(r,e))}async function QI(r,e){return Vc(r,"POST","/v1/accounts:signInWithEmailLink",Rs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends dg{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new xc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new xc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qh(e,t,"signInWithPassword",FI);case"emailLink":return KI(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qh(e,i,"signUpPassword",HI);case"emailLink":return QI(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r,e){return Vc(r,"POST","/v1/accounts:signInWithIdp",Rs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="http://localhost";class ya extends dg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,c=ag(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new ya(i,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return No(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,No(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,No(e,t)}buildRequest(){const e={requestUri:YI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Mc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WI(r){const e=ic(ac(r)).link,t=e?ic(ac(e)).deep_link_id:null,i=ic(ac(r)).deep_link_id;return(i?ic(ac(i)).link:null)||i||t||e||r}class fg{constructor(e){var t,i,o,c,h,p;const g=ic(ac(e)),y=(t=g.apiKey)!==null&&t!==void 0?t:null,b=(i=g.oobCode)!==null&&i!==void 0?i:null,T=XI((o=g.mode)!==null&&o!==void 0?o:null);Ce(y&&b&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=b,this.continueUrl=(c=g.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=g.lang)!==null&&h!==void 0?h:null,this.tenantId=(p=g.tenantId)!==null&&p!==void 0?p:null}static parseLink(e){const t=WI(e);try{return new fg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.providerId=Uo.PROVIDER_ID}static credential(e,t){return xc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=fg.parseLink(t);return Ce(i,"argument-error"),xc._fromEmailAndCode(e,i.code,i.tenantId)}}Uo.PROVIDER_ID="password";Uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends mg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Lc{constructor(){super("facebook.com")}static credential(e){return ya._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ya._fromParams({providerId:ms.PROVIDER_ID,signInMethod:ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ms.credentialFromTaggedObject(e)}static credentialFromError(e){return ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ms.credential(t,i)}catch{return null}}}ms.GOOGLE_SIGN_IN_METHOD="google.com";ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends Lc{constructor(){super("github.com")}static credential(e){return ya._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return li.credential(e.oauthAccessToken)}catch{return null}}}li.GITHUB_SIGN_IN_METHOD="github.com";li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends Lc{constructor(){super("twitter.com")}static credential(e,t){return ya._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ci.credential(t,i)}catch{return null}}}ci.TWITTER_SIGN_IN_METHOD="twitter.com";ci.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(r,e){return Vc(r,"POST","/v1/accounts:signUp",Rs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const c=await ir._fromIdTokenResponse(e,i,o),h=ux(i);return new va({user:c,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=ux(i);return new va({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function ux(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends Lr{constructor(e,t,i,o){var c;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Yh.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Yh(e,t,i,o)}}function R1(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Yh._fromErrorAndOperation(r,c,e,i):c})}async function JI(r,e,t=!1){const i=await Io(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return va._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC(r,e,t=!1){const{auth:i}=r;if(bn(i.app))return Promise.reject(vs(i));const o="reauthenticate";try{const c=await Io(r,R1(i,o,e,r),t);Ce(c.idToken,i,"internal-error");const h=ug(c.idToken);Ce(h,i,"internal-error");const{sub:p}=h;return Ce(r.uid===p,i,"user-mismatch"),va._forOperation(r,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Zn(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(r,e,t=!1){if(bn(r.app))return Promise.reject(vs(r));const i="signIn",o=await R1(r,i,e),c=await va._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(c.user),c}async function tC(r,e){return I1(Is(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(r){const e=Is(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nC(r,e,t){const i=Is(r);await Qh(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",$I)}async function rC(r,e,t){if(bn(r.app))return Promise.reject(vs(r));const i=Is(r),h=await Qh(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&C1(r),g}),p=await va._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(p.user),p}function sC(r,e,t){return bn(r.app)?Promise.reject(vs(r)):tC(mt(r),Uo.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&C1(r),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(r,e){return Ur(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=mt(r),c={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Io(i,iC(i.auth,c));i.displayName=h.displayName||null,i.photoURL=h.photoUrl||null;const p=i.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=i.displayName,p.photoURL=i.photoURL),await i._updateTokensIfNecessary(h)}function aC(r,e,t,i){return mt(r).onIdTokenChanged(e,t,i)}function oC(r,e,t){return mt(r).beforeAuthStateChanged(e,t)}function zo(r,e,t,i){return mt(r).onAuthStateChanged(e,t,i)}function D1(r){return mt(r).signOut()}const Xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=1e3,cC=10;class O1 extends k1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,p,g)=>{this.notifyListeners(h,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},c=this.storage.getItem(i);TI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}O1.type="LOCAL";const uC=O1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1 extends k1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}M1.type="SESSION";const P1=M1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new yd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:c}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const p=Array.from(h).map(async y=>y(t.origin,c)),g=await hC(p);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((p,g)=>{const y=pg("",20);o.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(T){const E=T;if(E.data.eventId===y)switch(E.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(E.data.response);break;default:clearTimeout(b),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function fC(r){Dr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function mC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function gC(){return V1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="firebaseLocalStorageDb",yC=1,Wh="firebaseLocalStorage",U1="fbase_key";class Uc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vd(r,e){return r.transaction([Wh],e?"readwrite":"readonly").objectStore(Wh)}function vC(){const r=indexedDB.deleteDatabase(L1);return new Uc(r).toPromise()}function wp(){const r=indexedDB.open(L1,yC);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Wh,{keyPath:U1})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Wh)?e(i):(i.close(),await vC(),e(await wp()))})})}async function hx(r,e,t){const i=vd(r,!0).put({[U1]:e,value:t});return new Uc(i).toPromise()}async function _C(r,e){const t=vd(r,!1).get(e),i=await new Uc(t).toPromise();return i===void 0?null:i.value}function dx(r,e){const t=vd(r,!0).delete(e);return new Uc(t).toPromise()}const xC=800,bC=3;class z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>bC)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(gC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await mC(),!this.activeServiceWorker)return;this.sender=new dC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wp();return await hx(e,Xh,"1"),await dx(e,Xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>hx(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>_C(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dx(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=vd(o,!1).getAll();return new Uc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z1.type="LOCAL";const EC=z1;new Pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(r,e){return e?gs(e):(Ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg extends dg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,t){return No(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wC(r){return I1(r.auth,new gg(r),r.bypassAuthState)}function TC(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),eC(t,new gg(r),r.bypassAuthState)}async function AC(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),JI(t,new gg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:c,error:h,type:p}=e;if(h){this.reject(h);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wC;case"linkViaPopup":case"linkViaRedirect":return AC;case"reauthViaPopup":case"reauthViaRedirect":return TC;default:Zn(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=new Pc(2e3,1e4);async function NC(r,e,t){if(bn(r.app))return Promise.reject(ar(r,"operation-not-supported-in-this-environment"));const i=Is(r);sI(r,e,mg);const o=B1(i,t);return new ua(i,"signInViaPopup",e,o).executeNotNull()}class ua extends q1{constructor(e,t,i,o,c){super(e,t,o,c),this.provider=i,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=pg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SC.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="pendingRedirect",jh=new Map;class IC extends q1{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=jh.get(this.auth._key());if(!e){try{const i=await CC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}jh.set(this.auth._key(),e)}return this.bypassAuthState||jh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CC(r,e){const t=kC(e),i=DC(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function jC(r,e){jh.set(r._key(),e)}function DC(r){return gs(r._redirectPersistence)}function kC(r){return Ch(RC,r.config.apiKey,r.name)}async function OC(r,e,t=!1){if(bn(r.app))return Promise.reject(vs(r));const i=Is(r),o=B1(i,e),h=await new IC(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=10*60*1e3;class PC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!H1(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(ar(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MC&&this.cachedEventUids.clear(),this.cachedEventUids.has(fx(e))}saveEventToCache(e){this.cachedEventUids.add(fx(e)),this.lastProcessedEventTime=Date.now()}}function fx(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function H1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return H1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(r,e={}){return Ur(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zC=/^https?/;async function BC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await LC(r);for(const t of e)try{if(qC(t))return}catch{}Zn(r,"unauthorized-domain")}function qC(r){const e=bp(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!zC.test(t))return!1;if(UC.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Pc(3e4,6e4);function mx(){const r=Dr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function FC(r){return new Promise((e,t)=>{var i,o,c;function h(){mx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mx(),t(ar(r,"network-request-failed"))},timeout:HC.get()})}if(!((o=(i=Dr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=Dr().gapi)===null||c===void 0)&&c.load)h();else{const p=kI("iframefcb");return Dr()[p]=()=>{gapi.load?h():t(ar(r,"network-request-failed"))},A1(`${DI()}?onload=${p}`).catch(g=>t(g))}}).catch(e=>{throw Dh=null,e})}let Dh=null;function GC(r){return Dh=Dh||FC(r),Dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=new Pc(5e3,15e3),KC="__/auth/iframe",QC="emulator/auth/iframe",YC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WC(r){const e=r.config;Ce(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?cg(e,QC):`https://${r.config.authDomain}/${KC}`,i={apiKey:e.apiKey,appName:r.name,v:wa},o=XC.get(r.config.apiHost);o&&(i.eid=o);const c=r._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${Mc(i).slice(1)}`}async function ZC(r){const e=await GC(r),t=Dr().gapi;return Ce(t,r,"internal-error"),e.open({where:document.body,url:WC(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YC,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const h=ar(r,"network-request-failed"),p=Dr().setTimeout(()=>{c(h)},$C.get());function g(){Dr().clearTimeout(p),o(i)}i.ping(g).then(g,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e4=500,t4=600,n4="_blank",r4="http://localhost";class px{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s4(r,e,t,i=e4,o=t4){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let p="";const g=Object.assign(Object.assign({},JC),{width:i.toString(),height:o.toString(),top:c,left:h}),y=un().toLowerCase();t&&(p=v1(y)?n4:t),g1(y)&&(e=e||r4,g.scrollbars="yes");const b=Object.entries(g).reduce((E,[C,A])=>`${E}${C}=${A},`,"");if(wI(y)&&p!=="_self")return i4(e||"",p),new px(null);const T=window.open(e||"",p,b);Ce(T,r,"popup-blocked");try{T.focus()}catch{}return new px(T)}function i4(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="__/auth/handler",o4="emulator/auth/handler",l4=encodeURIComponent("fac");async function gx(r,e,t,i,o,c){Ce(r.config.authDomain,r,"auth-domain-config-required"),Ce(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:wa,eventId:o};if(e instanceof mg){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",FN(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))h[b]=T}if(e instanceof Lc){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(h.scopes=b.join(","))}r.tenantId&&(h.tid=r.tenantId);const p=h;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const g=await r._getAppCheckToken(),y=g?`#${l4}=${encodeURIComponent(g)}`:"";return`${c4(r)}?${Mc(p).slice(1)}${y}`}function c4({config:r}){return r.emulator?cg(r,o4):`https://${r.authDomain}/${a4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="webStorageSupport";class u4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P1,this._completeRedirectFn=OC,this._overrideRedirectResult=jC}async _openPopup(e,t,i,o){var c;Es((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await gx(e,t,i,bp(),o);return s4(e,h,pg())}async _openRedirect(e,t,i,o){await this._originValidation(e);const c=await gx(e,t,i,bp(),o);return fC(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(Es(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ZC(e),i=new PC(e);return t.register("authEvent",o=>(Ce(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(tp,{type:tp},o=>{var c;const h=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[tp];h!==void 0&&t(!!h),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=BC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return w1()||y1()||hg()}}const h4=u4;var yx="@firebase/auth",vx="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function m4(r){ga(new yi("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:h,authDomain:p}=i.options;Ce(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:h,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T1(r)},y=new II(i,o,c,g);return UI(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ga(new yi("auth-internal",e=>{const t=Is(e.getProvider("auth").getImmediate());return(i=>new d4(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(yx,vx,f4(r)),jr(yx,vx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4=5*60,g4=n1("authIdTokenMaxAge")||p4;let _x=null;const y4=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>g4)return;const o=t==null?void 0:t.token;_x!==o&&(_x=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Cs(r=ig()){const e=pd(r,"auth");if(e.isInitialized())return e.getImmediate();const t=LI(r,{popupRedirectResolver:h4,persistence:[EC,uC,P1]}),i=n1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const h=y4(c.toString());oC(t,h,()=>h(t.currentUser)),aC(t,p=>h(p))}}const o=Jb("auth");return o&&zI(t,`http://${o}`),t}function v4(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}CI({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const c=ar("internal-error");c.customData=o,t(c)},i.type="text/javascript",i.charset="UTF-8",v4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});m4("Browser");function or(){const r=Ns(),[e,t]=M.useState(!1),[i,o]=M.useState(!1),[c,h]=M.useState(null),p=Cs(),g=M.useRef(null);M.useEffect(()=>zo(p,A=>{h(A)}),[p]),M.useEffect(()=>{const C=A=>{g.current&&!g.current.contains(A.target)&&o(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const y=async()=>{try{await D1(p),o(!1),r("/auth")}catch(C){console.error("Erro ao fazer logout: ",C)}},b=()=>{t(!e)},T=()=>{o(!i)},E=C=>{switch(o(!1),C){case"profile":r("/profile");break;case"journey":r("/jornada-hiit");break;case"settings":console.log("Navegar para Gerenciar Conta");break;case"logout":y();break}};return f.jsx("header",{className:"bg-gray-900 text-white shadow-lg fixed top-0 left-0 right-0 z-50",children:f.jsxs("div",{className:"container mx-auto px-6",children:[f.jsxs("div",{className:"flex justify-between items-center py-4",children:[f.jsx("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>r("/dashboard"),children:f.jsx("img",{src:"/fina.png",alt:"Team HIIT Logo",className:"h-8"})}),f.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[f.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:[f.jsx(U_,{className:"w-4 h-4"}),f.jsx("span",{children:"Dashboard"})]}),f.jsxs("button",{onClick:()=>r(c?"/community":"/auth"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:[f.jsx(H_,{className:"w-4 h-4"}),f.jsx("span",{children:"Comunidade"})]}),f.jsxs("button",{onClick:()=>r(c?"/nutrition":"/auth"),className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:[f.jsx(V_,{className:"w-4 h-4"}),f.jsx("span",{children:"Nutrição"})]}),c&&f.jsxs("div",{className:"relative",ref:g,children:[f.jsxs("button",{onClick:T,className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:[c.photoURL?f.jsx("img",{src:c.photoURL,alt:"Foto de Perfil",className:"w-6 h-6 rounded-full object-cover"}):f.jsx(Rr,{className:"w-4 h-4"}),f.jsx("span",{children:c.displayName||"Usuário"}),f.jsx(dS,{className:`w-4 h-4 transition-transform duration-200 ${i?"rotate-180":""}`})]}),i&&f.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[f.jsx("div",{className:"px-4 py-3 border-b border-gray-100",children:f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:c.photoURL?f.jsx("img",{src:c.photoURL,alt:"Foto de Perfil",className:"w-8 h-8 rounded-full object-cover"}):f.jsx(Rr,{className:"w-4 h-4 text-white"})}),f.jsx("span",{className:"font-medium text-gray-900",children:c.displayName||"Usuário"})]})}),f.jsxs("button",{onClick:()=>E("profile"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[f.jsx(Rr,{className:"w-4 h-4 text-gray-500"}),f.jsx("span",{className:"text-gray-700",children:"Meu perfil"})]}),f.jsxs("button",{onClick:()=>E("journey"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[f.jsx(qh,{className:"w-4 h-4 text-gray-500"}),f.jsx("span",{className:"text-gray-700",children:"Jornada HIIT"})]}),f.jsxs("button",{onClick:()=>E("settings"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[f.jsx(q_,{className:"w-4 h-4 text-gray-500"}),f.jsx("span",{className:"text-gray-700",children:"Gerenciar conta"})]}),f.jsx("div",{className:"border-t border-gray-100 mt-2 pt-2",children:f.jsxs("button",{onClick:()=>E("logout"),className:"w-full flex items-center space-x-3 px-4 py-3 text-left hover:bg-gray-50 transition-colors duration-200",children:[f.jsx(mp,{className:"w-4 h-4 text-red-500"}),f.jsx("span",{className:"text-red-600",children:"Sair"})]})})]})]}),!c&&f.jsxs("button",{onClick:()=>r("/auth"),className:"flex items-center space-x-2 px-4 py-2 bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200",children:[f.jsx(Rr,{className:"w-4 h-4"}),f.jsx("span",{children:"Entrar"})]})]}),f.jsx("button",{onClick:b,className:"md:hidden p-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:e?f.jsx(Jp,{className:"w-6 h-6"}):f.jsx(HS,{className:"w-6 h-6"})})]}),e&&f.jsx("div",{className:"md:hidden py-4 border-t border-gray-700",children:f.jsxs("nav",{className:"space-y-2",children:[f.jsxs("button",{onClick:()=>{r("/dashboard"),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[f.jsx(U_,{className:"w-5 h-5"}),f.jsx("span",{children:"Dashboard"})]}),f.jsxs("button",{onClick:()=>{r(c?"/community":"/auth"),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[f.jsx(H_,{className:"w-5 h-5"}),f.jsx("span",{children:"Comunidade"})]}),f.jsxs("button",{onClick:()=>{r(c?"/nutrition":"/auth"),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[f.jsx(V_,{className:"w-5 h-5"}),f.jsx("span",{children:"Nutrição"})]}),c&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>{r("/profile"),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[c.photoURL?f.jsx("img",{src:c.photoURL,alt:"Foto de Perfil",className:"w-8 h-8 rounded-full object-cover"}):f.jsx(Rr,{className:"w-5 h-5"}),f.jsx("span",{children:"Meu perfil"})]}),f.jsxs("button",{onClick:()=>{r("/jornada-hiit"),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[f.jsx(qh,{className:"w-5 h-5"}),f.jsx("span",{children:"Jornada HIIT"})]}),f.jsxs("button",{onClick:()=>{t(!1),console.log("Navegar para Gerenciar Conta")},className:"w-full flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition-colors duration-200 text-left",children:[f.jsx(q_,{className:"w-5 h-5"}),f.jsx("span",{children:"Gerenciar conta"})]}),f.jsxs("button",{onClick:()=>{y(),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200 text-left",children:[f.jsx(mp,{className:"w-5 h-5"}),f.jsx("span",{children:"Sair"})]})]}),!c&&f.jsxs("button",{onClick:()=>{r("/auth"),t(!1)},className:"w-full flex items-center space-x-3 px-4 py-3 bg-red-600 rounded-lg hover:bg-red-700 transition-colors duration-200 text-left",children:[f.jsx(Rr,{className:"w-5 h-5"}),f.jsx("span",{children:"Entrar"})]})]})})]})})}const F1=M.createContext(),G1=()=>{const r=M.useContext(F1);if(!r)throw new Error("useToast must be used within a ToastProvider");return r},_4=({children:r})=>{const[e,t]=M.useState([]),i=M.useCallback((h,p="info",g=5e3)=>{const y=Date.now()+Math.random(),b={id:y,message:h,type:p,duration:g};return t(T=>[...T,b]),g>0&&setTimeout(()=>{t(T=>T.filter(E=>E.id!==y))},g),y},[]),o=M.useCallback(h=>{t(p=>p.filter(g=>g.id!==h))},[]),c={addToast:i,removeToast:o,ToastContainer:()=>f.jsx(x4,{toasts:e,removeToast:o})};return f.jsx(F1.Provider,{value:c,children:r})},x4=({toasts:r,removeToast:e})=>r.length===0?null:f.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(t=>f.jsx(b4,{toast:t,onClose:()=>e(t.id)},t.id))}),b4=({toast:r,onClose:e})=>{const t=()=>{switch(r.type){case"success":return f.jsx($b,{className:"w-5 h-5 text-green-500"});case"error":return f.jsx(yS,{className:"w-5 h-5 text-red-500"});case"warning":return f.jsx(Yb,{className:"w-5 h-5 text-yellow-500"});default:return f.jsx(kS,{className:"w-5 h-5 text-blue-500"})}},i=()=>{switch(r.type){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}};return f.jsxs("div",{className:`flex items-center p-4 rounded-lg border shadow-lg min-w-80 ${i()}`,children:[t(),f.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 flex-1",children:r.message}),f.jsx("button",{onClick:e,className:"ml-3 text-gray-400 hover:text-gray-600",children:f.jsx(Jp,{className:"w-4 h-4"})})]})},np=({src:r,alt:e,className:t="",style:i={},onLoad:o,onError:c,placeholder:h=null})=>{const[p,g]=M.useState(!1),[y,b]=M.useState(!1),[T,E]=M.useState(!1),C=M.useRef(null),A=M.useRef(null);M.useEffect(()=>{const K=C.current;if(K)return A.current=new IntersectionObserver(ee=>{ee.forEach(le=>{var pe;le.isIntersecting&&(b(!0),(pe=A.current)==null||pe.unobserve(le.target))})},{threshold:0,rootMargin:"500px"}),A.current.observe(K),()=>{A.current&&K&&A.current.unobserve(K)}},[]);const z=K=>{g(!0),o&&o(K)},V=K=>{E(!0),c&&c(K)},H=f.jsx("div",{className:`flex items-center justify-center bg-gray-200 ${t}`,style:i,children:f.jsxs("div",{className:"text-center text-gray-500",children:[f.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),f.jsx("p",{className:"text-xs",children:"Erro ao carregar imagem"})]})});return T?h||H:f.jsxs("div",{ref:C,className:"relative",children:[!p&&f.jsx("div",{className:`absolute inset-0 flex items-center justify-center bg-gray-100 ${t}`,style:i,children:h||f.jsxs("div",{className:"text-center text-gray-400",children:[f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-2"}),f.jsx("p",{className:"text-xs",children:"Carregando..."})]})}),y&&f.jsx("img",{src:r,alt:e,className:`transition-opacity duration-300 ${p?"opacity-100":"opacity-0"} ${t}`,style:i,onLoad:z,onError:V})]})};function E4(){const[r,e]=M.useState([]),[t,i]=M.useState(""),[o,c]=M.useState(0),[h,p]=M.useState(!0),g=Ns(),{addToast:y,ToastContainer:b}=G1();M.useEffect(()=>{(async()=>{try{const z=document.createElement("script");z.src="/trainings.js",z.onload=()=>{if(window.trainingsData&&window.trainingsData.sections)e(window.trainingsData.sections),p(!1);else throw new Error("Dados dos treinos não encontrados")},z.onerror=()=>{throw new Error("Erro ao carregar arquivo de treinos")},document.head.appendChild(z)}catch(z){console.error("Erro ao carregar treinos:",z),i(`Erro ao carregar treinos: ${z.message}`),y("Erro ao carregar treinos","error"),p(!1)}})()},[]),M.useEffect(()=>{const A=setInterval(()=>{c(z=>(z+1)%2)},5e3);return()=>clearInterval(A)},[]);const T=A=>{switch(A.toLowerCase()){case"força":case"específico":return"from-blue-500 to-blue-600";case"cardio":case"hiit":case"desafio":return"from-red-500 to-orange-500";case"guia":case"suporte":return"from-green-500 to-teal-500";default:return"from-purple-500 to-pink-500"}},E=[f.jsxs("div",{className:"relative overflow-hidden",style:{height:"800px"},children:[f.jsx(np,{src:"/BANNER PRINCIPAL/TREINOS-GRATIS.png",alt:"Team HIIT - Treinos Grátis",className:"w-full h-full",style:{objectFit:"cover",objectPosition:"center center"}}),f.jsx("div",{className:"absolute inset-0 bg-black/10"})]},"slide1"),f.jsxs("div",{className:"relative overflow-hidden",style:{height:"800px"},children:[f.jsx(np,{src:"/BANNER PRINCIPAL/Indique-um-amigo.png",alt:"Team HIIT - Indique um Amigo",className:"w-full h-full",style:{objectFit:"cover",objectPosition:"center center"}}),f.jsx("div",{className:"absolute inset-0 bg-black/10"})]},"slide2")],C=()=>r.reduce((A,z)=>A+z.trainings.length,0);return h?f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx(or,{}),f.jsx("div",{className:"container mx-auto px-4 py-8",children:f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((A,z)=>f.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm",children:[f.jsx("div",{className:"skeleton h-48 rounded-lg mb-4 bg-gray-200 animate-pulse"}),f.jsx("div",{className:"skeleton h-6 rounded mb-2 bg-gray-200 animate-pulse"}),f.jsx("div",{className:"skeleton h-4 rounded mb-4 bg-gray-200 animate-pulse"}),f.jsx("div",{className:"skeleton h-10 rounded bg-gray-200 animate-pulse"})]},z))})})]}):f.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[f.jsx(or,{}),f.jsx(b,{}),f.jsx("div",{className:"w-full mb-8 animate-fade-in-up pt-20",children:f.jsxs("div",{className:"relative overflow-hidden",style:{height:"800px"},children:[f.jsx("div",{className:"flex transition-transform duration-500 ease-in-out h-full",style:{transform:`translateX(-${o*100}%)`},children:E.map((A,z)=>f.jsx("div",{className:"w-full flex-shrink-0 h-full",children:A},z))}),f.jsx("button",{onClick:()=>c(o===0?E.length-1:o-1),className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 hover:scale-110 backdrop-blur-sm z-10",children:"←"}),f.jsx("button",{onClick:()=>c(o===E.length-1?0:o+1),className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-3 rounded-full transition-all duration-300 hover:scale-110 backdrop-blur-sm z-10",children:"→"}),f.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2 z-10",children:E.map((A,z)=>f.jsx("button",{onClick:()=>c(z),className:`w-3 h-3 rounded-full transition-all duration-300 ${z===o?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`},z))})]})}),f.jsxs("div",{className:"container mx-auto px-6 py-8",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-100",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mb-4",children:f.jsx(fd,{className:"w-6 h-6 text-white"})}),f.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:C()}),f.jsx("p",{className:"text-gray-400",children:"Treinos Disponíveis"})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-200",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-green-500 to-teal-500 rounded-full mb-4",children:f.jsx(Wp,{className:"w-6 h-6 text-white"})}),f.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"12"}),f.jsx("p",{className:"text-gray-400",children:"Treinos Concluídos"})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-300",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full mb-4",children:f.jsx(eg,{className:"w-6 h-6 text-white"})}),f.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"2,847"}),f.jsx("p",{className:"text-gray-400",children:"Calorias Queimadas"})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 text-center card-hover animate-fade-in-up animate-delay-400",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full mb-4",children:f.jsx(di,{className:"w-6 h-6 text-white"})}),f.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"48h"}),f.jsx("p",{className:"text-gray-400",children:"Tempo Total"})]})]}),t&&f.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:t}),r.map((A,z)=>f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:A.title==="CANAIS DE SUPORTE"?"CRONOGRAMAS SEMANAIS":A.title}),A.description&&f.jsx("p",{className:"text-gray-400 mb-6",children:A.description}),A.trainings.length>0?f.jsx("div",{className:"overflow-x-auto pb-4 md:overflow-visible",children:f.jsx("div",{className:"flex gap-8 md:grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 md:gap-8",children:A.trainings.map((V,H)=>f.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer transform transition-transform duration-300 hover:scale-105 hover:shadow-xl flex-shrink-0 w-72 md:w-auto flex flex-col aspect-[3/4]",onClick:()=>g(`/trainings/${V.id}`),children:[f.jsx("div",{className:"relative flex-1",children:f.jsx(np,{src:`/${V.imageUrl}`,alt:V.title,className:"w-full h-full",style:{objectFit:"cover"}})}),f.jsxs("div",{className:"p-4 bg-white",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-2",children:V.title}),f.jsxs("div",{className:"flex items-center text-sm text-gray-500 mb-3",children:[f.jsx(di,{className:"w-4 h-4 mr-1"}),f.jsx("span",{children:V.duration}),f.jsx("span",{className:"mx-2",children:"•"}),f.jsx("span",{children:V.level})]}),f.jsx("div",{className:"flex flex-wrap gap-2",children:V.categories.slice(0,2).map(K=>f.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full text-white 
                                bg-gradient-to-r ${T(K)}
                              `,children:K},K))})]})]},V.id))})}):f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:f.jsx(Kb,{className:"w-8 h-8 text-gray-400"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"Nenhum treino encontrado"}),f.jsx("p",{className:"text-gray-600",children:"Nenhum treino disponível nesta categoria no momento."})]})]},A.id))]})]})}var xx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pi,$1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,N){function R(){}R.prototype=N.prototype,j.D=N.prototype,j.prototype=new R,j.prototype.constructor=j,j.C=function(D,P,L){for(var I=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)I[Ge-2]=arguments[Ge];return N.prototype[P].apply(D,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(j,N,R){R||(R=0);var D=Array(16);if(typeof N=="string")for(var P=0;16>P;++P)D[P]=N.charCodeAt(R++)|N.charCodeAt(R++)<<8|N.charCodeAt(R++)<<16|N.charCodeAt(R++)<<24;else for(P=0;16>P;++P)D[P]=N[R++]|N[R++]<<8|N[R++]<<16|N[R++]<<24;N=j.g[0],R=j.g[1],P=j.g[2];var L=j.g[3],I=N+(L^R&(P^L))+D[0]+3614090360&4294967295;N=R+(I<<7&4294967295|I>>>25),I=L+(P^N&(R^P))+D[1]+3905402710&4294967295,L=N+(I<<12&4294967295|I>>>20),I=P+(R^L&(N^R))+D[2]+606105819&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(N^P&(L^N))+D[3]+3250441966&4294967295,R=P+(I<<22&4294967295|I>>>10),I=N+(L^R&(P^L))+D[4]+4118548399&4294967295,N=R+(I<<7&4294967295|I>>>25),I=L+(P^N&(R^P))+D[5]+1200080426&4294967295,L=N+(I<<12&4294967295|I>>>20),I=P+(R^L&(N^R))+D[6]+2821735955&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(N^P&(L^N))+D[7]+4249261313&4294967295,R=P+(I<<22&4294967295|I>>>10),I=N+(L^R&(P^L))+D[8]+1770035416&4294967295,N=R+(I<<7&4294967295|I>>>25),I=L+(P^N&(R^P))+D[9]+2336552879&4294967295,L=N+(I<<12&4294967295|I>>>20),I=P+(R^L&(N^R))+D[10]+4294925233&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(N^P&(L^N))+D[11]+2304563134&4294967295,R=P+(I<<22&4294967295|I>>>10),I=N+(L^R&(P^L))+D[12]+1804603682&4294967295,N=R+(I<<7&4294967295|I>>>25),I=L+(P^N&(R^P))+D[13]+4254626195&4294967295,L=N+(I<<12&4294967295|I>>>20),I=P+(R^L&(N^R))+D[14]+2792965006&4294967295,P=L+(I<<17&4294967295|I>>>15),I=R+(N^P&(L^N))+D[15]+1236535329&4294967295,R=P+(I<<22&4294967295|I>>>10),I=N+(P^L&(R^P))+D[1]+4129170786&4294967295,N=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(N^R))+D[6]+3225465664&4294967295,L=N+(I<<9&4294967295|I>>>23),I=P+(N^R&(L^N))+D[11]+643717713&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^N&(P^L))+D[0]+3921069994&4294967295,R=P+(I<<20&4294967295|I>>>12),I=N+(P^L&(R^P))+D[5]+3593408605&4294967295,N=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(N^R))+D[10]+38016083&4294967295,L=N+(I<<9&4294967295|I>>>23),I=P+(N^R&(L^N))+D[15]+3634488961&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^N&(P^L))+D[4]+3889429448&4294967295,R=P+(I<<20&4294967295|I>>>12),I=N+(P^L&(R^P))+D[9]+568446438&4294967295,N=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(N^R))+D[14]+3275163606&4294967295,L=N+(I<<9&4294967295|I>>>23),I=P+(N^R&(L^N))+D[3]+4107603335&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^N&(P^L))+D[8]+1163531501&4294967295,R=P+(I<<20&4294967295|I>>>12),I=N+(P^L&(R^P))+D[13]+2850285829&4294967295,N=R+(I<<5&4294967295|I>>>27),I=L+(R^P&(N^R))+D[2]+4243563512&4294967295,L=N+(I<<9&4294967295|I>>>23),I=P+(N^R&(L^N))+D[7]+1735328473&4294967295,P=L+(I<<14&4294967295|I>>>18),I=R+(L^N&(P^L))+D[12]+2368359562&4294967295,R=P+(I<<20&4294967295|I>>>12),I=N+(R^P^L)+D[5]+4294588738&4294967295,N=R+(I<<4&4294967295|I>>>28),I=L+(N^R^P)+D[8]+2272392833&4294967295,L=N+(I<<11&4294967295|I>>>21),I=P+(L^N^R)+D[11]+1839030562&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^N)+D[14]+4259657740&4294967295,R=P+(I<<23&4294967295|I>>>9),I=N+(R^P^L)+D[1]+2763975236&4294967295,N=R+(I<<4&4294967295|I>>>28),I=L+(N^R^P)+D[4]+1272893353&4294967295,L=N+(I<<11&4294967295|I>>>21),I=P+(L^N^R)+D[7]+4139469664&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^N)+D[10]+3200236656&4294967295,R=P+(I<<23&4294967295|I>>>9),I=N+(R^P^L)+D[13]+681279174&4294967295,N=R+(I<<4&4294967295|I>>>28),I=L+(N^R^P)+D[0]+3936430074&4294967295,L=N+(I<<11&4294967295|I>>>21),I=P+(L^N^R)+D[3]+3572445317&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^N)+D[6]+76029189&4294967295,R=P+(I<<23&4294967295|I>>>9),I=N+(R^P^L)+D[9]+3654602809&4294967295,N=R+(I<<4&4294967295|I>>>28),I=L+(N^R^P)+D[12]+3873151461&4294967295,L=N+(I<<11&4294967295|I>>>21),I=P+(L^N^R)+D[15]+530742520&4294967295,P=L+(I<<16&4294967295|I>>>16),I=R+(P^L^N)+D[2]+3299628645&4294967295,R=P+(I<<23&4294967295|I>>>9),I=N+(P^(R|~L))+D[0]+4096336452&4294967295,N=R+(I<<6&4294967295|I>>>26),I=L+(R^(N|~P))+D[7]+1126891415&4294967295,L=N+(I<<10&4294967295|I>>>22),I=P+(N^(L|~R))+D[14]+2878612391&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~N))+D[5]+4237533241&4294967295,R=P+(I<<21&4294967295|I>>>11),I=N+(P^(R|~L))+D[12]+1700485571&4294967295,N=R+(I<<6&4294967295|I>>>26),I=L+(R^(N|~P))+D[3]+2399980690&4294967295,L=N+(I<<10&4294967295|I>>>22),I=P+(N^(L|~R))+D[10]+4293915773&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~N))+D[1]+2240044497&4294967295,R=P+(I<<21&4294967295|I>>>11),I=N+(P^(R|~L))+D[8]+1873313359&4294967295,N=R+(I<<6&4294967295|I>>>26),I=L+(R^(N|~P))+D[15]+4264355552&4294967295,L=N+(I<<10&4294967295|I>>>22),I=P+(N^(L|~R))+D[6]+2734768916&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~N))+D[13]+1309151649&4294967295,R=P+(I<<21&4294967295|I>>>11),I=N+(P^(R|~L))+D[4]+4149444226&4294967295,N=R+(I<<6&4294967295|I>>>26),I=L+(R^(N|~P))+D[11]+3174756917&4294967295,L=N+(I<<10&4294967295|I>>>22),I=P+(N^(L|~R))+D[2]+718787259&4294967295,P=L+(I<<15&4294967295|I>>>17),I=R+(L^(P|~N))+D[9]+3951481745&4294967295,j.g[0]=j.g[0]+N&4294967295,j.g[1]=j.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,j.g[2]=j.g[2]+P&4294967295,j.g[3]=j.g[3]+L&4294967295}i.prototype.u=function(j,N){N===void 0&&(N=j.length);for(var R=N-this.blockSize,D=this.B,P=this.h,L=0;L<N;){if(P==0)for(;L<=R;)o(this,j,L),L+=this.blockSize;if(typeof j=="string"){for(;L<N;)if(D[P++]=j.charCodeAt(L++),P==this.blockSize){o(this,D),P=0;break}}else for(;L<N;)if(D[P++]=j[L++],P==this.blockSize){o(this,D),P=0;break}}this.h=P,this.o+=N},i.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var N=1;N<j.length-8;++N)j[N]=0;var R=8*this.o;for(N=j.length-8;N<j.length;++N)j[N]=R&255,R/=256;for(this.u(j),j=Array(16),N=R=0;4>N;++N)for(var D=0;32>D;D+=8)j[R++]=this.g[N]>>>D&255;return j};function c(j,N){var R=p;return Object.prototype.hasOwnProperty.call(R,j)?R[j]:R[j]=N(j)}function h(j,N){this.h=N;for(var R=[],D=!0,P=j.length-1;0<=P;P--){var L=j[P]|0;D&&L==N||(R[P]=L,D=!1)}this.g=R}var p={};function g(j){return-128<=j&&128>j?c(j,function(N){return new h([N|0],0>N?-1:0)}):new h([j|0],0>j?-1:0)}function y(j){if(isNaN(j)||!isFinite(j))return T;if(0>j)return V(y(-j));for(var N=[],R=1,D=0;j>=R;D++)N[D]=j/R|0,R*=4294967296;return new h(N,0)}function b(j,N){if(j.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j.charAt(0)=="-")return V(b(j.substring(1),N));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(N,8)),D=T,P=0;P<j.length;P+=8){var L=Math.min(8,j.length-P),I=parseInt(j.substring(P,P+L),N);8>L?(L=y(Math.pow(N,L)),D=D.j(L).add(y(I))):(D=D.j(R),D=D.add(y(I)))}return D}var T=g(0),E=g(1),C=g(16777216);r=h.prototype,r.m=function(){if(z(this))return-V(this).m();for(var j=0,N=1,R=0;R<this.g.length;R++){var D=this.i(R);j+=(0<=D?D:4294967296+D)*N,N*=4294967296}return j},r.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(A(this))return"0";if(z(this))return"-"+V(this).toString(j);for(var N=y(Math.pow(j,6)),R=this,D="";;){var P=le(R,N).g;R=H(R,P.j(N));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(j);if(R=P,A(R))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},r.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function A(j){if(j.h!=0)return!1;for(var N=0;N<j.g.length;N++)if(j.g[N]!=0)return!1;return!0}function z(j){return j.h==-1}r.l=function(j){return j=H(this,j),z(j)?-1:A(j)?0:1};function V(j){for(var N=j.g.length,R=[],D=0;D<N;D++)R[D]=~j.g[D];return new h(R,~j.h).add(E)}r.abs=function(){return z(this)?V(this):this},r.add=function(j){for(var N=Math.max(this.g.length,j.g.length),R=[],D=0,P=0;P<=N;P++){var L=D+(this.i(P)&65535)+(j.i(P)&65535),I=(L>>>16)+(this.i(P)>>>16)+(j.i(P)>>>16);D=I>>>16,L&=65535,I&=65535,R[P]=I<<16|L}return new h(R,R[R.length-1]&-2147483648?-1:0)};function H(j,N){return j.add(V(N))}r.j=function(j){if(A(this)||A(j))return T;if(z(this))return z(j)?V(this).j(V(j)):V(V(this).j(j));if(z(j))return V(this.j(V(j)));if(0>this.l(C)&&0>j.l(C))return y(this.m()*j.m());for(var N=this.g.length+j.g.length,R=[],D=0;D<2*N;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(var P=0;P<j.g.length;P++){var L=this.i(D)>>>16,I=this.i(D)&65535,Ge=j.i(P)>>>16,Te=j.i(P)&65535;R[2*D+2*P]+=I*Te,K(R,2*D+2*P),R[2*D+2*P+1]+=L*Te,K(R,2*D+2*P+1),R[2*D+2*P+1]+=I*Ge,K(R,2*D+2*P+1),R[2*D+2*P+2]+=L*Ge,K(R,2*D+2*P+2)}for(D=0;D<N;D++)R[D]=R[2*D+1]<<16|R[2*D];for(D=N;D<2*N;D++)R[D]=0;return new h(R,0)};function K(j,N){for(;(j[N]&65535)!=j[N];)j[N+1]+=j[N]>>>16,j[N]&=65535,N++}function ee(j,N){this.g=j,this.h=N}function le(j,N){if(A(N))throw Error("division by zero");if(A(j))return new ee(T,T);if(z(j))return N=le(V(j),N),new ee(V(N.g),V(N.h));if(z(N))return N=le(j,V(N)),new ee(V(N.g),N.h);if(30<j.g.length){if(z(j)||z(N))throw Error("slowDivide_ only works with positive integers.");for(var R=E,D=N;0>=D.l(j);)R=pe(R),D=pe(D);var P=oe(R,1),L=oe(D,1);for(D=oe(D,2),R=oe(R,2);!A(D);){var I=L.add(D);0>=I.l(j)&&(P=P.add(R),L=I),D=oe(D,1),R=oe(R,1)}return N=H(j,P.j(N)),new ee(P,N)}for(P=T;0<=j.l(N);){for(R=Math.max(1,Math.floor(j.m()/N.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=y(R),I=L.j(N);z(I)||0<I.l(j);)R-=D,L=y(R),I=L.j(N);A(L)&&(L=E),P=P.add(L),j=H(j,I)}return new ee(P,j)}r.A=function(j){return le(this,j).h},r.and=function(j){for(var N=Math.max(this.g.length,j.g.length),R=[],D=0;D<N;D++)R[D]=this.i(D)&j.i(D);return new h(R,this.h&j.h)},r.or=function(j){for(var N=Math.max(this.g.length,j.g.length),R=[],D=0;D<N;D++)R[D]=this.i(D)|j.i(D);return new h(R,this.h|j.h)},r.xor=function(j){for(var N=Math.max(this.g.length,j.g.length),R=[],D=0;D<N;D++)R[D]=this.i(D)^j.i(D);return new h(R,this.h^j.h)};function pe(j){for(var N=j.g.length+1,R=[],D=0;D<N;D++)R[D]=j.i(D)<<1|j.i(D-1)>>>31;return new h(R,j.h)}function oe(j,N){var R=N>>5;N%=32;for(var D=j.g.length-R,P=[],L=0;L<D;L++)P[L]=0<N?j.i(L+R)>>>N|j.i(L+R+1)<<32-N:j.i(L+R);return new h(P,j.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,$1=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=b,pi=h}).apply(typeof xx<"u"?xx:typeof self<"u"?self:typeof window<"u"?window:{});var vh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var K1,oc,Q1,kh,Tp,Y1,X1,W1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,_){return u==Array.prototype||u==Object.prototype||(u[v]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vh=="object"&&vh];for(var v=0;v<u.length;++v){var _=u[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(u,v){if(v)e:{var _=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var F=u[S];if(!(F in _))break e;_=_[F]}u=u[u.length-1],S=_[u],v=v(S),v!=S&&v!=null&&e(_,u,{configurable:!0,writable:!0,value:v})}}function c(u,v){u instanceof String&&(u+="");var _=0,S=!1,F={next:function(){if(!S&&_<u.length){var Z=_++;return{value:v(Z,u[Z]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return c(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},p=this||self;function g(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function y(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function b(u,v,_){return u.call.apply(u.bind,arguments)}function T(u,v,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),u.apply(v,F)}}return function(){return u.apply(v,arguments)}}function E(u,v,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?b:T,E.apply(null,arguments)}function C(u,v){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,v){function _(){}_.prototype=v.prototype,u.aa=v.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,F,Z){for(var ye=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ye[$e-2]=arguments[$e];return v.prototype[F].apply(S,ye)}}function z(u){const v=u.length;if(0<v){const _=Array(v);for(let S=0;S<v;S++)_[S]=u[S];return _}return[]}function V(u,v){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(g(S)){const F=u.length||0,Z=S.length||0;u.length=F+Z;for(let ye=0;ye<Z;ye++)u[F+ye]=S[ye]}else u.push(S)}}class H{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function K(u){return/^[\s\xa0]*$/.test(u)}function ee(){var u=p.navigator;return u&&(u=u.userAgent)?u:""}function le(u){return le[" "](u),u}le[" "]=function(){};var pe=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function oe(u,v,_){for(const S in u)v.call(_,u[S],S,u)}function j(u,v){for(const _ in u)v.call(void 0,u[_],_,u)}function N(u){const v={};for(const _ in u)v[_]=u[_];return v}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(u,v){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)u[_]=S[_];for(let Z=0;Z<R.length;Z++)_=R[Z],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function P(u){var v=1;u=u.split(":");const _=[];for(;0<v&&u.length;)_.push(u.shift()),v--;return u.length&&_.push(u.join(":")),_}function L(u){p.setTimeout(()=>{throw u},0)}function I(){var u=_e;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class Ge{constructor(){this.h=this.g=null}add(v,_){const S=Te.get();S.set(v,_),this.h?this.h.next=S:this.g=S,this.h=S}}var Te=new H(()=>new Q,u=>u.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,se=!1,_e=new Ge,k=()=>{const u=p.Promise.resolve(void 0);ue=()=>{u.then(J)}};var J=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){L(_)}var v=Te;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}se=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};p.addEventListener("test",_,v),p.removeEventListener("test",_,v)}catch{}return u}();function U(u,v){if(he.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(pe){e:{try{le(v.nodeName);var F=!0;break e}catch{}F=!1}F||(v=null)}}else _=="mouseover"?v=u.fromElement:_=="mouseout"&&(v=u.toElement);this.relatedTarget=v,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:W[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&U.aa.h.call(this)}}A(U,he);var W={2:"touch",3:"pen",4:"mouse"};U.prototype.h=function(){U.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),ge=0;function me(u,v,_,S,F){this.listener=u,this.proxy=null,this.src=v,this.type=_,this.capture=!!S,this.ha=F,this.key=++ge,this.da=this.fa=!1}function Ae(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ie(u){this.src=u,this.g={},this.h=0}Ie.prototype.add=function(u,v,_,S,F){var Z=u.toString();u=this.g[Z],u||(u=this.g[Z]=[],this.h++);var ye=Ue(u,v,S,F);return-1<ye?(v=u[ye],_||(v.fa=!1)):(v=new me(v,this.src,Z,!!S,F),v.fa=_,u.push(v)),v};function Me(u,v){var _=v.type;if(_ in u.g){var S=u.g[_],F=Array.prototype.indexOf.call(S,v,void 0),Z;(Z=0<=F)&&Array.prototype.splice.call(S,F,1),Z&&(Ae(v),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ue(u,v,_,S){for(var F=0;F<u.length;++F){var Z=u[F];if(!Z.da&&Z.listener==v&&Z.capture==!!_&&Z.ha==S)return F}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),Pn={};function zr(u,v,_,S,F){if(Array.isArray(v)){for(var Z=0;Z<v.length;Z++)zr(u,v[Z],_,S,F);return null}return _=Kc(_),u&&u[fe]?u.K(v,_,y(S)?!!S.capture:!1,F):Mt(u,v,_,!1,S,F)}function Mt(u,v,_,S,F,Z){if(!v)throw Error("Invalid event type");var ye=y(F)?!!F.capture:!!F,$e=Na(u);if($e||(u[wt]=$e=new Ie(u)),_=$e.add(v,_,S,ye,Z),_.proxy)return _;if(S=Sa(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)ce||(F=ye),F===void 0&&(F=!1),u.addEventListener(v.toString(),S,F);else if(u.attachEvent)u.attachEvent(Ii(v.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Sa(){function u(_){return v.call(u.src,u.listener,_)}const v=Bd;return u}function Ri(u,v,_,S,F){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)Ri(u,v[Z],_,S,F);else S=y(S)?!!S.capture:!!S,_=Kc(_),u&&u[fe]?(u=u.i,v=String(v).toString(),v in u.g&&(Z=u.g[v],_=Ue(Z,_,S,F),-1<_&&(Ae(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete u.g[v],u.h--)))):u&&(u=Na(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Ue(v,_,S,F)),(_=-1<u?v[u]:null)&&Br(_))}function Br(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[fe])Me(v.i,u);else{var _=u.type,S=u.proxy;v.removeEventListener?v.removeEventListener(_,S,u.capture):v.detachEvent?v.detachEvent(Ii(_),S):v.addListener&&v.removeListener&&v.removeListener(S),(_=Na(v))?(Me(_,u),_.h==0&&(_.src=null,v[wt]=null)):Ae(u)}}}function Ii(u){return u in Pn?Pn[u]:Pn[u]="on"+u}function Bd(u,v){if(u.da)u=!0;else{v=new U(v,this);var _=u.listener,S=u.ha||u.src;u.fa&&Br(u),u=_.call(S,v)}return u}function Na(u){return u=u[wt],u instanceof Ie?u:null}var $o="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kc(u){return typeof u=="function"?u:(u[$o]||(u[$o]=function(v){return u.handleEvent(v)}),u[$o])}function yt(){de.call(this),this.i=new Ie(this),this.M=this,this.F=null}A(yt,de),yt.prototype[fe]=!0,yt.prototype.removeEventListener=function(u,v,_,S){Ri(this,u,v,_,S)};function et(u,v){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=v.type||v,typeof v=="string")v=new he(v,u);else if(v instanceof he)v.target=v.target||u;else{var F=v;v=new he(S,u),D(v,F)}if(F=!0,_)for(var Z=_.length-1;0<=Z;Z--){var ye=v.g=_[Z];F=Tn(ye,S,!0,v)&&F}if(ye=v.g=u,F=Tn(ye,S,!0,v)&&F,F=Tn(ye,S,!1,v)&&F,_)for(Z=0;Z<_.length;Z++)ye=v.g=_[Z],F=Tn(ye,S,!1,v)&&F}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var _=u.g[v],S=0;S<_.length;S++)Ae(_[S]);delete u.g[v],u.h--}}this.F=null},yt.prototype.K=function(u,v,_,S){return this.i.add(String(u),v,!1,_,S)},yt.prototype.L=function(u,v,_,S){return this.i.add(String(u),v,!0,_,S)};function Tn(u,v,_,S){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var F=!0,Z=0;Z<v.length;++Z){var ye=v[Z];if(ye&&!ye.da&&ye.capture==_){var $e=ye.listener,Vt=ye.ha||ye.src;ye.fa&&Me(u.i,ye),F=$e.call(Vt,S)!==!1&&F}}return F&&!S.defaultPrevented}function rn(u,v,_){if(typeof u=="function")_&&(u=E(u,_));else if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:p.setTimeout(u,v||0)}function Qc(u){u.g=rn(()=>{u.g=null,u.i&&(u.i=!1,Qc(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class qd extends de{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Qc(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ci(u){de.call(this),this.h=u,this.g={}}A(Ci,de);var ji=[];function Di(u){oe(u.g,function(v,_){this.g.hasOwnProperty(_)&&Br(v)},u),u.g={}}Ci.prototype.N=function(){Ci.aa.N.call(this),Di(this)},Ci.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jn=p.JSON.stringify,Ra=p.JSON.parse,ki=class{stringify(u){return p.JSON.stringify(u,void 0)}parse(u){return p.JSON.parse(u,void 0)}};function Ko(){}Ko.prototype.h=null;function Qo(u){return u.h||(u.h=u.i())}function Yo(){}var qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Hr(){he.call(this,"d")}A(Hr,he);function Xo(){he.call(this,"c")}A(Xo,he);var hr={},Wo=null;function Ds(){return Wo=Wo||new yt}hr.La="serverreachability";function Ia(u){he.call(this,hr.La,u)}A(Ia,he);function ks(u){const v=Ds();et(v,new Ia(v))}hr.STAT_EVENT="statevent";function Yc(u,v){he.call(this,hr.STAT_EVENT,u),this.stat=v}A(Yc,he);function ht(u){const v=Ds();et(v,new Yc(v,u))}hr.Ma="timingevent";function Pt(u,v){he.call(this,hr.Ma,u),this.size=v}A(Pt,he);function Rt(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){u()},v)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function Zo(u,v,_,S,F,Z){u.info(function(){if(u.g)if(Z)for(var ye="",$e=Z.split("&"),Vt=0;Vt<$e.length;Vt++){var Ke=$e[Vt].split("=");if(1<Ke.length){var Ht=Ke[0];Ke=Ke[1];var Lt=Ht.split("_");ye=2<=Lt.length&&Lt[1]=="type"?ye+(Ht+"="+Ke+"&"):ye+(Ht+"=redacted&")}}else ye=null;else ye=Z;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+v+`
`+_+`
`+ye})}function Hd(u,v,_,S,F,Z,ye){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+v+`
`+_+`
`+Z+" "+ye})}function Os(u,v,_,S){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Oi(u,_)+(S?" "+S:"")})}function Xc(u,v){u.info(function(){return"TIMEOUT: "+v})}Vn.prototype.info=function(){};function Oi(u,v){if(!u.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var Z=F[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var ye=1;ye<F.length;ye++)F[ye]=""}}}}return Jn(_)}catch{return v}}var Ms={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dr;function fr(){}A(fr,Ko),fr.prototype.g=function(){return new XMLHttpRequest},fr.prototype.i=function(){return{}},dr=new fr;function hn(u,v,_,S){this.j=u,this.i=v,this.l=_,this.R=S||1,this.U=new Ci(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tt}function Tt(){this.i=null,this.g="",this.h=!1}var Jo={},Ca={};function er(u,v,_){u.L=1,u.v=Ui(An(v)),u.m=_,u.P=!0,Gr(u,null)}function Gr(u,v){u.F=Date.now(),Mi(u),u.A=An(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),il(_.i,"t",S),u.C=0,_=u.j.J,u.h=new Tt,u.g=du(u.j,_?v:null,!u.m),0<u.O&&(u.M=new qd(E(u.Y,u,u.g),u.O)),v=u.U,_=u.g,S=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(ji[0]=F.toString()),F=ji);for(var Z=0;Z<F.length;Z++){var ye=zr(_,F[Z],S||v.handleEvent,!1,v.h||v);if(!ye)break;v.g[ye.key]=ye}v=u.H?N(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),ks(),Zo(u.i,u.u,u.A,u.l,u.R,u.m)}hn.prototype.ca=function(u){u=u.target;const v=this.M;v&&Bn(u)==3?v.j():this.Y(u)},hn.prototype.Y=function(u){try{if(u==this.g)e:{const Lt=Bn(this.g);var v=this.g.Ba();const Jr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||su(this.g)))){this.J||Lt!=4||v==7||(v==8||0>=Jr?ks(3):ks(2)),Ps(this);var _=this.g.Z();this.X=_;t:if(Wc(this)){var S=su(this.g);u="";var F=S.length,Z=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qt(this),mr(this);var ye="";break t}this.h.i=new p.TextDecoder}for(v=0;v<F;v++)this.h.h=!0,u+=this.h.i.decode(S[v],{stream:!(Z&&v==F-1)});S.length=0,this.h.g+=u,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=_==200,Hd(this.i,this.u,this.A,this.l,this.R,Lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Vt=this.g;if(($e=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K($e)){var Ke=$e;break t}}Ke=null}if(_=Ke)Os(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pi(this,_);else{this.o=!1,this.s=3,ht(12),Qt(this),mr(this);break e}}if(this.P){_=!0;let Yt;for(;!this.J&&this.C<ye.length;)if(Yt=Zc(this,ye),Yt==Ca){Lt==4&&(this.s=4,ht(14),_=!1),Os(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Jo){this.s=4,ht(15),Os(this.i,this.l,ye,"[Invalid Chunk]"),_=!1;break}else Os(this.i,this.l,Yt,null),Pi(this,Yt);if(Wc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ye.length!=0||this.h.h||(this.s=1,ht(16),_=!1),this.o=this.o&&_,!_)Os(this.i,this.l,ye,"[Invalid Chunked Response]"),Qt(this),mr(this);else if(0<ye.length&&!this.W){this.W=!0;var Ht=this.j;Ht.g==this&&Ht.ba&&!Ht.M&&(Ht.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Ki(Ht),Ht.M=!0,ht(11))}}else Os(this.i,this.l,ye,null),Pi(this,ye);Lt==4&&Qt(this),this.o&&!this.J&&(Lt==4?cu(this.j,this):(this.o=!1,Mi(this)))}else Qd(this.g),_==400&&0<ye.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Qt(this),mr(this)}}}catch{}finally{}};function Wc(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Zc(u,v){var _=u.C,S=v.indexOf(`
`,_);return S==-1?Ca:(_=Number(v.substring(_,S)),isNaN(_)?Jo:(S+=1,S+_>v.length?Ca:(v=v.slice(S,S+_),u.C=S+_,v)))}hn.prototype.cancel=function(){this.J=!0,Qt(this)};function Mi(u){u.S=Date.now()+u.I,Jc(u,u.I)}function Jc(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Rt(E(u.ba,u),v)}function Ps(u){u.B&&(p.clearTimeout(u.B),u.B=null)}hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Xc(this.i,this.A),this.L!=2&&(ks(),ht(17)),Qt(this),this.s=2,mr(this)):Jc(this,this.S-u)};function mr(u){u.j.G==0||u.J||cu(u.j,u)}function Qt(u){Ps(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,Di(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Pi(u,v){try{var _=u.j;if(_.G!=0&&(_.g==u||el(_.h,u))){if(!u.K&&el(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(v)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)qa(_),za(_);else break e;ul(_),ht(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Rt(E(_.Za,_),6e3));if(1>=Da(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Zr(_,11)}else if((u.K||_.g==u)&&qa(_),!K(v))for(F=_.Da.g.parse(v),v=0;v<F.length;v++){let Ke=F[v];if(_.T=Ke[0],Ke=Ke[1],_.G==2)if(Ke[0]=="c"){_.K=Ke[1],_.ia=Ke[2];const Ht=Ke[3];Ht!=null&&(_.la=Ht,_.j.info("VER="+_.la));const Lt=Ke[4];Lt!=null&&(_.Aa=Lt,_.j.info("SVER="+_.Aa));const Jr=Ke[5];Jr!=null&&typeof Jr=="number"&&0<Jr&&(S=1.5*Jr,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Yt=u.g;if(Yt){const br=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var Z=S.h;Z.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ka(Z,Z.h),Z.h=null))}if(S.D){const dl=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(S.ya=dl,rt(S.I,S.D,dl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ye=u;if(S.qa=hu(S,S.J?S.ia:null,S.W),ye.K){dn(S.h,ye);var $e=ye,Vt=S.L;Vt&&($e.I=Vt),$e.B&&(Ps($e),Mi($e)),S.g=ye}else ou(S);0<_.i.length&&Ba(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Zr(_,7);else _.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Zr(_,7):ll(_):Ke[0]!="noop"&&_.l&&_.l.ta(Ke),_.v=0)}}ks(4)}catch{}}var eu=class{constructor(u,v){this.g=u,this.map=v}};function $r(u){this.l=u||10,p.PerformanceNavigationTiming?(u=p.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ja(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Da(u){return u.h?1:u.g?u.g.size:0}function el(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function ka(u,v){u.g?u.g.add(v):u.h=v}function dn(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}$r.prototype.cancel=function(){if(this.i=tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function tl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const _ of u.g.values())v=v.concat(_.D);return v}return z(u.i)}function Fd(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(g(u)){for(var v=[],_=u.length,S=0;S<_;S++)v.push(u[S]);return v}v=[],_=0;for(S in u)v[_++]=u[S];return v}function Oa(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(g(u)||typeof u=="string"){var v=[];u=u.length;for(var _=0;_<u;_++)v.push(_);return v}v=[],_=0;for(const S in u)v[_++]=S;return v}}}function nl(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(g(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var _=Oa(u),S=Fd(u),F=S.length,Z=0;Z<F;Z++)v.call(void 0,S[Z],_&&_[Z],u)}var Vi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gd(u,v){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),F=null;if(0<=S){var Z=u[_].substring(0,S);F=u[_].substring(S+1)}else Z=u[_];v(Z,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function It(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof It){this.h=u.h,Li(this,u.j),this.o=u.o,this.g=u.g,Vs(this,u.s),this.l=u.l;var v=u.i,_=new Qr;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Kr(this,_),this.m=u.m}else u&&(v=String(u).match(Vi))?(this.h=!1,Li(this,v[1]||"",!0),this.o=Ln(v[2]||""),this.g=Ln(v[3]||"",!0),Vs(this,v[4]),this.l=Ln(v[5]||"",!0),Kr(this,v[6]||"",!0),this.m=Ln(v[7]||"")):(this.h=!1,this.i=new Qr(null,this.h))}It.prototype.toString=function(){var u=[],v=this.j;v&&u.push(zi(v,rl,!0),":");var _=this.g;return(_||v=="file")&&(u.push("//"),(v=this.o)&&u.push(zi(v,rl,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(zi(_,_.charAt(0)=="/"?$d:sl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",zi(_,Ma)),u.join("")};function An(u){return new It(u)}function Li(u,v,_){u.j=_?Ln(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Vs(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function Kr(u,v,_){v instanceof Qr?(u.i=v,nu(u.i,u.h)):(_||(v=zi(v,Kd)),u.i=new Qr(v,u.h))}function rt(u,v,_){u.i.set(v,_)}function Ui(u){return rt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ln(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function zi(u,v,_){return typeof u=="string"?(u=encodeURI(u).replace(v,tu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var rl=/[#\/\?@]/g,sl=/[#\?:]/g,$d=/[#\?]/g,Kd=/[#\?@]/g,Ma=/#/g;function Qr(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Un(u){u.g||(u.g=new Map,u.h=0,u.i&&Gd(u.i,function(v,_){u.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}r=Qr.prototype,r.add=function(u,v){Un(this),this.i=null,u=pr(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(v),this.h+=1,this};function Yr(u,v){Un(u),v=pr(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Xr(u,v){return Un(u),v=pr(u,v),u.g.has(v)}r.forEach=function(u,v){Un(this),this.g.forEach(function(_,S){_.forEach(function(F){u.call(v,F,S,this)},this)},this)},r.na=function(){Un(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let S=0;S<v.length;S++){const F=u[S];for(let Z=0;Z<F.length;Z++)_.push(v[S])}return _},r.V=function(u){Un(this);let v=[];if(typeof u=="string")Xr(this,u)&&(v=v.concat(this.g.get(pr(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)v=v.concat(u[_])}return v},r.set=function(u,v){return Un(this),this.i=null,u=pr(this,u),Xr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},r.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function il(u,v,_){Yr(u,v),0<_.length&&(u.i=null,u.g.set(pr(u,v),z(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var S=v[_];const Z=encodeURIComponent(String(S)),ye=this.V(S);for(S=0;S<ye.length;S++){var F=Z;ye[S]!==""&&(F+="="+encodeURIComponent(String(ye[S]))),u.push(F)}}return this.i=u.join("&")};function pr(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function nu(u,v){v&&!u.j&&(Un(u),u.i=null,u.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&(Yr(this,S),il(this,F,_))},u)),u.j=v}function Bi(u,v){const _=new Vn;if(p.Image){const S=new Image;S.onload=C(zn,_,"TestLoadImage: loaded",!0,v,S),S.onerror=C(zn,_,"TestLoadImage: error",!1,v,S),S.onabort=C(zn,_,"TestLoadImage: abort",!1,v,S),S.ontimeout=C(zn,_,"TestLoadImage: timeout",!1,v,S),p.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else v(!1)}function tr(u,v){const _=new Vn,S=new AbortController,F=setTimeout(()=>{S.abort(),zn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:S.signal}).then(Z=>{clearTimeout(F),Z.ok?zn(_,"TestPingServer: ok",!0,v):zn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),zn(_,"TestPingServer: error",!1,v)})}function zn(u,v,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function qi(){this.g=new ki}function gr(u,v,_){const S=_||"";try{nl(u,function(F,Z){let ye=F;y(F)&&(ye=Jn(F)),v.push(S+Z+"="+encodeURIComponent(ye))})}catch(F){throw v.push(S+"type="+encodeURIComponent("_badmap")),F}}function Ls(u){this.l=u.Ub||null,this.j=u.eb||!1}A(Ls,Ko),Ls.prototype.g=function(){return new Wr(this.l,this.j)},Ls.prototype.i=function(u){return function(){return u}}({});function Wr(u,v){yt.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Wr,yt),r=Wr.prototype,r.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,vr(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||p).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,yr(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,vr(this)),this.g&&(this.readyState=3,vr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;al(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function al(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?yr(this):vr(this),this.readyState==3&&al(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,yr(this))},r.Qa=function(u){this.g&&(this.response=u,yr(this))},r.ga=function(){this.g&&yr(this)};function yr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,vr(u)}r.setRequestHeader=function(u,v){this.u.append(u,v)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=v.next();return u.join(`\r
`)};function vr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Wr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ol(u){let v="";return oe(u,function(_,S){v+=S,v+=":",v+=_,v+=`\r
`}),v}function qt(u,v,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=ol(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):rt(u,v,_))}function Ze(u){yt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ze,yt);var Pa=/^https?$/i,Hi=["POST","PUT"];r=Ze.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,v,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dr.g(),this.v=this.o?Qo(this.o):Qo(dr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(Z){ru(this,Z);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Z of S.keys())_.set(Z,S.get(Z));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),F=p.FormData&&u instanceof p.FormData,!(0<=Array.prototype.indexOf.call(Hi,v,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ye]of _)this.g.setRequestHeader(Z,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fi(this),this.u=!0,this.g.send(u),this.u=!1}catch(Z){ru(this,Z)}};function ru(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,Va(u),_r(u)}function Va(u){u.A||(u.A=!0,et(u,"complete"),et(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,et(this,"complete"),et(this,"abort"),_r(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),Ze.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?La(this):this.bb())},r.bb=function(){La(this)};function La(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Bn(u)!=4||u.Z()!=2)){if(u.u&&Bn(u)==4)rn(u.Ea,0,u);else if(et(u,"readystatechange"),Bn(u)==4){u.h=!1;try{const ye=u.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var S;if(S=ye===0){var F=String(u.D).match(Vi)[1]||null;!F&&p.self&&p.self.location&&(F=p.self.location.protocol.slice(0,-1)),S=!Pa.test(F?F.toLowerCase():"")}_=S}if(_)et(u,"complete"),et(u,"success");else{u.m=6;try{var Z=2<Bn(u)?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.Z()+"]",Va(u)}}finally{_r(u)}}}}function _r(u,v){if(u.g){Fi(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||et(u,"ready");try{_.onreadystatechange=S}catch{}}}function Fi(u){u.I&&(p.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),Ra(v)}};function su(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Qd(u){const v={};u=(u.g&&2<=Bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(K(u[S]))continue;var _=P(u[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=v[F]||[];v[F]=Z,Z.push(_)}j(v,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gi(u,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||v}function Ua(u){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gi("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gi("baseRetryDelayMs",5e3,u),this.cb=Gi("retryDelaySeedMs",1e4,u),this.Wa=Gi("forwardChannelMaxRetries",2,u),this.wa=Gi("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new $r(u&&u.concurrentRequestLimit),this.Da=new qi,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ua.prototype,r.la=8,r.G=1,r.connect=function(u,v,_,S){ht(0),this.W=u,this.H=v||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=hu(this,null,this.W),Ba(this)};function ll(u){if(iu(u),u.G==3){var v=u.U++,_=An(u.I);if(rt(_,"SID",u.K),rt(_,"RID",v),rt(_,"TYPE","terminate"),$i(u,_),v=new hn(u,u.j,v),v.L=2,v.v=Ui(An(_)),_=!1,p.navigator&&p.navigator.sendBeacon)try{_=p.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&p.Image&&(new Image().src=v.v,_=!0),_||(v.g=du(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Mi(v)}uu(u)}function za(u){u.g&&(Ki(u),u.g.cancel(),u.g=null)}function iu(u){za(u),u.u&&(p.clearTimeout(u.u),u.u=null),qa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&p.clearTimeout(u.s),u.s=null)}function Ba(u){if(!ja(u.h)&&!u.s){u.s=!0;var v=u.Ga;ue||k(),se||(ue(),se=!0),_e.add(v,u),u.B=0}}function Yd(u,v){return Da(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Rt(E(u.Ga,u,v),hl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new hn(this,this.j,u);let Z=this.o;if(this.S&&(Z?(Z=N(Z),D(Z,this.S)):Z=this.S),this.m!==null||this.O||(F.H=Z,Z=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(v+=S,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=au(this,F,v),_=An(this.I),rt(_,"RID",u),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),$i(this,_),Z&&(this.O?v="headers="+encodeURIComponent(String(ol(Z)))+"&"+v:this.m&&qt(_,this.m,Z)),ka(this.h,F),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",v),rt(_,"SID","null"),F.T=!0,er(F,_,null)):er(F,_,v),this.G=2}}else this.G==3&&(u?cl(this,u):this.i.length==0||ja(this.h)||cl(this))};function cl(u,v){var _;v?_=v.l:_=u.U++;const S=An(u.I);rt(S,"SID",u.K),rt(S,"RID",_),rt(S,"AID",u.T),$i(u,S),u.m&&u.o&&qt(S,u.m,u.o),_=new hn(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),v&&(u.i=v.D.concat(u.i)),v=au(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ka(u.h,_),er(_,S,v)}function $i(u,v){u.H&&oe(u.H,function(_,S){rt(v,S,_)}),u.l&&nl({},function(_,S){rt(v,S,_)})}function au(u,v,_){_=Math.min(u.i.length,_);var S=u.l?E(u.l.Na,u.l,u):null;e:{var F=u.i;let Z=-1;for(;;){const ye=["count="+_];Z==-1?0<_?(Z=F[0].g,ye.push("ofs="+Z)):Z=0:ye.push("ofs="+Z);let $e=!0;for(let Vt=0;Vt<_;Vt++){let Ke=F[Vt].g;const Ht=F[Vt].map;if(Ke-=Z,0>Ke)Z=Math.max(0,F[Vt].g-100),$e=!1;else try{gr(Ht,ye,"req"+Ke+"_")}catch{S&&S(Ht)}}if($e){S=ye.join("&");break e}}}return u=u.i.splice(0,_),v.D=u,S}function ou(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;ue||k(),se||(ue(),se=!0),_e.add(v,u),u.v=0}}function ul(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Rt(E(u.Fa,u),hl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Rt(E(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),za(this),lu(this))};function Ki(u){u.A!=null&&(p.clearTimeout(u.A),u.A=null)}function lu(u){u.g=new hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=An(u.qa);rt(v,"RID","rpc"),rt(v,"SID",u.K),rt(v,"AID",u.T),rt(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&rt(v,"TO",u.ja),rt(v,"TYPE","xmlhttp"),$i(u,v),u.m&&u.o&&qt(v,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=Ui(An(v)),_.m=null,_.P=!0,Gr(_,u)}r.Za=function(){this.C!=null&&(this.C=null,za(this),ul(this),ht(19))};function qa(u){u.C!=null&&(p.clearTimeout(u.C),u.C=null)}function cu(u,v){var _=null;if(u.g==v){qa(u),Ki(u),u.g=null;var S=2}else if(el(u.h,v))_=v.D,dn(u.h,v),S=1;else return;if(u.G!=0){if(v.o)if(S==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var F=u.B;S=Ds(),et(S,new Pt(S,_)),Ba(u)}else ou(u);else if(F=v.s,F==3||F==0&&0<v.X||!(S==1&&Yd(u,v)||S==2&&ul(u)))switch(_&&0<_.length&&(v=u.h,v.i=v.i.concat(_)),F){case 1:Zr(u,5);break;case 4:Zr(u,10);break;case 3:Zr(u,6);break;default:Zr(u,2)}}}function hl(u,v){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*v}function Zr(u,v){if(u.j.info("Error code "+v),v==2){var _=E(u.fb,u),S=u.Xa;const F=!S;S=new It(S||"//www.google.com/images/cleardot.gif"),p.location&&p.location.protocol=="http"||Li(S,"https"),Ui(S),F?Bi(S.toString(),_):tr(S.toString(),_)}else ht(2);u.G=0,u.l&&u.l.sa(v),uu(u),iu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function uu(u){if(u.G=0,u.ka=[],u.l){const v=tl(u.h);(v.length!=0||u.i.length!=0)&&(V(u.ka,v),V(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function hu(u,v,_){var S=_ instanceof It?An(_):new It(_);if(S.g!="")v&&(S.g=v+"."+S.g),Vs(S,S.s);else{var F=p.location;S=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;var Z=new It(null);S&&Li(Z,S),v&&(Z.g=v),F&&Vs(Z,F),_&&(Z.l=_),S=Z}return _=u.D,v=u.ya,_&&v&&rt(S,_,v),rt(S,"VER",u.la),$i(u,S),S}function du(u,v,_){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new Ze(new Ls({eb:_})):new Ze(u.pa),v.Ha(u.J),v}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}r=fu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ha(){}Ha.prototype.g=function(u,v){return new fn(u,v)};function fn(u,v){yt.call(this),this.g=new Ua(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!K(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!K(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new xr(this)}A(fn,yt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){ll(this.g)},fn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=Jn(u),u=_);v.i.push(new eu(v.Ya++,u)),v.G==3&&Ba(v)},fn.prototype.N=function(){this.g.l=null,delete this.j,ll(this.g),delete this.g,fn.aa.N.call(this)};function mu(u){Hr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const _ in v){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}A(mu,Hr);function pu(){Xo.call(this),this.status=1}A(pu,Xo);function xr(u){this.g=u}A(xr,fu),xr.prototype.ua=function(){et(this.g,"a")},xr.prototype.ta=function(u){et(this.g,new mu(u))},xr.prototype.sa=function(u){et(this.g,new pu)},xr.prototype.ra=function(){et(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,W1=function(){return new Ha},X1=function(){return Ds()},Y1=hr,Tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,kh=Ms,Fr.COMPLETE="complete",Q1=Fr,Yo.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,oc=Yo,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,K1=Ze}).apply(typeof vh<"u"?vh:typeof self<"u"?self:typeof window<"u"?window:{});const bx="@firebase/firestore",Ex="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new rg("@firebase/firestore");function _o(){return _a.logLevel}function xe(r,...e){if(_a.logLevel<=He.DEBUG){const t=e.map(yg);_a.debug(`Firestore (${Bo}): ${r}`,...t)}}function ws(r,...e){if(_a.logLevel<=He.ERROR){const t=e.map(yg);_a.error(`Firestore (${Bo}): ${r}`,...t)}}function vi(r,...e){if(_a.logLevel<=He.WARN){const t=e.map(yg);_a.warn(`Firestore (${Bo}): ${r}`,...t)}}function yg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Z1(r,i,t)}function Z1(r,e,t){let i=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw ws(i),new Error(i)}function Je(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||Z1(e,o,i)}function Oe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Lr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class T4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class A4{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let i=this.i;const o=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let c=new _s;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new _s,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},p=g=>{xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new _s)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string",31837,{l:i}),new J1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new ln(e)}}class S4{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class N4{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new S4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const i=c=>{c.error!=null&&xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,xe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const o=c=>{xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new wx(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=I4(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<t&&(i+=e.charAt(o[c]%62))}return i}}function Le(r,e){return r<e?-1:r>e?1:0}function Ap(r,e){let t=0;for(;t<r.length&&t<e.length;){const i=r.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return Le(i,o);{const c=eE(),h=C4(c.encode(Tx(r,t)),c.encode(Tx(e,t)));return h!==0?h:Le(i,o)}}t+=i>65535?2:1}return Le(r.length,e.length)}function Tx(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function C4(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Le(r[t],e[t]);return Le(r.length,e.length)}function Co(r,e,t){return r.length===e.length&&r.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="__name__";class Nr{constructor(e,t,i){t===void 0?t=0:t>e.length&&je(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&je(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Nr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Nr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const c=Nr.compareSegments(e.get(o),t.get(o));if(c!==0)return c}return Le(e.length,t.length)}static compareSegments(e,t){const i=Nr.isNumericId(e),o=Nr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?Nr.extractNumericId(e).compare(Nr.extractNumericId(t)):Ap(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pi.fromString(e.substring(4,e.length-2))}}class ct extends Nr{construct(e,t,i){return new ct(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const j4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Nr{construct(e,t,i){return new tn(e,t,i)}static isValidIdentifier(e){return j4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ax}static keyField(){return new tn([Ax])}static fromServerFormat(e){const t=[];let i="",o=0;const c=()=>{if(i.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,o+=2}else p==="`"?(h=!h,o++):p!=="."||h?(i+=p,o++):(c(),o++)}if(c(),h)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(ct.fromString(e))}static fromName(e){return new we(ct.fromString(e).popFirst(5))}static empty(){return new we(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(r,e,t){if(!t)throw new ve(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function D4(r,e,t,i){if(e===!0&&i===!0)throw new ve(re.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Sx(r){if(!we.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Nx(r){if(we.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _d(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":je(12329,{type:typeof r})}function wn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_d(r);throw new ve(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(r,e){const t={typeString:r};return e&&(t.value=e),t}function zc(r,e){if(!nE(r))throw new ve(re.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,c="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(c!==void 0&&h!==c.value){t=`Expected '${i}' field to equal '${c.value}'`;break}}if(t)throw new ve(re.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=-62135596800,Ix=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*Ix);return new ut(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Rx)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ix}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Rx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Ot("string",ut._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new ut(0,0))}static max(){return new ke(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=-1;function k4(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(i===1e9?new ut(t+1,0):new ut(t,i));return new _i(o,we.empty(),e)}function O4(r){return new _i(r.readTime,r.key,bc)}class _i{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new _i(ke.min(),we.empty(),bc)}static max(){return new _i(ke.max(),we.empty(),bc)}}function M4(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(r.documentKey,e.documentKey),t!==0?t:Le(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==P4)throw r;xe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let o=0,c=0,h=!1;e.forEach(p=>{++o,p.next(()=>{++c,h&&c===o&&t()},g=>i(g))}),h=!0,c===o&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(o=>o?ae.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,c)=>{i.push(t.call(this,o,c))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,o)=>{const c=e.length,h=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;t(e[y]).next(b=>{h[y]=b,++p,p===c&&i(h)},b=>o(b))}})}static doWhile(e,t){return new ae((i,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):i()};c()})}}function L4(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ho(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}xd.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=-1;function bd(r){return r==null}function Zh(r){return r===0&&1/r==-1/0}function U4(r){return typeof r=="number"&&Number.isInteger(r)&&!Zh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="";function z4(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Cx(e)),e=B4(r.get(t),e);return Cx(e)}function B4(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const c=r.charAt(o);switch(c){case"\0":t+="";break;case rE:t+="";break;default:t+=c}}return t}function Cx(r){return r+rE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Si(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function sE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _h(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _h(this.root,e,this.comparator,!1)}getReverseIterator(){return new _h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _h(this.root,e,this.comparator,!0)}}class _h{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,i,o,c){this.key=e,this.value=t,this.color=i??en.RED,this.left=o??en.EMPTY,this.right=c??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,c){return new en(e??this.key,t??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,i),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return en.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw je(43730,{key:this.key,value:this.value});if(this.right.isRed())throw je(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw je(27949);return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw je(57766)}get value(){throw je(16141)}get color(){throw je(16727)}get left(){throw je(29726)}get right(){throw je(36894)}copy(e,t,i,o,c){return this}insert(e,t,i){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dx(this.data.getIterator())}getIteratorFrom(e){return new Dx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class Dx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new On([])}unionWith(e){let t=new Bt(tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new On(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Co(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new iE("Invalid base64 string: "+c):c}}(e);return new nn(t)}static fromUint8Array(e){const t=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xi(r){if(Je(!!r,39018),typeof r=="string"){let e=0;const t=q4.exec(r);if(Je(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Nt(r.seconds),nanos:Nt(r.nanos)}}function Nt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function bi(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="server_timestamp",oE="__type__",lE="__previous_value__",cE="__local_write_time__";function xg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[oE])===null||t===void 0?void 0:t.stringValue)===aE}function Ed(r){const e=r.mapValue.fields[lE];return xg(e)?Ed(e):e}function Ec(r){const e=xi(r.mapValue.fields[cE].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e,t,i,o,c,h,p,g,y,b){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const Jh="(default)";class wc{constructor(e,t){this.projectId=e,this.database=t||Jh}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database===Jh}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="__type__",F4="__max__",xh={mapValue:{}},hE="__vector__",ed="value";function Ei(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xg(r)?4:$4(r)?9007199254740991:G4(r)?10:11:je(28295,{value:r})}function Vr(r,e){if(r===e)return!0;const t=Ei(r);if(t!==Ei(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ec(r).isEqual(Ec(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=xi(o.timestampValue),p=xi(c.timestampValue);return h.seconds===p.seconds&&h.nanos===p.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return bi(o.bytesValue).isEqual(bi(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return Nt(o.geoPointValue.latitude)===Nt(c.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Nt(o.integerValue)===Nt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=Nt(o.doubleValue),p=Nt(c.doubleValue);return h===p?Zh(h)===Zh(p):isNaN(h)&&isNaN(p)}return!1}(r,e);case 9:return Co(r.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(o,c){const h=o.mapValue.fields||{},p=c.mapValue.fields||{};if(jx(h)!==jx(p))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(p[g]===void 0||!Vr(h[g],p[g])))return!1;return!0}(r,e);default:return je(52216,{left:r})}}function Tc(r,e){return(r.values||[]).find(t=>Vr(t,e))!==void 0}function jo(r,e){if(r===e)return 0;const t=Ei(r),i=Ei(e);if(t!==i)return Le(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Le(r.booleanValue,e.booleanValue);case 2:return function(c,h){const p=Nt(c.integerValue||c.doubleValue),g=Nt(h.integerValue||h.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(r,e);case 3:return kx(r.timestampValue,e.timestampValue);case 4:return kx(Ec(r),Ec(e));case 5:return Ap(r.stringValue,e.stringValue);case 6:return function(c,h){const p=bi(c),g=bi(h);return p.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(c,h){const p=c.split("/"),g=h.split("/");for(let y=0;y<p.length&&y<g.length;y++){const b=Le(p[y],g[y]);if(b!==0)return b}return Le(p.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,h){const p=Le(Nt(c.latitude),Nt(h.latitude));return p!==0?p:Le(Nt(c.longitude),Nt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Ox(r.arrayValue,e.arrayValue);case 10:return function(c,h){var p,g,y,b;const T=c.fields||{},E=h.fields||{},C=(p=T[ed])===null||p===void 0?void 0:p.arrayValue,A=(g=E[ed])===null||g===void 0?void 0:g.arrayValue,z=Le(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((b=A==null?void 0:A.values)===null||b===void 0?void 0:b.length)||0);return z!==0?z:Ox(C,A)}(r.mapValue,e.mapValue);case 11:return function(c,h){if(c===xh.mapValue&&h===xh.mapValue)return 0;if(c===xh.mapValue)return 1;if(h===xh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=h.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let T=0;T<g.length&&T<b.length;++T){const E=Ap(g[T],b[T]);if(E!==0)return E;const C=jo(p[g[T]],y[b[T]]);if(C!==0)return C}return Le(g.length,b.length)}(r.mapValue,e.mapValue);default:throw je(23264,{le:t})}}function kx(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Le(r,e);const t=xi(r),i=xi(e),o=Le(t.seconds,i.seconds);return o!==0?o:Le(t.nanos,i.nanos)}function Ox(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const c=jo(t[o],i[o]);if(c)return c}return Le(t.length,i.length)}function Do(r){return Sp(r)}function Sp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const i=xi(t);return`time(${i.seconds},${i.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return bi(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return we.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let i="[",o=!0;for(const c of t.values||[])o?o=!1:i+=",",i+=Sp(c);return i+"]"}(r.arrayValue):"mapValue"in r?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const h of i)c?c=!1:o+=",",o+=`${h}:${Sp(t.fields[h])}`;return o+"}"}(r.mapValue):je(61005,{value:r})}function Oh(r){switch(Ei(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ed(r);return e?16+Oh(e):16;case 5:return 2*r.stringValue.length;case 6:return bi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,c)=>o+Oh(c),0)}(r.arrayValue);case 10:case 11:return function(i){let o=0;return Si(i.fields,(c,h)=>{o+=c.length+Oh(h)}),o}(r.mapValue);default:throw je(13486,{value:r})}}function Mx(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Np(r){return!!r&&"integerValue"in r}function bg(r){return!!r&&"arrayValue"in r}function Px(r){return!!r&&"nullValue"in r}function Vx(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Mh(r){return!!r&&"mapValue"in r}function G4(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[uE])===null||t===void 0?void 0:t.stringValue)===hE}function fc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Si(r.mapValue.fields,(t,i)=>e.mapValue.fields[t]=fc(i)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fc(r.arrayValue.values[t]);return e}return Object.assign({},r)}function $4(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===F4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Mh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(t)}setAll(e){let t=tn.emptyPath(),i={},o=[];e.forEach((h,p)=>{if(!t.isImmediateParentOf(p)){const g=this.getFieldsMap(t);this.applyChanges(g,i,o),i={},o=[],t=p.popLast()}h?i[p.lastSegment()]=fc(h):o.push(p.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,o)}delete(e){const t=this.field(e.popLast());Mh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Si(t,(o,c)=>e[o]=c);for(const o of i)delete e[o]}clone(){return new En(fc(this.value))}}function dE(r){const e=[];return Si(r.fields,(t,i)=>{const o=new tn([t]);if(Mh(i)){const c=dE(i.mapValue).fields;if(c.length===0)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new On(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,i,o,c,h,p){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=c,this.data=h,this.documentState=p}static newInvalidDocument(e){return new cn(e,0,ke.min(),ke.min(),ke.min(),En.empty(),0)}static newFoundDocument(e,t,i,o){return new cn(e,1,t,ke.min(),i,o,0)}static newNoDocument(e,t){return new cn(e,2,t,ke.min(),ke.min(),En.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,ke.min(),ke.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t){this.position=e,this.inclusive=t}}function Lx(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const c=e[o],h=r.position[o];if(c.field.isKeyField()?i=we.comparator(we.fromName(h.referenceValue),t.key):i=jo(h,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ux(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Vr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function K4(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{}class kt extends fE{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Y4(e,t,i):t==="array-contains"?new Z4(e,i):t==="in"?new J4(e,i):t==="not-in"?new ej(e,i):t==="array-contains-any"?new tj(e,i):new kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new X4(e,i):new W4(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(jo(t,this.value)):t!==null&&Ei(this.value)===Ei(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends fE{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new lr(e,t)}matches(e){return mE(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function mE(r){return r.op==="and"}function pE(r){return Q4(r)&&mE(r)}function Q4(r){for(const e of r.filters)if(e instanceof lr)return!1;return!0}function Rp(r){if(r instanceof kt)return r.field.canonicalString()+r.op.toString()+Do(r.value);if(pE(r))return r.filters.map(e=>Rp(e)).join(",");{const e=r.filters.map(t=>Rp(t)).join(",");return`${r.op}(${e})`}}function gE(r,e){return r instanceof kt?function(i,o){return o instanceof kt&&i.op===o.op&&i.field.isEqual(o.field)&&Vr(i.value,o.value)}(r,e):r instanceof lr?function(i,o){return o instanceof lr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((c,h,p)=>c&&gE(h,o.filters[p]),!0):!1}(r,e):void je(19439)}function yE(r){return r instanceof kt?function(t){return`${t.field.canonicalString()} ${t.op} ${Do(t.value)}`}(r):r instanceof lr?function(t){return t.op.toString()+" {"+t.getFilters().map(yE).join(" ,")+"}"}(r):"Filter"}class Y4 extends kt{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class X4 extends kt{constructor(e,t){super(e,"in",t),this.keys=vE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class W4 extends kt{constructor(e,t){super(e,"not-in",t),this.keys=vE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function vE(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class Z4 extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bg(t)&&Tc(t.arrayValue,this.value)}}class J4 extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Tc(this.value.arrayValue,t)}}class ej extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Tc(this.value.arrayValue,t)}}class tj extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Tc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e,t=null,i=[],o=[],c=null,h=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=h,this.endAt=p,this.Pe=null}}function zx(r,e=null,t=[],i=[],o=null,c=null,h=null){return new nj(r,e,t,i,o,c,h)}function Eg(r){const e=Oe(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Rp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Do(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Do(i)).join(",")),e.Pe=t}return e.Pe}function wg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!K4(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!gE(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ux(r.startAt,e.startAt)&&Ux(r.endAt,e.endAt)}function Ip(r){return we.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t=null,i=[],o=[],c=null,h="F",p=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=h,this.startAt=p,this.endAt=g,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function rj(r,e,t,i,o,c,h,p){return new Fo(r,e,t,i,o,c,h,p)}function wd(r){return new Fo(r)}function Bx(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _E(r){return r.collectionGroup!==null}function mc(r){const e=Oe(r);if(e.Te===null){e.Te=[];const t=new Set;for(const c of e.explicitOrderBy)e.Te.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let p=new Bt(tn.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(p=p.add(y.field))})}),p})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.Te.push(new Ac(c,i))}),t.has(tn.keyField().canonicalString())||e.Te.push(new Ac(tn.keyField(),i))}return e.Te}function kr(r){const e=Oe(r);return e.Ie||(e.Ie=sj(e,mc(r))),e.Ie}function sj(r,e){if(r.limitType==="F")return zx(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Ac(o.field,c)});const t=r.endAt?new td(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new td(r.startAt.position,r.startAt.inclusive):null;return zx(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function Cp(r,e){const t=r.filters.concat([e]);return new Fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function nd(r,e,t){return new Fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Td(r,e){return wg(kr(r),kr(e))&&r.limitType===e.limitType}function xE(r){return`${Eg(kr(r))}|lt:${r.limitType}`}function xo(r){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>yE(o)).join(", ")}]`),bd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Do(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Do(o)).join(",")),`Target(${i})`}(kr(r))}; limitType=${r.limitType})`}function Ad(r,e){return e.isFoundDocument()&&function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):we.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(r,e)&&function(i,o){for(const c of mc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(i,o){return!(i.startAt&&!function(h,p,g){const y=Lx(h,p,g);return h.inclusive?y<=0:y<0}(i.startAt,mc(i),o)||i.endAt&&!function(h,p,g){const y=Lx(h,p,g);return h.inclusive?y>=0:y>0}(i.endAt,mc(i),o))}(r,e)}function ij(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function bE(r){return(e,t)=>{let i=!1;for(const o of mc(r)){const c=aj(o,e,t);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function aj(r,e,t){const i=r.field.isKeyField()?we.comparator(e.key,t.key):function(c,h,p){const g=h.data.field(c),y=p.data.field(c);return g!==null&&y!==null?jo(g,y):je(42886)}(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return je(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(t,i)=>{for(const[o,c]of i)e(o,c)})}isEmpty(){return sE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=new gt(we.comparator);function Ts(){return oj}const EE=new gt(we.comparator);function lc(...r){let e=EE;for(const t of r)e=e.insert(t.key,t);return e}function wE(r){let e=EE;return r.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ha(){return pc()}function TE(){return pc()}function pc(){return new Ta(r=>r.toString(),(r,e)=>r.isEqual(e))}const lj=new gt(we.comparator),cj=new Bt(we.comparator);function Fe(...r){let e=cj;for(const t of r)e=e.add(t);return e}const uj=new Bt(Le);function hj(){return uj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zh(e)?"-0":e}}function AE(r){return{integerValue:""+r}}function SE(r,e){return U4(e)?AE(e):Tg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this._=void 0}}function dj(r,e,t){return r instanceof Sc?function(o,c){const h={fields:{[oE]:{stringValue:aE},[cE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&xg(c)&&(c=Ed(c)),c&&(h.fields[lE]=c),{mapValue:h}}(t,e):r instanceof Nc?RE(r,e):r instanceof Rc?IE(r,e):function(o,c){const h=NE(o,c),p=qx(h)+qx(o.Ee);return Np(h)&&Np(o.Ee)?AE(p):Tg(o.serializer,p)}(r,e)}function fj(r,e,t){return r instanceof Nc?RE(r,e):r instanceof Rc?IE(r,e):t}function NE(r,e){return r instanceof Ic?function(i){return Np(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class Sc extends Sd{}class Nc extends Sd{constructor(e){super(),this.elements=e}}function RE(r,e){const t=CE(e);for(const i of r.elements)t.some(o=>Vr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Rc extends Sd{constructor(e){super(),this.elements=e}}function IE(r,e){let t=CE(e);for(const i of r.elements)t=t.filter(o=>!Vr(o,i));return{arrayValue:{values:t}}}class Ic extends Sd{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function qx(r){return Nt(r.integerValue||r.doubleValue)}function CE(r){return bg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,t){this.field=e,this.transform=t}}function mj(r,e){return r.field.isEqual(e.field)&&function(i,o){return i instanceof Nc&&o instanceof Nc||i instanceof Rc&&o instanceof Rc?Co(i.elements,o.elements,Vr):i instanceof Ic&&o instanceof Ic?Vr(i.Ee,o.Ee):i instanceof Sc&&o instanceof Sc}(r.transform,e.transform)}class pj{constructor(e,t){this.version=e,this.transformResults=t}}class Xn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ph(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Nd{}function DE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Ag(r.key,Xn.none()):new Bc(r.key,r.data,Xn.none());{const t=r.data,i=En.empty();let o=new Bt(tn.comparator);for(let c of e.fields)if(!o.has(c)){let h=t.field(c);h===null&&c.length>1&&(c=c.popLast(),h=t.field(c)),h===null?i.delete(c):i.set(c,h),o=o.add(c)}return new Ni(r.key,i,new On(o.toArray()),Xn.none())}}function gj(r,e,t){r instanceof Bc?function(o,c,h){const p=o.value.clone(),g=Fx(o.fieldTransforms,c,h.transformResults);p.setAll(g),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):r instanceof Ni?function(o,c,h){if(!Ph(o.precondition,c))return void c.convertToUnknownDocument(h.version);const p=Fx(o.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(kE(o)),g.setAll(p),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(r,e,t):function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function gc(r,e,t,i){return r instanceof Bc?function(c,h,p,g){if(!Ph(c.precondition,h))return p;const y=c.value.clone(),b=Gx(c.fieldTransforms,g,h);return y.setAll(b),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,e,t,i):r instanceof Ni?function(c,h,p,g){if(!Ph(c.precondition,h))return p;const y=Gx(c.fieldTransforms,g,h),b=h.data;return b.setAll(kE(c)),b.setAll(y),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(T=>T.field))}(r,e,t,i):function(c,h,p){return Ph(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):p}(r,e,t)}function yj(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),c=NE(i.transform,o||null);c!=null&&(t===null&&(t=En.empty()),t.set(i.field,c))}return t||null}function Hx(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Co(i,o,(c,h)=>mj(c,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Bc extends Nd{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ni extends Nd{constructor(e,t,i,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function kE(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}}),e}function Fx(r,e,t){const i=new Map;Je(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const c=r[o],h=c.transform,p=e.data.field(c.field);i.set(c.field,fj(h,p,t[o]))}return i}function Gx(r,e,t){const i=new Map;for(const o of r){const c=o.transform,h=t.data.field(o.field);i.set(o.field,dj(c,h,e))}return i}class Ag extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vj extends Nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&gj(c,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=gc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=gc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=TE();return this.mutations.forEach(o=>{const c=e.get(o.key),h=c.overlayedDocument;let p=this.applyToLocalView(h,c.mutatedFields);p=t.has(o.key)?null:p;const g=DE(h,p);g!==null&&i.set(o.key,g),h.isValidDocument()||h.convertToNoDocument(ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Co(this.mutations,e.mutations,(t,i)=>Hx(t,i))&&Co(this.baseMutations,e.baseMutations,(t,i)=>Hx(t,i))}}class Sg{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Je(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let o=function(){return lj}();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,i[h].version);return new Sg(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ye;function Ej(r){switch(r){case re.OK:return je(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return je(15467,{code:r})}}function OE(r){if(r===void 0)return ws("GRPC error has no .code"),re.UNKNOWN;switch(r){case Dt.OK:return re.OK;case Dt.CANCELLED:return re.CANCELLED;case Dt.UNKNOWN:return re.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return re.INTERNAL;case Dt.UNAVAILABLE:return re.UNAVAILABLE;case Dt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Dt.NOT_FOUND:return re.NOT_FOUND;case Dt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Dt.ABORTED:return re.ABORTED;case Dt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Dt.DATA_LOSS:return re.DATA_LOSS;default:return je(39323,{code:r})}}(Ye=Dt||(Dt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new pi([4294967295,4294967295],0);function $x(r){const e=eE().encode(r),t=new $1;return t.update(e),new Uint8Array(t.digest())}function Kx(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pi([t,i],0),new pi([o,c],0)]}class Ng{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new cc(`Invalid padding: ${t}`);if(i<0)throw new cc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new cc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=pi.fromNumber(this.fe)}pe(e,t,i){let o=e.add(t.multiply(pi.fromNumber(i)));return o.compare(wj)===1&&(o=new pi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=$x(e),[i,o]=Kx(t);for(let c=0;c<this.hashCount;c++){const h=this.pe(i,o,c);if(!this.ye(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new Ng(c,o,t);return i.forEach(p=>h.insert(p)),h}insert(e){if(this.fe===0)return;const t=$x(e),[i,o]=Kx(t);for(let c=0;c<this.hashCount;c++){const h=this.pe(i,o,c);this.we(h)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,t,i,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,qc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Rd(ke.min(),o,new gt(Le),Ts(),Fe())}}class qc{constructor(e,t,i,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new qc(i,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t,i,o){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=o}}class ME{constructor(e,t){this.targetId=e,this.De=t}}class PE{constructor(e,t,i=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Qx{constructor(){this.ve=0,this.Ce=Yx(),this.Fe=nn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Fe(),t=Fe(),i=Fe();return this.Ce.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:je(38017,{changeType:c})}}),new qc(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=Yx()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class Tj{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ts(),this.je=bh(),this.Je=bh(),this.He=new gt(Le)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:je(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((i,o)=>{this.nt(o)&&t(o)})}it(e){const t=e.targetId,i=e.De.count,o=this.st(t);if(o){const c=o.target;if(Ip(c))if(i===0){const h=new we(c.path);this.Xe(t,h,cn.newNoDocument(h,ke.min()))}else Je(i===1,20013,{expectedCount:i});else{const h=this.ot(t);if(h!==i){const p=this._t(e),g=p?this.ut(p,e,h):1;if(g!==0){this.rt(t);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=t;let h,p;try{h=bi(i).toUint8Array()}catch(g){if(g instanceof iE)return vi("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Ng(h,o,c)}catch(g){return vi(g instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.fe===0?null:p}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let o=0;return i.forEach(c=>{const h=this.We.lt(),p=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.Xe(t,c,null),o++)}),o}Pt(e){const t=new Map;this.Ge.forEach((c,h)=>{const p=this.st(h);if(p){if(c.current&&Ip(p.target)){const g=new we(p.target.path);this.Tt(g).has(h)||this.It(h,g)||this.Xe(h,g,cn.newNoDocument(g,e))}c.Ne&&(t.set(h,c.Le()),c.ke())}});let i=Fe();this.Je.forEach((c,h)=>{let p=!0;h.forEachWhile(g=>{const y=this.st(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)}),p&&(i=i.add(c))}),this.ze.forEach((c,h)=>h.setReadTime(e));const o=new Rd(e,t,this.He,this.ze,i);return this.ze=Ts(),this.je=bh(),this.Je=bh(),this.He=new gt(Le),o}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Qx,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Bt(Le),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Bt(Le),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||xe("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Qx),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function bh(){return new gt(we.comparator)}function Yx(){return new gt(we.comparator)}const Aj={asc:"ASCENDING",desc:"DESCENDING"},Sj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Nj={and:"AND",or:"OR"};class Rj{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jp(r,e){return r.useProto3Json||bd(e)?e:{value:e}}function rd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Ij(r,e){return rd(r,e.toTimestamp())}function Or(r){return Je(!!r,49232),ke.fromTimestamp(function(t){const i=xi(t);return new ut(i.seconds,i.nanos)}(r))}function Rg(r,e){return Dp(r,e).canonicalString()}function Dp(r,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function LE(r){const e=ct.fromString(r);return Je(HE(e),10190,{key:e.toString()}),e}function kp(r,e){return Rg(r.databaseId,e.path)}function rp(r,e){const t=LE(e);if(t.get(1)!==r.databaseId.projectId)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new we(zE(t))}function UE(r,e){return Rg(r.databaseId,e)}function Cj(r){const e=LE(r);return e.length===4?ct.emptyPath():zE(e)}function Op(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zE(r){return Je(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Xx(r,e,t){return{name:kp(r,e),fields:t.value.mapValue.fields}}function jj(r,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:je(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,b){return y.useProto3Json?(Je(b===void 0||typeof b=="string",58123),nn.fromBase64String(b||"")):(Je(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),nn.fromUint8Array(b||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,p=h&&function(y){const b=y.code===void 0?re.UNKNOWN:OE(y.code);return new ve(b,y.message||"")}(h);t=new PE(i,o,c,p||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=rp(r,i.document.name),c=Or(i.document.updateTime),h=i.document.createTime?Or(i.document.createTime):ke.min(),p=new En({mapValue:{fields:i.document.fields}}),g=cn.newFoundDocument(o,c,h,p),y=i.targetIds||[],b=i.removedTargetIds||[];t=new Vh(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=rp(r,i.document),c=i.readTime?Or(i.readTime):ke.min(),h=cn.newNoDocument(o,c),p=i.removedTargetIds||[];t=new Vh([],p,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=rp(r,i.document),c=i.removedTargetIds||[];t=new Vh([],c,o,null)}else{if(!("filter"in e))return je(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,h=new bj(o,c),p=i.targetId;t=new ME(p,h)}}return t}function Dj(r,e){let t;if(e instanceof Bc)t={update:Xx(r,e.key,e.value)};else if(e instanceof Ag)t={delete:kp(r,e.key)};else if(e instanceof Ni)t={update:Xx(r,e.key,e.data),updateMask:Bj(e.fieldMask)};else{if(!(e instanceof vj))return je(16599,{Rt:e.type});t={verify:kp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,h){const p=h.transform;if(p instanceof Sc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Nc)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Rc)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ic)return{fieldPath:h.field.canonicalString(),increment:p.Ee};throw je(20930,{transform:h.transform})}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:Ij(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:je(27497)}(r,e.precondition)),t}function kj(r,e){return r&&r.length>0?(Je(e!==void 0,14353),r.map(t=>function(o,c){let h=o.updateTime?Or(o.updateTime):Or(c);return h.isEqual(ke.min())&&(h=Or(c)),new pj(h,o.transformResults||[])}(t,e))):[]}function Oj(r,e){return{documents:[UE(r,e.path)]}}function Mj(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=UE(r,o);const c=function(y){if(y.length!==0)return qE(lr.create(y,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const h=function(y){if(y.length!==0)return y.map(b=>function(E){return{field:bo(E.field),direction:Lj(E.dir)}}(b))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const p=jp(r,e.limit);return p!==null&&(t.structuredQuery.limit=p),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{Vt:t,parent:o}}function Pj(r){let e=Cj(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Je(i===1,65062);const b=t.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let c=[];t.where&&(c=function(T){const E=BE(T);return E instanceof lr&&pE(E)?E.getFilters():[E]}(t.where));let h=[];t.orderBy&&(h=function(T){return T.map(E=>function(A){return new Ac(Eo(A.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(t.orderBy));let p=null;t.limit&&(p=function(T){let E;return E=typeof T=="object"?T.value:T,bd(E)?null:E}(t.limit));let g=null;t.startAt&&(g=function(T){const E=!!T.before,C=T.values||[];return new td(C,E)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const E=!T.before,C=T.values||[];return new td(C,E)}(t.endAt)),rj(e,o,h,c,p,"F",g,y)}function Vj(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BE(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Eo(t.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Eo(t.unaryFilter.field);return kt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Eo(t.unaryFilter.field);return kt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Eo(t.unaryFilter.field);return kt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return je(61313);default:return je(60726)}}(r):r.fieldFilter!==void 0?function(t){return kt.create(Eo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return je(58110);default:return je(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return lr.create(t.compositeFilter.filters.map(i=>BE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return je(1026)}}(t.compositeFilter.op))}(r):je(30097,{filter:r})}function Lj(r){return Aj[r]}function Uj(r){return Sj[r]}function zj(r){return Nj[r]}function bo(r){return{fieldPath:r.canonicalString()}}function Eo(r){return tn.fromServerFormat(r.fieldPath)}function qE(r){return r instanceof kt?function(t){if(t.op==="=="){if(Vx(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NAN"}};if(Px(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Vx(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NAN"}};if(Px(t.value))return{unaryFilter:{field:bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(t.field),op:Uj(t.op),value:t.value}}}(r):r instanceof lr?function(t){const i=t.getFilters().map(o=>qE(o));return i.length===1?i[0]:{compositeFilter:{op:zj(t.op),filters:i}}}(r):je(54877,{filter:r})}function Bj(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t,i,o,c=ke.min(),h=ke.min(),p=nn.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.gt=e}}function Hj(r){const e=Pj({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?nd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(){this.Dn=new Gj}addToCollectionParentIndex(e,t){return this.Dn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(_i.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class Gj{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Bt(ct.comparator),c=!o.has(i);return this.index[t]=o.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Bt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(FE,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new ko(0)}static ur(){return new ko(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="LruGarbageCollector",$j=1048576;function Jx([r,e],[t,i]){const o=Le(r,t);return o===0?Le(e,i):o}class Kj{constructor(e){this.Tr=e,this.buffer=new Bt(Jx),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Jx(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qj{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){xe(Zx,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ho(t)?xe(Zx,"Ignoring IndexedDB error during garbage collection: ",t):await qo(t)}await this.Rr(3e5)})}}class Yj{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(xd.ue);const i=new Kj(t);return this.Vr.forEachTarget(e,o=>i.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>i.Er(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(xe("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(Wx)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wx):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,o,c,h,p,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,p=Date.now(),this.removeTargets(e,i,t))).next(T=>(c=T,g=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),_o()<=He.DEBUG&&xe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(p-h)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:T})))}}function Xj(r,e){return new Yj(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(){this.changes=new Ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&gc(i.mutation,o,On.empty(),ut.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Fe()){const o=ha();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(c=>{let h=lc();return c.forEach((p,g)=>{h=h.insert(p,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const i=ha();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Fe()))}populateOverlays(e,t,i){const o=[];return i.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((h,p)=>{t.set(h,p)})})}computeViews(e,t,i,o){let c=Ts();const h=pc(),p=function(){return pc()}();return t.forEach((g,y)=>{const b=i.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Ni)?c=c.insert(y.key,y):b!==void 0?(h.set(y.key,b.mutation.getFieldMask()),gc(b.mutation,y,b.mutation.getFieldMask(),ut.now())):h.set(y.key,On.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((y,b)=>h.set(y,b)),t.forEach((y,b)=>{var T;return p.set(y,new Zj(b,(T=h.get(y))!==null&&T!==void 0?T:null))}),p))}recalculateAndSaveOverlays(e,t){const i=pc();let o=new gt((h,p)=>h-p),c=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const p of h)p.keys().forEach(g=>{const y=t.get(g);if(y===null)return;let b=i.get(g)||On.empty();b=p.applyToLocalView(y,b),i.set(g,b);const T=(o.get(p.batchId)||Fe()).add(g);o=o.insert(p.batchId,T)})}).next(()=>{const h=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,b=g.value,T=TE();b.forEach(E=>{if(!c.has(E)){const C=DE(t.get(E),i.get(E));C!==null&&T.set(E,C),c=c.add(E)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ae.waitFor(h)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(h){return we.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_E(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-c.size):ae.resolve(ha());let p=bc,g=c;return h.next(y=>ae.forEach(y,(b,T)=>(p<T.largestBatchId&&(p=T.largestBatchId),c.get(b)?ae.resolve():this.remoteDocumentCache.getEntry(e,b).next(E=>{g=g.insert(b,E)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,g,y,Fe())).next(b=>({batchId:p,changes:wE(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=lc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const c=t.collectionGroup;let h=lc();return this.indexManager.getCollectionParents(e,c).next(p=>ae.forEach(p,g=>{const y=function(T,E){return new Fo(E,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(b=>{b.forEach((T,E)=>{h=h.insert(T,E)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,o))).next(h=>{c.forEach((g,y)=>{const b=y.getKey();h.get(b)===null&&(h=h.insert(b,cn.newInvalidDocument(b)))});let p=lc();return h.forEach((g,y)=>{const b=c.get(g);b!==void 0&&gc(b.mutation,y,On.empty(),ut.now()),Ad(t,y)&&(p=p.insert(g,y))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return ae.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Or(o.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,function(o){return{name:o.name,query:Hj(o.bundledQuery),readTime:Or(o.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(){this.overlays=new gt(we.comparator),this.kr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ha();return ae.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&i.set(o,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,c)=>{this.wt(e,t,c)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.kr.get(i);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.kr.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const o=ha(),c=t.length+1,h=new we(t.child("")),p=this.overlays.getIteratorFrom(h);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>i&&o.set(g.getKey(),g)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let c=new gt((y,b)=>y-b);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let b=c.get(y.largestBatchId);b===null&&(b=ha(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=ha(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,b)=>p.set(y,b)),!(p.size()>=o)););return ae.resolve(p)}wt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(i.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new xj(t,i));let c=this.kr.get(t);c===void 0&&(c=Fe(),this.kr.set(t,c)),this.kr.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(){this.qr=new Bt(Kt.Qr),this.$r=new Bt(Kt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new Kt(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Wr(new Kt(e,t))}Gr(e,t){e.forEach(i=>this.removeReference(i,t))}zr(e){const t=new we(new ct([])),i=new Kt(t,e),o=new Kt(t,e+1),c=[];return this.$r.forEachInRange([i,o],h=>{this.Wr(h),c.push(h.key)}),c}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new we(new ct([])),i=new Kt(t,e),o=new Kt(t,e+1);let c=Fe();return this.$r.forEachInRange([i,o],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new Kt(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return we.comparator(e.key,t.key)||Le(e.Hr,t.Hr)}static Ur(e,t){return Le(e.Hr,t.Hr)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Bt(Kt.Qr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const c=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new _j(c,t,i,o);this.mutationQueue.push(h);for(const p of o)this.Yr=this.Yr.add(new Kt(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,t){return ae.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Xr(i),c=o<0?0:o;return ae.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?_g:this.er-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Kt(t,0),o=new Kt(t,Number.POSITIVE_INFINITY),c=[];return this.Yr.forEachInRange([i,o],h=>{const p=this.Zr(h.Hr);c.push(p)}),ae.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Bt(Le);return t.forEach(o=>{const c=new Kt(o,0),h=new Kt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([c,h],p=>{i=i.add(p.Hr)})}),ae.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let c=i;we.isDocumentKey(c)||(c=c.child(""));const h=new Kt(new we(c),0);let p=new Bt(Le);return this.Yr.forEachWhile(g=>{const y=g.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Hr)),!0)},h),ae.resolve(this.ei(p))}ei(e){const t=[];return e.forEach(i=>{const o=this.Zr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Je(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return ae.forEach(t.mutations,o=>{const c=new Kt(o.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=i})}rr(e){}containsKey(e,t){const i=new Kt(t,0),o=this.Yr.firstAfterOrEqual(i);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.ni=e,this.docs=function(){return new gt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),c=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let i=Ts();return t.forEach(o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():cn.newInvalidDocument(o))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let c=Ts();const h=t.path,p=new we(h.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||M4(O4(b),i)<=0||(o.has(b.key)||Ad(t,b))&&(c=c.insert(b.key,b.mutableCopy()))}return ae.resolve(c)}getAllFromCollectionGroup(e,t,i,o){je(9500)}ri(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new iD(this)}getSize(e){return ae.resolve(this.size)}}class iD extends Wj{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.persistence=e,this.ii=new Ta(t=>Eg(t),wg),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.si=0,this.oi=new Ig,this.targetCount=0,this._i=ko.ar()}forEachTarget(e,t){return this.ii.forEach((i,o)=>t(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),ae.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new ko(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.hr(t),ae.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let o=0;const c=[];return this.ii.forEach((h,p)=>{p.sequenceNumber<=t&&i.get(p.targetId)===null&&(this.ii.delete(h),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)}),ae.waitFor(c).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),ae.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,t){this.ai={},this.overlays={},this.ui=new xd(0),this.ci=!1,this.ci=!0,this.li=new nD,this.referenceDelegate=e(this),this.hi=new aD(this),this.indexManager=new Fj,this.remoteDocumentCache=function(o){return new sD(o)}(i=>this.referenceDelegate.Pi(i)),this.serializer=new qj(t),this.Ti=new eD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new rD(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){xe("MemoryPersistence","Starting transaction:",e);const o=new oD(this.ui.next());return this.referenceDelegate.Ii(),i(o).next(c=>this.referenceDelegate.di(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ei(e,t){return ae.or(Object.values(this.ai).map(i=>()=>i.containsKey(e,t)))}}class oD extends V4{constructor(e){super(),this.currentSequenceNumber=e}}class Cg{constructor(e){this.persistence=e,this.Ai=new Ig,this.Ri=null}static Vi(e){return new Cg(e)}get mi(){if(this.Ri)return this.Ri;throw je(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(o=>this.mi.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.mi.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.mi,i=>{const o=we.fromPath(i);return this.fi(e,o).next(c=>{c||t.removeEntry(o,ke.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return ae.or([()=>ae.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class sd{constructor(e,t){this.persistence=e,this.gi=new Ta(i=>z4(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Xj(this,t)}static Vi(e,t){return new sd(e,t)}Ii(){}di(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}yr(e){let t=0;return this.gr(e,i=>{t++}).next(()=>t)}gr(e,t){return ae.forEach(this.gi,(i,o)=>this.Sr(e,i,o).next(c=>c?ae.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,t).next(p=>{p||(i++,c.removeEntry(h,ke.min()))})).next(()=>c.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),ae.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Oh(e.data.value)),t}Sr(e,t,i){return ae.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return ae.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=o}static Es(e,t){let i=Fe(),o=Fe();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new jg(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return LN()?8:L4(un())>0?6:4}()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,o){const c={result:null};return this.ps(e,t).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.ys(e,t,o,i).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new lD;return this.ws(e,t,h).next(p=>{if(c.result=p,this.Rs)return this.Ss(e,t,h,p.size)})}).next(()=>c.result)}Ss(e,t,i,o){return i.documentReadCount<this.Vs?(_o()<=He.DEBUG&&xe("QueryEngine","SDK will not create cache indexes for query:",xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ae.resolve()):(_o()<=He.DEBUG&&xe("QueryEngine","Query:",xo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.fs*o?(_o()<=He.DEBUG&&xe("QueryEngine","The SDK decides to create cache indexes for query:",xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kr(t))):ae.resolve())}ps(e,t){if(Bx(t))return ae.resolve(null);let i=kr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=nd(t,null,"F"),i=kr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const h=Fe(...c);return this.gs.getDocuments(e,h).next(p=>this.indexManager.getMinOffset(e,i).next(g=>{const y=this.bs(t,p);return this.Ds(t,y,h,g.readTime)?this.ps(e,nd(t,null,"F")):this.vs(e,y,t,g)}))})))}ys(e,t,i,o){return Bx(t)||o.isEqual(ke.min())?ae.resolve(null):this.gs.getDocuments(e,i).next(c=>{const h=this.bs(t,c);return this.Ds(t,h,i,o)?ae.resolve(null):(_o()<=He.DEBUG&&xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(t)),this.vs(e,h,t,k4(o,bc)).next(p=>p))})}bs(e,t){let i=new Bt(bE(e));return t.forEach((o,c)=>{Ad(e,c)&&(i=i.add(c))}),i}Ds(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ws(e,t,i){return _o()<=He.DEBUG&&xe("QueryEngine","Using full collection scan to execute query:",xo(t)),this.gs.getDocumentsMatchingQuery(e,t,_i.min(),i)}vs(e,t,i,o){return this.gs.getDocumentsMatchingQuery(e,i,o).next(c=>(t.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dg="LocalStore",uD=3e8;class hD{constructor(e,t,i,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new gt(Le),this.Ms=new Ta(c=>Eg(c),wg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Jj(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}function dD(r,e,t,i){return new hD(r,e,t,i)}async function $E(r,e){const t=Oe(r);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(c=>(o=c,t.Ns(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const h=[],p=[];let g=Fe();for(const y of o){h.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(i,g).next(y=>({Bs:y,removedBatchIds:h,addedBatchIds:p}))})})}function fD(r,e){const t=Oe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),c=t.Os.newChangeBuffer({trackRemovals:!0});return function(p,g,y,b){const T=y.batch,E=T.keys();let C=ae.resolve();return E.forEach(A=>{C=C.next(()=>b.getEntry(g,A)).next(z=>{const V=y.docVersions.get(A);Je(V!==null,48541),z.version.compareTo(V)<0&&(T.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),b.addEntry(z)))})}),C.next(()=>p.mutationQueue.removeMutationBatch(g,T))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(p){let g=Fe();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function KE(r){const e=Oe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function mD(r,e){const t=Oe(r),i=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const p=[];e.targetChanges.forEach((b,T)=>{const E=o.get(T);if(!E)return;p.push(t.hi.removeMatchingKeys(c,b.removedDocuments,T).next(()=>t.hi.addMatchingKeys(c,b.addedDocuments,T)));let C=E.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(nn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):b.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(b.resumeToken,i)),o=o.insert(T,C),function(z,V,H){return z.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=uD?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(E,C,b)&&p.push(t.hi.updateTargetData(c,C))});let g=Ts(),y=Fe();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(c,b))}),p.push(pD(c,h,e.documentUpdates).next(b=>{g=b.Ls,y=b.ks})),!i.isEqual(ke.min())){const b=t.hi.getLastRemoteSnapshotVersion(c).next(T=>t.hi.setTargetsMetadata(c,c.currentSequenceNumber,i));p.push(b)}return ae.waitFor(p).next(()=>h.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,g,y)).next(()=>g)}).then(c=>(t.Fs=o,c))}function pD(r,e,t){let i=Fe(),o=Fe();return t.forEach(c=>i=i.add(c)),e.getEntries(r,i).next(c=>{let h=Ts();return t.forEach((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(ke.min())?(e.removeEntry(p,g.readTime),h=h.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),h=h.insert(p,g)):xe(Dg,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)}),{Ls:h,ks:o}})}function gD(r,e){const t=Oe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=_g),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function yD(r,e){const t=Oe(r);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.hi.getTargetData(i,e).next(c=>c?(o=c,ae.resolve(o)):t.hi.allocateTargetId(i).next(h=>(o=new hi(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Fs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i})}async function Mp(r,e,t){const i=Oe(r),o=i.Fs.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,h=>i.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Ho(h))throw h;xe(Dg,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(o.target)}function eb(r,e,t){const i=Oe(r);let o=ke.min(),c=Fe();return i.persistence.runTransaction("Execute query","readwrite",h=>function(g,y,b){const T=Oe(g),E=T.Ms.get(b);return E!==void 0?ae.resolve(T.Fs.get(E)):T.hi.getTargetData(y,b)}(i,h,kr(e)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(h,p.targetId).next(g=>{c=g})}).next(()=>i.Cs.getDocumentsMatchingQuery(h,e,t?o:ke.min(),t?c:Fe())).next(p=>(vD(i,ij(e),p),{documents:p,qs:c})))}function vD(r,e,t){let i=r.xs.get(e)||ke.min();t.forEach((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),r.xs.set(e,i)}class tb{constructor(){this.activeTargetIds=hj()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _D{constructor(){this.Fo=new tb,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new tb,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb="ConnectivityMonitor";class rb{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){xe(nb,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){xe(nb,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eh=null;function Pp(){return Eh===null?Eh=function(){return 268435456+Math.round(2147483648*Math.random())}():Eh++,"0x"+Eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="RestConnection",bD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ED{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.Ko=this.databaseId.database===Jh?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,t,i,o,c){const h=Pp(),p=this.Go(e,t.toUriEncodedString());xe(sp,`Sending RPC '${e}' ${h}:`,p,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(g,o,c);const{host:y}=new URL(p),b=Ai(y);return this.jo(e,p,g,i,b).then(T=>(xe(sp,`Received RPC '${e}' ${h}: `,T),T),T=>{throw vi(sp,`RPC '${e}' ${h} failed with error: `,T,"url: ",p,"request:",i),T})}Jo(e,t,i,o,c,h){return this.Wo(e,t,i,o,c)}zo(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,c)=>e[c]=o),i&&i.headers.forEach((o,c)=>e[c]=o)}Go(e,t){const i=bD[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class TD extends ED{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,o,c){const h=Pp();return new Promise((p,g)=>{const y=new K1;y.setWithCredentials(!0),y.listenOnce(Q1.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case kh.NO_ERROR:const T=y.getResponseJson();xe(on,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),p(T);break;case kh.TIMEOUT:xe(on,`RPC '${e}' ${h} timed out`),g(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case kh.HTTP_ERROR:const E=y.getStatus();if(xe(on,`RPC '${e}' ${h} failed with status:`,E,"response text:",y.getResponseText()),E>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const A=C==null?void 0:C.error;if(A&&A.status&&A.message){const z=function(H){const K=H.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(K)>=0?K:re.UNKNOWN}(A.status);g(new ve(z,A.message))}else g(new ve(re.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ve(re.UNAVAILABLE,"Connection failed."));break;default:je(9055,{c_:e,streamId:h,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{xe(on,`RPC '${e}' ${h} completed.`)}});const b=JSON.stringify(o);xe(on,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",b,i,15)})}P_(e,t,i){const o=Pp(),c=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=W1(),p=X1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.zo(g.initMessageHeaders,t,i),g.encodeInitMessageHeaders=!0;const b=c.join("");xe(on,`Creating RPC '${e}' stream ${o}: ${b}`,g);const T=h.createWebChannel(b,g);this.T_(T);let E=!1,C=!1;const A=new wD({Ho:V=>{C?xe(on,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(E||(xe(on,`Opening RPC '${e}' stream ${o} transport.`),T.open(),E=!0),xe(on,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Yo:()=>T.close()}),z=(V,H,K)=>{V.listen(H,ee=>{try{K(ee)}catch(le){setTimeout(()=>{throw le},0)}})};return z(T,oc.EventType.OPEN,()=>{C||(xe(on,`RPC '${e}' stream ${o} transport opened.`),A.s_())}),z(T,oc.EventType.CLOSE,()=>{C||(C=!0,xe(on,`RPC '${e}' stream ${o} transport closed`),A.__(),this.I_(T))}),z(T,oc.EventType.ERROR,V=>{C||(C=!0,vi(on,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),A.__(new ve(re.UNAVAILABLE,"The operation could not be completed")))}),z(T,oc.EventType.MESSAGE,V=>{var H;if(!C){const K=V.data[0];Je(!!K,16349);const ee=K,le=(ee==null?void 0:ee.error)||((H=ee[0])===null||H===void 0?void 0:H.error);if(le){xe(on,`RPC '${e}' stream ${o} received error:`,le);const pe=le.status;let oe=function(R){const D=Dt[R];if(D!==void 0)return OE(D)}(pe),j=le.message;oe===void 0&&(oe=re.INTERNAL,j="Unknown error status: "+pe+" with message "+le.message),C=!0,A.__(new ve(oe,j)),T.close()}else xe(on,`RPC '${e}' stream ${o} received:`,K),A.a_(K)}}),z(p,Y1.STAT_EVENT,V=>{V.stat===Tp.PROXY?xe(on,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Tp.NOPROXY&&xe(on,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{A.o_()},0),A}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function ip(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(r){return new Rj(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,t,i=1e3,o=1.5,c=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=o,this.A_=c,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-i);o>0&&xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="PersistentStream";class YE{constructor(e,t,i,o,c,h,p,g){this.Fi=e,this.w_=i,this.S_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new QE(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(ws(t.toString()),ws("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.b_===t&&this.W_(i,o)},i=>{e(()=>{const o=new ve(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(o)})})}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{i(()=>this.listener.Zo())}),this.stream.e_(()=>{i(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{i(()=>this.G_(o))}),this.stream.onMessage(o=>{i(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return xe(sb,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(xe(sb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AD extends YE{constructor(e,t,i,o,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=c}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=jj(this.serializer,e),i=function(c){if(!("targetChange"in c))return ke.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?ke.min():h.readTime?Or(h.readTime):ke.min()}(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=Op(this.serializer),t.addTarget=function(c,h){let p;const g=h.target;if(p=Ip(g)?{documents:Oj(c,g)}:{query:Mj(c,g).Vt},p.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){p.resumeToken=VE(c,h.resumeToken);const y=jp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}else if(h.snapshotVersion.compareTo(ke.min())>0){p.readTime=rd(c,h.snapshotVersion.toTimestamp());const y=jp(c,h.expectedCount);y!==null&&(p.expectedCount=y)}return p}(this.serializer,e);const i=Vj(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=Op(this.serializer),t.removeTarget=e,this.k_(t)}}class SD extends YE{constructor(e,t,i,o,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=c}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=kj(e.writeResults,e.commitTime),i=Or(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=Op(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Dj(this.serializer,i))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{}class RD extends ND{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Wo(e,Dp(t,i),o,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(re.UNKNOWN,c.toString())})}Jo(e,t,i,o,c){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.Jo(e,Dp(t,i),o,h,p,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(re.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class ID{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ws(t),this._a=!1):xe("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class CD{constructor(e,t,i,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=c,this.Ea.xo(h=>{i.enqueueAndForget(async()=>{Aa(this)&&(xe(xa,"Restarting streams for network reachability change."),await async function(g){const y=Oe(g);y.Ia.add(4),await Hc(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Cd(y)}(this))})}),this.Aa=new ID(i,o)}}async function Cd(r){if(Aa(r))for(const e of r.da)await e(!0)}async function Hc(r){for(const e of r.da)await e(!1)}function XE(r,e){const t=Oe(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),Pg(t)?Mg(t):Go(t).x_()&&Og(t,e))}function kg(r,e){const t=Oe(r),i=Go(t);t.Ta.delete(e),i.x_()&&WE(t,e),t.Ta.size===0&&(i.x_()?i.B_():Aa(t)&&t.Aa.set("Unknown"))}function Og(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Go(r).H_(e)}function WE(r,e){r.Ra.$e(e),Go(r).Y_(e)}function Mg(r){r.Ra=new Tj({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Go(r).start(),r.Aa.aa()}function Pg(r){return Aa(r)&&!Go(r).M_()&&r.Ta.size>0}function Aa(r){return Oe(r).Ia.size===0}function ZE(r){r.Ra=void 0}async function jD(r){r.Aa.set("Online")}async function DD(r){r.Ta.forEach((e,t)=>{Og(r,e)})}async function kD(r,e){ZE(r),Pg(r)?(r.Aa.la(e),Mg(r)):r.Aa.set("Unknown")}async function OD(r,e,t){if(r.Aa.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await async function(o,c){const h=c.cause;for(const p of c.targetIds)o.Ta.has(p)&&(await o.remoteSyncer.rejectListen(p,h),o.Ta.delete(p),o.Ra.removeTarget(p))}(r,e)}catch(i){xe(xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await id(r,i)}else if(e instanceof Vh?r.Ra.Ye(e):e instanceof ME?r.Ra.it(e):r.Ra.et(e),!t.isEqual(ke.min()))try{const i=await KE(r.localStore);t.compareTo(i)>=0&&await function(c,h){const p=c.Ra.Pt(h);return p.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=c.Ta.get(y);b&&c.Ta.set(y,b.withResumeToken(g.resumeToken,h))}}),p.targetMismatches.forEach((g,y)=>{const b=c.Ta.get(g);if(!b)return;c.Ta.set(g,b.withResumeToken(nn.EMPTY_BYTE_STRING,b.snapshotVersion)),WE(c,g);const T=new hi(b.target,g,y,b.sequenceNumber);Og(c,T)}),c.remoteSyncer.applyRemoteEvent(p)}(r,t)}catch(i){xe(xa,"Failed to raise snapshot:",i),await id(r,i)}}async function id(r,e,t){if(!Ho(e))throw e;r.Ia.add(1),await Hc(r),r.Aa.set("Offline"),t||(t=()=>KE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{xe(xa,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Cd(r)})}function JE(r,e){return e().catch(t=>id(r,t,e))}async function jd(r){const e=Oe(r),t=wi(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:_g;for(;MD(e);)try{const o=await gD(e.localStore,i);if(o===null){e.Pa.length===0&&t.B_();break}i=o.batchId,PD(e,o)}catch(o){await id(e,o)}ew(e)&&tw(e)}function MD(r){return Aa(r)&&r.Pa.length<10}function PD(r,e){r.Pa.push(e);const t=wi(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function ew(r){return Aa(r)&&!wi(r).M_()&&r.Pa.length>0}function tw(r){wi(r).start()}async function VD(r){wi(r).na()}async function LD(r){const e=wi(r);for(const t of r.Pa)e.X_(t.mutations)}async function UD(r,e,t){const i=r.Pa.shift(),o=Sg.from(i,e,t);await JE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await jd(r)}async function zD(r,e){e&&wi(r).Z_&&await async function(i,o){if(function(h){return Ej(h)&&h!==re.ABORTED}(o.code)){const c=i.Pa.shift();wi(i).N_(),await JE(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o)),await jd(i)}}(r,e),ew(r)&&tw(r)}async function ib(r,e){const t=Oe(r);t.asyncQueue.verifyOperationInProgress(),xe(xa,"RemoteStore received new credentials");const i=Aa(t);t.Ia.add(3),await Hc(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Cd(t)}async function BD(r,e){const t=Oe(r);e?(t.Ia.delete(2),await Cd(t)):e||(t.Ia.add(2),await Hc(t),t.Aa.set("Unknown"))}function Go(r){return r.Va||(r.Va=function(t,i,o){const c=Oe(t);return c.ia(),new AD(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:jD.bind(null,r),e_:DD.bind(null,r),n_:kD.bind(null,r),J_:OD.bind(null,r)}),r.da.push(async e=>{e?(r.Va.N_(),Pg(r)?Mg(r):r.Aa.set("Unknown")):(await r.Va.stop(),ZE(r))})),r.Va}function wi(r){return r.ma||(r.ma=function(t,i,o){const c=Oe(t);return c.ia(),new SD(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:VD.bind(null,r),n_:zD.bind(null,r),ea:LD.bind(null,r),ta:UD.bind(null,r)}),r.da.push(async e=>{e?(r.ma.N_(),await jd(r)):(await r.ma.stop(),r.Pa.length>0&&(xe(xa,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))})),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,i,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new _s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,c){const h=Date.now()+i,p=new Vg(e,t,h,o,c);return p.start(i),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(r,e){if(ws("AsyncQueue",`${e}: ${r}`),Ho(r))return new ve(re.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{static emptySet(e){return new Ro(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=lc(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ro)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Ro;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this.fa=new gt(we.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):je(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,i)=>{e.push(i)}),e}}class Oo{constructor(e,t,i,o,c,h,p,g,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,c){const h=[];return t.forEach(p=>{h.push({type:0,doc:p})}),new Oo(e,t,Ro.emptySet(t),h,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class HD{constructor(){this.queries=ob(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const o=Oe(t),c=o.queries;o.queries=ob(),c.forEach((h,p)=>{for(const g of p.wa)g.onError(i)})})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function ob(){return new Ta(r=>xE(r),Td)}async function Ug(r,e){const t=Oe(r);let i=3;const o=e.query;let c=t.queries.get(o);c?!c.Sa()&&e.ba()&&(i=2):(c=new qD,i=e.ba()?0:1);try{switch(i){case 0:c.ya=await t.onListen(o,!0);break;case 1:c.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const p=Lg(h,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(p)}t.queries.set(o,c),c.wa.push(e),e.va(t.onlineState),c.ya&&e.Ca(c.ya)&&Bg(t)}async function zg(r,e){const t=Oe(r),i=e.query;let o=3;const c=t.queries.get(i);if(c){const h=c.wa.indexOf(e);h>=0&&(c.wa.splice(h,1),c.wa.length===0?o=e.ba()?0:1:!c.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function FD(r,e){const t=Oe(r);let i=!1;for(const o of e){const c=o.query,h=t.queries.get(c);if(h){for(const p of h.wa)p.Ca(o)&&(i=!0);h.ya=o}}i&&Bg(t)}function GD(r,e,t){const i=Oe(r),o=i.queries.get(e);if(o)for(const c of o.wa)c.onError(t);i.queries.delete(e)}function Bg(r){r.Da.forEach(e=>{e.next()})}var Vp,lb;(lb=Vp||(Vp={})).Fa="default",lb.Cache="cache";class qg{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Oo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e){this.key=e}}class rw{constructor(e){this.key=e}}class $D{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Fe(),this.mutatedKeys=Fe(),this.Xa=bE(e),this.eu=new Ro(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new ab,o=t?t.eu:this.eu;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((b,T)=>{const E=o.get(b),C=Ad(this.query,T)?T:null,A=!!E&&this.mutatedKeys.has(E.key),z=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;E&&C?E.data.isEqual(C.data)?A!==z&&(i.track({type:3,doc:C}),V=!0):this.iu(E,C)||(i.track({type:2,doc:C}),V=!0,(g&&this.Xa(C,g)>0||y&&this.Xa(C,y)<0)&&(p=!0)):!E&&C?(i.track({type:0,doc:C}),V=!0):E&&!C&&(i.track({type:1,doc:E}),V=!0,(g||y)&&(p=!0)),V&&(C?(h=h.add(C),c=z?c.add(b):c.delete(b)):(h=h.delete(b),c=c.delete(b)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),c=c.delete(b.key),i.track({type:1,doc:b})}return{eu:h,ru:i,Ds:p,mutatedKeys:c}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const c=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((b,T)=>function(C,A){const z=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je(20277,{At:V})}};return z(C)-z(A)}(b.type,T.type)||this.Xa(b.doc,T.doc)),this.su(i),o=o!=null&&o;const p=t&&!o?this.ou():[],g=this.Za.size===0&&this.current&&!o?1:0,y=g!==this.Ya;return this.Ya=g,h.length!==0||y?{snapshot:new Oo(this.query,e.eu,c,h,e.mutatedKeys,g===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:p}:{_u:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new ab,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Fe(),this.eu.forEach(i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))});const t=[];return e.forEach(i=>{this.Za.has(i)||t.push(new rw(i))}),this.Za.forEach(i=>{e.has(i)||t.push(new nw(i))}),t}uu(e){this.Ha=e.qs,this.Za=Fe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Oo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Hg="SyncEngine";class KD{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class QD{constructor(e){this.key=e,this.lu=!1}}class YD{constructor(e,t,i,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Ta(p=>xE(p),Td),this.Tu=new Map,this.Iu=new Set,this.du=new gt(we.comparator),this.Eu=new Map,this.Au=new Ig,this.Ru={},this.Vu=new Map,this.mu=ko.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function XD(r,e,t=!0){const i=cw(r);let o;const c=i.Pu.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.cu()):o=await sw(i,e,t,!0),o}async function WD(r,e){const t=cw(r);await sw(t,e,!0,!1)}async function sw(r,e,t,i){const o=await yD(r.localStore,kr(e)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,t);let p;return i&&(p=await ZD(r,e,c,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&XE(r.remoteStore,o),p}async function ZD(r,e,t,i,o){r.gu=(T,E,C)=>async function(z,V,H,K){let ee=V.view.nu(H);ee.Ds&&(ee=await eb(z.localStore,V.query,!1).then(({documents:j})=>V.view.nu(j,ee)));const le=K&&K.targetChanges.get(V.targetId),pe=K&&K.targetMismatches.get(V.targetId)!=null,oe=V.view.applyChanges(ee,z.isPrimaryClient,le,pe);return ub(z,V.targetId,oe._u),oe.snapshot}(r,T,E,C);const c=await eb(r.localStore,e,!0),h=new $D(e,c.qs),p=h.nu(c.documents),g=qc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),y=h.applyChanges(p,r.isPrimaryClient,g);ub(r,t,y._u);const b=new KD(e,t,h);return r.Pu.set(e,b),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),y.snapshot}async function JD(r,e,t){const i=Oe(r),o=i.Pu.get(e),c=i.Tu.get(o.targetId);if(c.length>1)return i.Tu.set(o.targetId,c.filter(h=>!Td(h,e))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await Mp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&kg(i.remoteStore,o.targetId),Lp(i,o.targetId)}).catch(qo)):(Lp(i,o.targetId),await Mp(i.localStore,o.targetId,!0))}async function ek(r,e){const t=Oe(r),i=t.Pu.get(e),o=t.Tu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),kg(t.remoteStore,i.targetId))}async function tk(r,e,t){const i=lk(r);try{const o=await function(h,p){const g=Oe(h),y=ut.now(),b=p.reduce((C,A)=>C.add(A.key),Fe());let T,E;return g.persistence.runTransaction("Locally write mutations","readwrite",C=>{let A=Ts(),z=Fe();return g.Os.getEntries(C,b).next(V=>{A=V,A.forEach((H,K)=>{K.isValidDocument()||(z=z.add(H))})}).next(()=>g.localDocuments.getOverlayedDocuments(C,A)).next(V=>{T=V;const H=[];for(const K of p){const ee=yj(K,T.get(K.key).overlayedDocument);ee!=null&&H.push(new Ni(K.key,ee,dE(ee.value.mapValue),Xn.exists(!0)))}return g.mutationQueue.addMutationBatch(C,y,H,p)}).next(V=>{E=V;const H=V.applyToLocalDocumentSet(T,z);return g.documentOverlayCache.saveOverlays(C,V.batchId,H)})}).then(()=>({batchId:E.batchId,changes:wE(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(h,p,g){let y=h.Ru[h.currentUser.toKey()];y||(y=new gt(Le)),y=y.insert(p,g),h.Ru[h.currentUser.toKey()]=y}(i,o.batchId,t),await Fc(i,o.changes),await jd(i.remoteStore)}catch(o){const c=Lg(o,"Failed to persist write");t.reject(c)}}async function iw(r,e){const t=Oe(r);try{const i=await mD(t.localStore,e);e.targetChanges.forEach((o,c)=>{const h=t.Eu.get(c);h&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Je(h.lu,14607):o.removedDocuments.size>0&&(Je(h.lu,42227),h.lu=!1))}),await Fc(t,i,e)}catch(i){await qo(i)}}function cb(r,e,t){const i=Oe(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Pu.forEach((c,h)=>{const p=h.view.va(e);p.snapshot&&o.push(p.snapshot)}),function(h,p){const g=Oe(h);g.onlineState=p;let y=!1;g.queries.forEach((b,T)=>{for(const E of T.wa)E.va(p)&&(y=!0)}),y&&Bg(g)}(i.eventManager,e),o.length&&i.hu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function nk(r,e,t){const i=Oe(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),c=o&&o.key;if(c){let h=new gt(we.comparator);h=h.insert(c,cn.newNoDocument(c,ke.min()));const p=Fe().add(c),g=new Rd(ke.min(),new Map,new gt(Le),h,p);await iw(i,g),i.du=i.du.remove(c),i.Eu.delete(e),Fg(i)}else await Mp(i.localStore,e,!1).then(()=>Lp(i,e,t)).catch(qo)}async function rk(r,e){const t=Oe(r),i=e.batch.batchId;try{const o=await fD(t.localStore,e);ow(t,i,null),aw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Fc(t,o)}catch(o){await qo(o)}}async function sk(r,e,t){const i=Oe(r);try{const o=await function(h,p){const g=Oe(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let b;return g.mutationQueue.lookupMutationBatch(y,p).next(T=>(Je(T!==null,37113),b=T.keys(),g.mutationQueue.removeMutationBatch(y,T))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b)).next(()=>g.localDocuments.getDocuments(y,b))})}(i.localStore,e);ow(i,e,t),aw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Fc(i,o)}catch(o){await qo(o)}}function aw(r,e){(r.Vu.get(e)||[]).forEach(t=>{t.resolve()}),r.Vu.delete(e)}function ow(r,e,t){const i=Oe(r);let o=i.Ru[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),i.Ru[i.currentUser.toKey()]=o}}function Lp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Tu.get(e))r.Pu.delete(i),t&&r.hu.pu(i,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach(i=>{r.Au.containsKey(i)||lw(r,i)})}function lw(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(kg(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),Fg(r))}function ub(r,e,t){for(const i of t)i instanceof nw?(r.Au.addReference(i.key,e),ik(r,i)):i instanceof rw?(xe(Hg,"Document no longer in limbo: "+i.key),r.Au.removeReference(i.key,e),r.Au.containsKey(i.key)||lw(r,i.key)):je(19791,{yu:i})}function ik(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Iu.has(i)||(xe(Hg,"New document in limbo: "+t),r.Iu.add(i),Fg(r))}function Fg(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new we(ct.fromString(e)),i=r.mu.next();r.Eu.set(i,new QD(t)),r.du=r.du.insert(t,i),XE(r.remoteStore,new hi(kr(wd(t.path)),i,"TargetPurposeLimboResolution",xd.ue))}}async function Fc(r,e,t){const i=Oe(r),o=[],c=[],h=[];i.Pu.isEmpty()||(i.Pu.forEach((p,g)=>{h.push(i.gu(g,e,t).then(y=>{var b;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(b=t==null?void 0:t.targetChanges.get(g.targetId))===null||b===void 0?void 0:b.current;i.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=jg.Es(g.targetId,y);c.push(T)}}))}),await Promise.all(h),i.hu.J_(o),await async function(g,y){const b=Oe(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ae.forEach(y,E=>ae.forEach(E.Is,C=>b.persistence.referenceDelegate.addReference(T,E.targetId,C)).next(()=>ae.forEach(E.ds,C=>b.persistence.referenceDelegate.removeReference(T,E.targetId,C)))))}catch(T){if(!Ho(T))throw T;xe(Dg,"Failed to update sequence numbers: "+T)}for(const T of y){const E=T.targetId;if(!T.fromCache){const C=b.Fs.get(E),A=C.snapshotVersion,z=C.withLastLimboFreeSnapshotVersion(A);b.Fs=b.Fs.insert(E,z)}}}(i.localStore,c))}async function ak(r,e){const t=Oe(r);if(!t.currentUser.isEqual(e)){xe(Hg,"User change. New user:",e.toKey());const i=await $E(t.localStore,e);t.currentUser=e,function(c,h){c.Vu.forEach(p=>{p.forEach(g=>{g.reject(new ve(re.CANCELLED,h))})}),c.Vu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Fc(t,i.Bs)}}function ok(r,e){const t=Oe(r),i=t.Eu.get(e);if(i&&i.lu)return Fe().add(i.key);{let o=Fe();const c=t.Tu.get(e);if(!c)return o;for(const h of c){const p=t.Pu.get(h);o=o.unionWith(p.view.tu)}return o}}function cw(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=iw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ok.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nk.bind(null,e),e.hu.J_=FD.bind(null,e.eventManager),e.hu.pu=GD.bind(null,e.eventManager),e}function lk(r){const e=Oe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sk.bind(null,e),e}class ad{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return dD(this.persistence,new cD,e.initialUser,this.serializer)}Du(e){return new GE(Cg.Vi,this.serializer)}bu(e){return new _D}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ad.provider={build:()=>new ad};class ck extends ad{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Je(this.persistence.referenceDelegate instanceof sd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Qj(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new GE(i=>sd.Vi(i,t),this.serializer)}}class Up{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>cb(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ak.bind(null,this.syncEngine),await BD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HD}()}createDatastore(e){const t=Id(e.databaseInfo.databaseId),i=function(c){return new TD(c)}(e.databaseInfo);return function(c,h,p,g){return new RD(c,h,p,g)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,c,h,p){return new CD(i,o,c,h,p)}(this.localStore,this.datastore,e.asyncQueue,t=>cb(this.syncEngine,t,0),function(){return rb.C()?new rb:new xD}())}createSyncEngine(e,t){return function(o,c,h,p,g,y,b){const T=new YD(o,c,h,p,g,y);return b&&(T.fu=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=Oe(o);xe(xa,"RemoteStore shutting down."),c.Ia.add(5),await Hc(c),c.Ea.shutdown(),c.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Up.provider={build:()=>new Up};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ws("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti="FirestoreClient";class uk{constructor(e,t,i,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=vg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async h=>{xe(Ti,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(i,h=>(xe(Ti,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Lg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ap(r,e){r.asyncQueue.verifyOperationInProgress(),xe(Ti,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener(async o=>{i.isEqual(o)||(await $E(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>{vi("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then(()=>{xe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{vi("Terminating Firestore due to IndexedDb database deletion failed",o)})}),r._offlineComponents=e}async function hb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await hk(r);xe(Ti,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(i=>ib(e.remoteStore,i)),r.setAppCheckTokenChangeListener((i,o)=>ib(e.remoteStore,o)),r._onlineComponents=e}async function hk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){xe(Ti,"Using user provided OfflineComponentProvider");try{await ap(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;vi("Error using user provided cache. Falling back to memory cache: "+t),await ap(r,new ad)}}else xe(Ti,"Using default OfflineComponentProvider"),await ap(r,new ck(void 0));return r._offlineComponents}async function uw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(xe(Ti,"Using user provided OnlineComponentProvider"),await hb(r,r._uninitializedComponentsProvider._online)):(xe(Ti,"Using default OnlineComponentProvider"),await hb(r,new Up))),r._onlineComponents}function dk(r){return uw(r).then(e=>e.syncEngine)}async function od(r){const e=await uw(r),t=e.eventManager;return t.onListen=XD.bind(null,e.syncEngine),t.onUnlisten=JD.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=WD.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ek.bind(null,e.syncEngine),t}function fk(r,e,t={}){const i=new _s;return r.asyncQueue.enqueueAndForget(async()=>function(c,h,p,g,y){const b=new Gg({next:E=>{b.Ou(),h.enqueueAndForget(()=>zg(c,T));const C=E.docs.has(p);!C&&E.fromCache?y.reject(new ve(re.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&E.fromCache&&g&&g.source==="server"?y.reject(new ve(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(E)},error:E=>y.reject(E)}),T=new qg(wd(p.path),b,{includeMetadataChanges:!0,ka:!0});return Ug(c,T)}(await od(r),r.asyncQueue,e,t,i)),i.promise}function mk(r,e,t={}){const i=new _s;return r.asyncQueue.enqueueAndForget(async()=>function(c,h,p,g,y){const b=new Gg({next:E=>{b.Ou(),h.enqueueAndForget(()=>zg(c,T)),E.fromCache&&g.source==="server"?y.reject(new ve(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(E)},error:E=>y.reject(E)}),T=new qg(p,b,{includeMetadataChanges:!0,ka:!0});return Ug(c,T)}(await od(r),r.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="firestore.googleapis.com",fb=!0;class mb{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dw,this.ssl=fb}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:fb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$j)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}D4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new w4;switch(i.type){case"firstParty":return new N4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=db.get(t);i&&(xe("ComponentProvider","Removing Datastore"),db.delete(t),i.terminate())}(this),Promise.resolve()}}function pk(r,e,t,i={}){var o;r=wn(r,Dd);const c=Ai(e),h=r._getSettings(),p=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${t}`;c&&(tg(`https://${g}`),ng("Firestore",!0)),h.host!==dw&&h.host!==g&&vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:g,ssl:c,emulatorOptions:i});if(!pa(y,p)&&(r._setSettings(y),i.mockUserToken)){let b,T;if(typeof i.mockUserToken=="string")b=i.mockUserToken,T=ln.MOCK_USER;else{b=r1(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new ln(E)}r._authCredentials=new T4(new J1(b,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new js(this.firestore,e,this._query)}}class xt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(zc(t,xt._jsonSchema))return new xt(e,i||null,new we(ct.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:Ot("string",xt._jsonSchemaVersion),referencePath:Ot("string")};class gi extends js{constructor(e,t,i){super(e,t,wd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new we(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function Ir(r,e,...t){if(r=mt(r),tE("collection","path",e),r instanceof Dd){const i=ct.fromString(e,...t);return Nx(i),new gi(r,null,i)}{if(!(r instanceof xt||r instanceof gi))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ct.fromString(e,...t));return Nx(i),new gi(r.firestore,null,i)}}function xn(r,e,...t){if(r=mt(r),arguments.length===1&&(e=vg.newId()),tE("doc","path",e),r instanceof Dd){const i=ct.fromString(e,...t);return Sx(i),new xt(r,null,new we(i))}{if(!(r instanceof xt||r instanceof gi))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ct.fromString(e,...t));return Sx(i),new xt(r.firestore,r instanceof gi?r.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="AsyncQueue";class gb{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new QE(this,"async_queue_retry"),this.oc=()=>{const i=ip();i&&xe(pb,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=ip();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=ip();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new _s;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ho(e))throw e;xe(pb,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(i=>{throw this.tc=i,this.nc=!1,ws("INTERNAL UNHANDLED ERROR: ",yb(i)),i}).then(i=>(this.nc=!1,i))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=Vg.createAndSchedule(this,e,t,i,c=>this.lc(c));return this.ec.push(o),o}ac(){this.tc&&je(47125,{hc:yb(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function yb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(r){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1}(r,["next","error","complete"])}class As extends Dd{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new gb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gb(e),this._firestoreClient=void 0,await e}}}function kd(r,e){const t=typeof r=="object"?r:ig(),i=typeof r=="string"?r:Jh,o=pd(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=e1("firestore");c&&pk(o,...c)}return o}function Od(r){if(r._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||gk(r),r._firestoreClient}function gk(r){var e,t,i;const o=r._freezeSettings(),c=function(p,g,y,b){return new H4(p,g,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,hw(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new uk(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(nn.fromBase64String(e))}catch(t){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Yn(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zc(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ot("string",Yn._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mr._jsonSchemaVersion}}static fromJSON(e){if(zc(e,Mr._jsonSchema))return new Mr(e.latitude,e.longitude)}}Mr._jsonSchemaVersion="firestore/geoPoint/1.0",Mr._jsonSchema={type:Ot("string",Mr._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zc(e,Pr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new Pr(e.vectorValues);throw new ve(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pr._jsonSchemaVersion="firestore/vectorValue/1.0",Pr._jsonSchema={type:Ot("string",Pr._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=/^__.*__$/;class vk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bc(e,this.data,t,this.fieldTransforms)}}class fw{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ni(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function mw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je(40011,{Ec:r})}}class $g{constructor(e,t,i,o,c,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.Ac(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new $g(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:i,mc:!1});return o.fc(e),o}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:i,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return ld(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(mw(this.Ec)&&yk.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class _k{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Id(e)}Dc(e,t,i,o=!1){return new $g({Ec:e,methodName:t,bc:i,path:tn.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pd(r){const e=r._freezeSettings(),t=Id(r._databaseId);return new _k(r._databaseId,!!e.ignoreUndefinedProperties,t)}function pw(r,e,t,i,o,c={}){const h=r.Dc(c.merge||c.mergeFields?2:0,e,t,o);Yg("Data must be an object, but it was:",h,i);const p=gw(i,h);let g,y;if(c.merge)g=new On(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const b=[];for(const T of c.mergeFields){const E=zp(e,T,t);if(!h.contains(E))throw new ve(re.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);vw(b,E)||b.push(E)}g=new On(b),y=h.fieldTransforms.filter(T=>g.covers(T.field))}else g=null,y=h.fieldTransforms;return new vk(new En(p),g,y)}class Vd extends Gc{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vd}}class Kg extends Gc{_toFieldTransform(e){return new jE(e.path,new Sc)}isEqual(e){return e instanceof Kg}}class Qg extends Gc{constructor(e,t){super(e),this.Cc=t}_toFieldTransform(e){const t=new Ic(e.serializer,SE(e.serializer,this.Cc));return new jE(e.path,t)}isEqual(e){return e instanceof Qg&&this.Cc===e.Cc}}function xk(r,e,t,i){const o=r.Dc(1,e,t);Yg("Data must be an object, but it was:",o,i);const c=[],h=En.empty();Si(i,(g,y)=>{const b=Xg(e,g,t);y=mt(y);const T=o.gc(b);if(y instanceof Vd)c.push(b);else{const E=$c(y,T);E!=null&&(c.push(b),h.set(b,E))}});const p=new On(c);return new fw(h,p,o.fieldTransforms)}function bk(r,e,t,i,o,c){const h=r.Dc(1,e,t),p=[zp(e,i,t)],g=[o];if(c.length%2!=0)throw new ve(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<c.length;E+=2)p.push(zp(e,c[E])),g.push(c[E+1]);const y=[],b=En.empty();for(let E=p.length-1;E>=0;--E)if(!vw(y,p[E])){const C=p[E];let A=g[E];A=mt(A);const z=h.gc(C);if(A instanceof Vd)y.push(C);else{const V=$c(A,z);V!=null&&(y.push(C),b.set(C,V))}}const T=new On(y);return new fw(b,T,h.fieldTransforms)}function Ek(r,e,t,i=!1){return $c(t,r.Dc(i?4:3,e))}function $c(r,e){if(yw(r=mt(r)))return Yg("Unsupported field value:",e,r),gw(r,e);if(r instanceof Gc)return function(i,o){if(!mw(o.Ec))throw o.wc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(i,o){const c=[];let h=0;for(const p of i){let g=$c(p,o.yc(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(r,e)}return function(i,o){if((i=mt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SE(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=ut.fromDate(i);return{timestampValue:rd(o.serializer,c)}}if(i instanceof ut){const c=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:rd(o.serializer,c)}}if(i instanceof Mr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yn)return{bytesValue:VE(o.serializer,i._byteString)};if(i instanceof xt){const c=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(c))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Rg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Pr)return function(h,p){return{mapValue:{fields:{[uE]:{stringValue:hE},[ed]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw p.wc("VectorValues must only contain numeric values.");return Tg(p.serializer,y)})}}}}}}(i,o);throw o.wc(`Unsupported field value: ${_d(i)}`)}(r,e)}function gw(r,e){const t={};return sE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(r,(i,o)=>{const c=$c(o,e.Vc(i));c!=null&&(t[i]=c)}),{mapValue:{fields:t}}}function yw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ut||r instanceof Mr||r instanceof Yn||r instanceof xt||r instanceof Gc||r instanceof Pr)}function Yg(r,e,t){if(!yw(t)||!nE(t)){const i=_d(t);throw i==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+i)}}function zp(r,e,t){if((e=mt(e))instanceof Md)return e._internalPath;if(typeof e=="string")return Xg(r,e);throw ld("Field path arguments must be of type string or ",r,!1,void 0,t)}const wk=new RegExp("[~\\*/\\[\\]]");function Xg(r,e,t){if(e.search(wk)>=0)throw ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Md(...e.split("."))._internalPath}catch{throw ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function ld(r,e,t,i,o){const c=i&&!i.isEmpty(),h=o!==void 0;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${i}`),h&&(g+=` in document ${o}`),g+=")"),new ve(re.INVALID_ARGUMENT,p+r+g)}function vw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,t,i,o,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Tk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ld("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Tk extends _w{data(){return super.data()}}function Ld(r,e){return typeof e=="string"?Xg(r,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ve(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wg{}class Zg extends Wg{}function Cc(r,e,...t){let i=[];e instanceof Wg&&i.push(e),i=i.concat(t),function(c){const h=c.filter(g=>g instanceof Jg).length,p=c.filter(g=>g instanceof Ud).length;if(h>1||h>0&&p>0)throw new ve(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)r=o._apply(r);return r}class Ud extends Zg{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Ud(e,t,i)}_apply(e){const t=this._parse(e);return bw(e._query,t),new js(e.firestore,e.converter,Cp(e._query,t))}_parse(e){const t=Pd(e.firestore);return function(c,h,p,g,y,b,T){let E;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new ve(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){xb(T,b);const A=[];for(const z of T)A.push(_b(g,c,z));E={arrayValue:{values:A}}}else E=_b(g,c,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||xb(T,b),E=Ek(p,h,T,b==="in"||b==="not-in");return kt.create(y,b,E)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function cd(r,e,t){const i=e,o=Ld("where",r);return Ud._create(o,i,t)}class Jg extends Wg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Jg(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let h=o;const p=c.getFlattenedFilters();for(const g of p)bw(h,g),h=Cp(h,g)}(e._query,t),new js(e.firestore,e.converter,Cp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ey extends Zg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ey(e,t)}_apply(e){const t=function(o,c,h){if(o.startAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(c,h)}(e._query,this._field,this._direction);return new js(e.firestore,e.converter,function(o,c){const h=o.explicitOrderBy.concat([c]);return new Fo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function jc(r,e="asc"){const t=e,i=Ld("orderBy",r);return ey._create(i,t)}class ty extends Zg{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new ty(e,t,i)}_apply(e){return new js(e.firestore,e.converter,nd(e._query,this._limit,this._limitType))}}function Ak(r){return ty._create("limit",r,"F")}function _b(r,e,t){if(typeof(t=mt(t))=="string"){if(t==="")throw new ve(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_E(e)&&t.indexOf("/")!==-1)throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ct.fromString(t));if(!we.isDocumentKey(i))throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Mx(r,new we(i))}if(t instanceof xt)return Mx(r,t._key);throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_d(t)}.`)}function xb(r,e){if(!Array.isArray(r)||r.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bw(r,e){const t=function(o,c){for(const h of o)for(const p of h.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Sk{convertValue(e,t="none"){switch(Ei(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(bi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Si(e,(o,c)=>{i[o]=this.convertValue(c,t)}),i}convertVectorValue(e){var t,i,o;const c=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[ed].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(h=>Nt(h.doubleValue));return new Pr(c)}convertGeoPoint(e){return new Mr(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ed(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Ec(e));default:return null}}convertTimestamp(e){const t=xi(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ct.fromString(e);Je(HE(i),9688,{name:e});const o=new wc(i.get(1),i.get(3)),c=new we(i.popFirst(5));return o.isEqual(t)||ws(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class uc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class da extends _w{constructor(e,t,i,o,c,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ld("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=da._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:Ot("string",da._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Lh extends da{data(e={}){return super.data(e)}}class fa{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new uc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Lh(this._firestore,this._userDataWriter,i.key,i,new uc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(p=>{const g=new Lh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new uc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||p.type!==3).map(p=>{const g=new Lh(o._firestore,o._userDataWriter,p.doc.key,p.doc,new uc(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return p.type!==0&&(y=h.indexOf(p.doc.key),h=h.delete(p.doc.key)),p.type!==1&&(h=h.add(p.doc),b=h.indexOf(p.doc.key)),{type:Nk(p.type),doc:g,oldIndex:y,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=vg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach(c=>{c._document!==null&&(t.push(c._document),i.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Nk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(r){r=wn(r,xt);const e=wn(r.firestore,As);return fk(Od(e),r._key).then(t=>ww(e,r,t))}fa._jsonSchemaVersion="firestore/querySnapshot/1.0",fa._jsonSchema={type:Ot("string",fa._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class ny extends Sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function op(r){r=wn(r,js);const e=wn(r.firestore,As),t=Od(e),i=new ny(e);return xw(r._query),mk(t,r._query).then(o=>new fa(e,i,r,o))}function Po(r,e,t){r=wn(r,xt);const i=wn(r.firestore,As),o=Ew(r.converter,e,t);return zd(i,[pw(Pd(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Xn.none())])}function nc(r,e,t,...i){r=wn(r,xt);const o=wn(r.firestore,As),c=Pd(o);let h;return h=typeof(e=mt(e))=="string"||e instanceof Md?bk(c,"updateDoc",r._key,e,t,i):xk(c,"updateDoc",r._key,e),zd(o,[h.toMutation(r._key,Xn.exists(!0))])}function bb(r){return zd(wn(r.firestore,As),[new Ag(r._key,Xn.none())])}function ud(r,e){const t=wn(r.firestore,As),i=xn(r),o=Ew(r.converter,e);return zd(t,[pw(Pd(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,Xn.exists(!1))]).then(()=>i)}function ry(r,...e){var t,i,o;r=mt(r);let c={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||vb(e[h])||(c=e[h++]);const p={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(vb(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let g,y,b;if(r instanceof xt)y=wn(r.firestore,As),b=wd(r._key.path),g={next:T=>{e[h]&&e[h](ww(y,r,T))},error:e[h+1],complete:e[h+2]};else{const T=wn(r,js);y=wn(T.firestore,As),b=T._query;const E=new ny(y);g={next:C=>{e[h]&&e[h](new fa(y,E,T,C))},error:e[h+1],complete:e[h+2]},xw(r._query)}return function(E,C,A,z){const V=new Gg(z),H=new qg(C,V,A);return E.asyncQueue.enqueueAndForget(async()=>Ug(await od(E),H)),()=>{V.Ou(),E.asyncQueue.enqueueAndForget(async()=>zg(await od(E),H))}}(Od(y),b,p,g)}function zd(r,e){return function(i,o){const c=new _s;return i.asyncQueue.enqueueAndForget(async()=>tk(await dk(i),o,c)),c.promise}(Od(r),e)}function ww(r,e,t){const i=t.docs.get(e._key),o=new ny(r);return new da(r,o,e._key,i,new uc(t.hasPendingWrites,t.fromCache),e.converter)}function To(){return new Kg("serverTimestamp")}function fs(r){return new Qg("increment",r)}(function(e,t=!0){(function(o){Bo=o})(wa),ga(new yi("firestore",(i,{instanceIdentifier:o,options:c})=>{const h=i.getProvider("app").getImmediate(),p=new As(new A4(i.getProvider("auth-internal")),new R4(h,i.getProvider("app-check-internal")),function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(y.options.projectId,b)}(h,o),h);return c=Object.assign({useFetchStreams:t},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),jr(bx,Ex,e),jr(bx,Ex,"esm2017")})();const Rk=r=>{if(!r)return null;const e=/^.*(?:youtu.be\/|v\/|e\/|embed\/|watch\?v=|youtube.com\/user\/[^\/]+\/|youtube.com\/\?v=)([^#\&\?]*).*/,t=r.match(e);return t&&t[1].length===11?t[1]:null};function wh(){const{moduleId:r,videoId:e}=tA(),t=Ns(),i=Ss(),[o,c]=M.useState(null),[h,p]=M.useState(null),[g,y]=M.useState(0),[b,T]=M.useState([]),[E,C]=M.useState(!0),[A,z]=M.useState(null),[V,H]=M.useState(!1),[K,ee]=M.useState(!0),[le,pe]=M.useState([]),[oe,j]=M.useState(""),[N,R]=M.useState(!1),D=M.useRef(null),P=Cs(),L=kd();M.useEffect(()=>{const se=zo(P,async _e=>{if(z(_e),_e)try{const k=await Mo(xn(L,"users",_e.uid));if(k.exists()){const J=k.data();H(J.isSubscriber||!1)}else H(!1)}catch(k){console.error("Erro ao verificar assinatura:",k),H(!1)}else H(!1);ee(!1)});return()=>se()},[P,L]),M.useEffect(()=>{const se=()=>{var J;console.log("Carregando dados do treino...");const k=i.pathname.split("/")[2];if(console.log("Training ID:",k),console.log("Module ID:",r),console.log("Video ID:",e),window.trainingsData&&window.trainingsData.sections){console.log("Dados de treinos carregados:",window.trainingsData);let de=null,he=null;for(const ce of window.trainingsData.sections)if(de=ce.trainings.find(U=>U.id===k),de){he=ce,console.log("Treino encontrado:",de);break}if(de&&de.modules&&de.modules.length>0){const ce=de.modules.map((fe,ge)=>{const me=fe.videoUrl?Rk(fe.videoUrl):fe.youtubeId;return{id:`modulo-${ge+1}`,title:fe.title,description:`${de.title} - ${fe.title}`,videoUrl:fe.videoUrl||(fe.youtubeId?`https://youtu.be/${fe.youtubeId}`:null),youtubeId:me,duration:"30-40 min",type:"Treino"}}).filter(fe=>fe.youtubeId);console.log("Vídeos processados:",ce),T(ce);let U=0;if(r&&(U=ce.findIndex(fe=>fe.id===r),U===-1&&(U=ce.findIndex(fe=>fe.youtubeId===e)),U===-1)){const fe=parseInt(r.replace("modulo-",""));!isNaN(fe)&&fe>0&&fe<=ce.length&&(U=fe-1)}console.log("Índice do vídeo atual:",U),y(U);const W=ce[U];W?(console.log("Vídeo atual:",W),c({title:W.title,youtubeId:W.youtubeId,description:W.description,duration:W.duration,level:de.level||"Todos os níveis",instructor:"Team HIIT",category:((J=de.categories)==null?void 0:J[0])||"Treino"})):(console.error("Vídeo atual não encontrado"),c(null)),p({...de,sectionTitle:(he==null?void 0:he.title)||"Treinos"})}else console.error("Treino não encontrado ou sem módulos:",k),p(null),c(null)}else console.error("Dados de treinos não carregados");C(!1)};if(window.trainingsData)se();else{console.log("Carregando script trainings.js...");const _e=document.createElement("script");_e.src="/trainings.js",_e.onload=()=>{console.log("Script trainings.js carregado com sucesso"),se()},_e.onerror=k=>{console.error("Erro ao carregar arquivo de treinos:",k),C(!1)},document.head.appendChild(_e)}},[r,e,i.pathname]),M.useEffect(()=>{if(o!=null&&o.youtubeId&&V){const se=Ir(L,"comments"),_e=Cc(se,jc("createdAt","desc")),k=ry(_e,J=>{const de=J.docs.map(he=>({id:he.id,...he.data()})).filter(he=>he.videoId===o.youtubeId);pe(de)});return()=>k()}},[o==null?void 0:o.youtubeId,L,V]);const I=(se,_e)=>{var k;if(!V){window.confirm(`Este conteúdo é exclusivo para assinantes do Team HIIT.

Gostaria de se tornar um assinante para acessar todo o conteúdo?`)&&window.open("https://wa.me/5511999999999?text=Olá! Gostaria de me tornar assinante do Team HIIT","_blank");return}console.log("Selecionando vídeo:",se,"índice:",_e),y(_e),c({title:se.title,youtubeId:se.youtubeId,description:se.description,duration:se.duration,level:(h==null?void 0:h.level)||"Todos os níveis",instructor:"Team HIIT",category:((k=h==null?void 0:h.categories)==null?void 0:k[0])||"Treino"}),t(`/video/${h.id}/${se.id}/${se.youtubeId}`,{replace:!0})},Ge=se=>{D.current&&D.current.scrollBy({left:se*300,behavior:"smooth"})},Te=async se=>{if(se.preventDefault(),!A){alert("Você precisa estar logado para comentar");return}if(!V){alert("Apenas assinantes podem comentar");return}if(oe.trim()){R(!0);try{await ud(Ir(L,"comments"),{videoId:o.youtubeId,text:oe.trim(),userId:A.uid,userName:A.displayName||A.email,userPhoto:A.photoURL||null,createdAt:To()}),j("")}catch(_e){console.error("Erro ao adicionar comentário:",_e),alert("Erro ao adicionar comentário. Tente novamente.")}finally{R(!1)}}},Q=se=>{if(!se)return"Agora";const _e=se.toDate(),J=Math.floor((new Date-_e)/(1e3*60));return J<1?"Agora":J<60?`${J}m atrás`:J<1440?`${Math.floor(J/60)}h atrás`:`${Math.floor(J/1440)}d atrás`},ue=()=>{window.open("https://wa.me/5511999999999?text=Olá! Gostaria de me tornar assinante do Team HIIT","_blank")};return E||K?f.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[f.jsx(or,{}),f.jsx("div",{className:"flex items-center justify-center h-96",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Carregando vídeo..."})]})})]}):!o||!h?(console.error("Dados não encontrados:",{videoData:o,training:h}),f.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[f.jsx(or,{}),f.jsx("div",{className:"container mx-auto px-6 py-8 pt-24",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Vídeo não encontrado"}),f.jsx("p",{className:"text-gray-400 mb-6",children:"Não foi possível carregar os dados do vídeo. Verifique se o link está correto."}),f.jsx("button",{onClick:()=>t("/dashboard"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg transition-colors",children:"Voltar ao Dashboard"})]})})]})):f.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[f.jsx(or,{}),f.jsxs("div",{className:"w-full relative",style:{height:"50vh"},children:[f.jsx("img",{src:`/${h.imageUrl}`,alt:h.title,className:"w-full h-full object-cover",onError:se=>{se.target.src="/CAPAS TEAM HIIT/COMECE AQUI.png"}}),f.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:f.jsxs("div",{className:"text-white text-center p-4",children:[f.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-2",children:h.title}),f.jsx("p",{className:"text-lg md:text-xl opacity-90 max-w-3xl mx-auto",children:h.description||`Programa completo de ${h.title}`}),f.jsxs("div",{className:"mt-4 flex justify-center space-x-4",children:[f.jsxs("span",{className:"bg-orange-500 text-white px-4 py-2 rounded-full text-sm",children:[f.jsx(Rr,{className:"w-4 h-4 inline mr-1"}),"Team HIIT"]}),f.jsxs("span",{className:"bg-gray-700 text-white px-4 py-2 rounded-full text-sm",children:[f.jsx(di,{className:"w-4 h-4 inline mr-1"}),h.duration]}),f.jsx("span",{className:"bg-blue-500 text-white px-4 py-2 rounded-full text-sm",children:h.sectionTitle}),V&&f.jsxs("span",{className:"bg-yellow-500 text-black px-4 py-2 rounded-full text-sm flex items-center",children:[f.jsx(wo,{className:"w-4 h-4 mr-1"}),"Assinante"]})]})]})})]}),f.jsxs("div",{className:"container mx-auto px-6 py-8",children:[f.jsx("div",{className:"mb-8",children:f.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center gap-2 text-gray-300 hover:text-white transition-colors",children:[f.jsx(Xp,{className:"w-5 h-5"}),"Voltar ao Dashboard"]})}),!V&&f.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl shadow-lg p-6 mb-8",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx(wo,{className:"w-8 h-8 mr-4"}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-xl font-bold",children:"Conteúdo Exclusivo para Assinantes"}),f.jsx("p",{className:"text-white/90",children:"Torne-se assinante para acessar todos os vídeos e treinos do Team HIIT!"})]})]}),f.jsx("button",{onClick:ue,className:"bg-white text-orange-500 hover:bg-gray-100 px-6 py-3 rounded-lg font-semibold transition-colors",children:"Assinar Agora"})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2",children:[f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[f.jsx("h3",{className:"text-xl font-bold p-6 border-b border-gray-700 text-white",children:"Vídeo do Treino"}),f.jsx("div",{className:"p-6",children:V?f.jsx("div",{className:"relative w-full",style:{paddingBottom:"56.25%"},children:f.jsx("iframe",{className:"absolute top-0 left-0 w-full h-full rounded-lg",src:`https://www.youtube.com/embed/${o.youtubeId}`,title:o.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}):f.jsx("div",{className:"relative w-full bg-gray-900 rounded-lg flex items-center justify-center",style:{paddingBottom:"56.25%"},children:f.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-white",children:[f.jsx(fp,{className:"w-16 h-16 mb-4 text-gray-400"}),f.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Conteúdo Exclusivo"}),f.jsx("p",{className:"text-gray-300 mb-6 text-center max-w-md",children:"Este vídeo é exclusivo para assinantes do Team HIIT. Torne-se um assinante para acessar todo o conteúdo!"}),f.jsxs("button",{onClick:ue,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-8 py-3 rounded-lg font-semibold transition-all transform hover:scale-105 flex items-center",children:[f.jsx(wo,{className:"w-5 h-5 mr-2"}),"Tornar-se Assinante"]})]})})})]}),V&&f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg mt-6",children:[f.jsx("div",{className:"p-6 border-b border-gray-700",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(pp,{className:"w-6 h-6 mr-3 text-gray-400"}),f.jsxs("h3",{className:"text-xl font-bold text-white",children:["Comentários (",le.length,")"]})]})}),A?f.jsx("div",{className:"p-6 border-b border-gray-700",children:f.jsxs("form",{onSubmit:Te,className:"flex space-x-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("img",{src:A.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(A.displayName||A.email)}&background=f97316&color=fff`,alt:A.displayName||A.email,className:"w-10 h-10 rounded-full"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("textarea",{value:oe,onChange:se=>j(se.target.value),placeholder:"Adicione um comentário...",className:"w-full p-3 border border-gray-600 bg-gray-700 text-white rounded-lg resize-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:"3"}),f.jsx("div",{className:"flex justify-end mt-3",children:f.jsxs("button",{type:"submit",disabled:!oe.trim()||N,className:"flex items-center bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",children:[f.jsx(Qb,{className:"w-4 h-4 mr-2"}),N?"Enviando...":"Comentar"]})})]})]})}):f.jsxs("div",{className:"p-6 border-b border-gray-700 text-center",children:[f.jsx("p",{className:"text-gray-400 mb-4",children:"Faça login para comentar"}),f.jsx("button",{onClick:()=>t("/auth"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Fazer Login"})]}),f.jsx("div",{className:"p-6",children:le.length>0?f.jsx("div",{className:"space-y-6",children:le.map(se=>f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("img",{src:se.userPhoto||`https://ui-avatars.com/api/?name=${encodeURIComponent(se.userName)}&background=f97316&color=fff`,alt:se.userName,className:"w-10 h-10 rounded-full"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[f.jsx("span",{className:"font-semibold text-white",children:se.userName}),f.jsx("span",{className:"text-sm text-gray-400",children:Q(se.createdAt)})]}),f.jsx("p",{className:"text-gray-300 leading-relaxed",children:se.text})]})]},se.id))}):f.jsxs("div",{className:"text-center py-8",children:[f.jsx(pp,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Seja o primeiro a comentar!"})]})})]})]}),f.jsxs("div",{className:"lg:col-span-1",children:[f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-6 text-white",children:"PRÓXIMOS TREINOS"}),f.jsxs("div",{className:"relative",children:[b.length>3&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>Ge(-1),className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-1 rounded-full transition-all",children:f.jsx(mS,{className:"w-4 h-4"})}),f.jsx("button",{onClick:()=>Ge(1),className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-black bg-opacity-50 hover:bg-opacity-75 text-white p-1 rounded-full transition-all",children:f.jsx(Gb,{className:"w-4 h-4"})})]}),f.jsx("div",{ref:D,className:"space-y-3 max-h-96 overflow-y-auto scrollbar-hide",children:b.map((se,_e)=>{const k=se.youtubeId?`https://img.youtube.com/vi/${se.youtubeId}/mqdefault.jpg`:null,J=_e===g;return f.jsxs("div",{className:`flex items-center p-3 rounded-lg cursor-pointer transition-all relative ${J?"bg-orange-500/20 border border-orange-500":"bg-gray-700 hover:bg-gray-600"}`,onClick:()=>I(se,_e),children:[!V&&f.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center z-10 rounded-lg",children:f.jsx(fp,{className:"w-4 h-4 text-white"})}),f.jsxs("div",{className:"flex-shrink-0 relative w-16 h-12 mr-3",children:[k?f.jsx("img",{src:k,alt:se.title,className:"w-full h-full object-cover rounded",onError:de=>{de.target.style.display="none",de.target.nextSibling.style.display="flex"}}):null,f.jsx("div",{className:"w-full h-full bg-gray-600 flex items-center justify-center rounded",style:{display:k?"none":"flex"},children:f.jsx(B_,{className:"w-4 h-4 text-white"})}),J&&f.jsx("div",{className:"absolute inset-0 bg-orange-500/30 flex items-center justify-center rounded",children:f.jsx(B_,{className:"w-3 h-3 text-white"})})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:`font-semibold text-sm truncate ${J?"text-orange-400":"text-white"}`,children:se.title}),f.jsxs("div",{className:"flex items-center mt-1",children:[f.jsx(di,{className:"w-3 h-3 text-gray-400 mr-1"}),f.jsx("span",{className:"text-gray-400 text-xs",children:se.duration})]})]})]},se.id)})})]})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-6 text-white",children:"Informações do Treino"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[f.jsxs("div",{className:"flex items-center text-gray-400",children:[f.jsx(di,{className:"w-5 h-5 mr-3"}),f.jsx("span",{children:"Duração"})]}),f.jsx("span",{className:"font-semibold text-white",children:o.duration})]}),f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[f.jsxs("div",{className:"flex items-center text-gray-400",children:[f.jsx(Rh,{className:"w-5 h-5 mr-3"}),f.jsx("span",{children:"Dificuldade"})]}),f.jsx("span",{className:"font-semibold text-white",children:o.level})]}),f.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-700",children:[f.jsxs("div",{className:"flex items-center text-gray-400",children:[f.jsx(Rr,{className:"w-5 h-5 mr-3"}),f.jsx("span",{children:"Categoria"})]}),f.jsx("span",{className:"font-semibold text-white",children:o.category})]}),f.jsxs("div",{className:"flex items-center justify-between py-3",children:[f.jsxs("div",{className:"flex items-center text-gray-400",children:[f.jsx(Rh,{className:"w-5 h-5 mr-3"}),f.jsx("span",{children:"Avaliação"})]}),f.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((se,_e)=>f.jsx(Rh,{className:"w-4 h-4 text-yellow-400 fill-current"},_e)),f.jsx("span",{className:"ml-2 text-sm text-gray-400",children:"(4.8)"})]})]})]}),V&&f.jsxs("div",{className:"flex items-center space-x-4 mt-6",children:[f.jsxs("button",{className:"flex items-center bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg transition-colors text-white",children:[f.jsx(Fb,{className:"w-5 h-5 mr-2"}),"Salvar"]}),f.jsxs("button",{className:"flex items-center bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded-lg transition-colors text-white",children:[f.jsx(Zp,{className:"w-5 h-5 mr-2"}),"Compartilhar"]})]})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mt-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-4 text-white",children:"Equipamentos"}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),f.jsx("span",{className:"text-gray-300",children:"Peso corporal"})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-3"}),f.jsx("span",{className:"text-gray-300",children:"Tapete de exercício"})]})]})]}),!V&&f.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-xl shadow-lg p-6 mt-6",children:f.jsxs("div",{className:"text-center",children:[f.jsx(wo,{className:"w-12 h-12 mx-auto mb-4"}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:"Torne-se Assinante"}),f.jsx("p",{className:"text-white/90 mb-4",children:"Acesse todos os treinos, comentários e conteúdo exclusivo do Team HIIT!"}),f.jsx("button",{onClick:ue,className:"bg-white text-orange-500 hover:bg-gray-100 px-6 py-3 rounded-lg font-semibold transition-colors w-full",children:"Assinar Agora"})]})})]})]})]})]})}var Ik="firebase",Ck="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(Ik,Ck,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firebasestorage.googleapis.com",Aw="storageBucket",jk=2*60*1e3,Dk=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et extends Lr{constructor(e,t,i=0){super(lp(e),`Firebase Storage: ${t} (${lp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function lp(r){return"storage/"+r}function sy(){const r="An unknown error occurred, please check the error payload for server response.";return new Et(bt.UNKNOWN,r)}function kk(r){return new Et(bt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function Ok(r){return new Et(bt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Mk(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Et(bt.UNAUTHENTICATED,r)}function Pk(){return new Et(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Vk(r){return new Et(bt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function Lk(){return new Et(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Uk(){return new Et(bt.CANCELED,"User canceled the upload/download.")}function zk(r){return new Et(bt.INVALID_URL,"Invalid URL '"+r+"'.")}function Bk(r){return new Et(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function qk(){return new Et(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Aw+"' property when initializing the app?")}function Hk(){return new Et(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Fk(){return new Et(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Gk(r){return new Et(bt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Bp(r){return new Et(bt.INVALID_ARGUMENT,r)}function Sw(){return new Et(bt.APP_DELETED,"The Firebase app was deleted.")}function $k(r){return new Et(bt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function yc(r,e){return new Et(bt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function rc(r){throw new Et(bt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Mn.makeFromUrl(e,t)}catch{return new Mn(e,"")}if(i.path==="")return i;throw Bk(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function c(le){le.path.charAt(le.path.length-1)==="/"&&(le.path_=le.path_.slice(0,-1))}const h="(/(.*))?$",p=new RegExp("^gs://"+o+h,"i"),g={bucket:1,path:3};function y(le){le.path_=decodeURIComponent(le.path)}const b="v[A-Za-z0-9_]+",T=t.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",C=new RegExp(`^https?://${T}/${b}/b/${o}/o${E}`,"i"),A={bucket:1,path:3},z=t===Tw?"(?:storage.googleapis.com|storage.cloud.google.com)":t,V="([^?#]*)",H=new RegExp(`^https?://${z}/${o}/${V}`,"i"),ee=[{regex:p,indices:g,postModify:c},{regex:C,indices:A,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let le=0;le<ee.length;le++){const pe=ee[le],oe=pe.regex.exec(e);if(oe){const j=oe[pe.indices.bucket];let N=oe[pe.indices.path];N||(N=""),i=new Mn(j,N),pe.postModify(i);break}}if(i==null)throw zk(e);return i}}class Kk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(r,e,t){let i=1,o=null,c=null,h=!1,p=0;function g(){return p===2}let y=!1;function b(...V){y||(y=!0,e.apply(null,V))}function T(V){o=setTimeout(()=>{o=null,r(C,g())},V)}function E(){c&&clearTimeout(c)}function C(V,...H){if(y){E();return}if(V){E(),b.call(null,V,...H);return}if(g()||h){E(),b.call(null,V,...H);return}i<64&&(i*=2);let ee;p===1?(p=2,ee=0):ee=(i+Math.random())*1e3,T(ee)}let A=!1;function z(V){A||(A=!0,E(),!y&&(o!==null?(V||(p=2),clearTimeout(o),T(0)):V||(p=1)))}return T(0),c=setTimeout(()=>{h=!0,z(!0)},t),z}function Yk(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(r){return r!==void 0}function Wk(r){return typeof r=="object"&&!Array.isArray(r)}function iy(r){return typeof r=="string"||r instanceof String}function Eb(r){return ay()&&r instanceof Blob}function ay(){return typeof Blob<"u"}function wb(r,e,t,i){if(i<e)throw Bp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(i>t)throw Bp(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(r,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${r}`}function Nw(r){const e=encodeURIComponent;let t="?";for(const i in r)if(r.hasOwnProperty(i)){const o=e(i)+"="+e(r[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var ma;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ma||(ma={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,c=e.indexOf(r)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e,t,i,o,c,h,p,g,y,b,T,E=!0,C=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=p,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=T,this.retry=E,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,z)=>{this.resolve_=A,this.reject_=z,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Th(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const h=p=>{const g=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const p=c.getErrorCode()===ma.NO_ERROR,g=c.getStatus();if(!p||Zk(g,this.additionalRetryCodes_)&&this.retry){const b=c.getErrorCode()===ma.ABORT;i(!1,new Th(!1,null,b));return}const y=this.successCodes_.indexOf(g)!==-1;i(!0,new Th(y,c))})},t=(i,o)=>{const c=this.resolve_,h=this.reject_,p=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(p,p.getResponse());Xk(g)?c(g):c()}catch(g){h(g)}else if(p!==null){const g=sy();g.serverResponse=p.getErrorText(),this.errorCallback_?h(this.errorCallback_(p,g)):h(g)}else if(o.canceled){const g=this.appDelete_?Sw():Uk();h(g)}else{const g=Lk();h(g)}};this.canceled_?t(!1,new Th(!1,null,!0)):this.backoffId_=Qk(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Yk(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Th{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function e6(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function t6(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function n6(r,e){e&&(r["X-Firebase-GMPID"]=e)}function r6(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function s6(r,e,t,i,o,c,h=!0,p=!1){const g=Nw(r.urlParams),y=r.url+g,b=Object.assign({},r.headers);return n6(b,e),e6(b,t),t6(b,c),r6(b,i),new Jk(y,r.method,b,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function a6(...r){const e=i6();if(e!==void 0){const t=new e;for(let i=0;i<r.length;i++)t.append(r[i]);return t.getBlob()}else{if(ay())return new Blob(r);throw new Et(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function o6(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(r){if(typeof atob>"u")throw Gk("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cp{constructor(e,t){this.data=e,this.contentType=t||null}}function c6(r,e){switch(r){case Cr.RAW:return new cp(Rw(e));case Cr.BASE64:case Cr.BASE64URL:return new cp(Iw(r,e));case Cr.DATA_URL:return new cp(h6(e),d6(e))}throw sy()}function Rw(r){const e=[];for(let t=0;t<r.length;t++){let i=r.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=i,h=r.charCodeAt(++t);i=65536|(c&1023)<<10|h&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function u6(r){let e;try{e=decodeURIComponent(r)}catch{throw yc(Cr.DATA_URL,"Malformed data URL.")}return Rw(e)}function Iw(r,e){switch(r){case Cr.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw yc(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Cr.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw yc(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=l6(e)}catch(o){throw o.message.includes("polyfill")?o:yc(r,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class Cw{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw yc(Cr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=f6(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function h6(r){const e=new Cw(r);return e.base64?Iw(Cr.BASE64,e.rest):u6(e.rest)}function d6(r){return new Cw(r).contentType}function f6(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,t){let i=0,o="";Eb(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Eb(this.data_)){const i=this.data_,o=o6(i,e,t);return o===null?null:new ui(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new ui(i,!0)}}static getBlob(...e){if(ay()){const t=e.map(i=>i instanceof ui?i.data_:i);return new ui(a6.apply(null,t))}else{const t=e.map(h=>iy(h)?c6(Cr.RAW,h).data:h.data_);let i=0;t.forEach(h=>{i+=h.byteLength});const o=new Uint8Array(i);let c=0;return t.forEach(h=>{for(let p=0;p<h.length;p++)o[c++]=h[p]}),new ui(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r){let e;try{e=JSON.parse(r)}catch{return null}return Wk(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function p6(r,e){const t=e.split("/").filter(i=>i.length>0).join("/");return r.length===0?t:r+"/"+t}function Dw(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(r,e){return e}class pn{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||g6}}let Ah=null;function y6(r){return!iy(r)||r.length<2?r:Dw(r)}function kw(){if(Ah)return Ah;const r=[];r.push(new pn("bucket")),r.push(new pn("generation")),r.push(new pn("metageneration")),r.push(new pn("name","fullPath",!0));function e(c,h){return y6(h)}const t=new pn("name");t.xform=e,r.push(t);function i(c,h){return h!==void 0?Number(h):h}const o=new pn("size");return o.xform=i,r.push(o),r.push(new pn("timeCreated")),r.push(new pn("updated")),r.push(new pn("md5Hash",null,!0)),r.push(new pn("cacheControl",null,!0)),r.push(new pn("contentDisposition",null,!0)),r.push(new pn("contentEncoding",null,!0)),r.push(new pn("contentLanguage",null,!0)),r.push(new pn("contentType",null,!0)),r.push(new pn("metadata","customMetadata",!0)),Ah=r,Ah}function v6(r,e){function t(){const i=r.bucket,o=r.fullPath,c=new Mn(i,o);return e._makeStorageReference(c)}Object.defineProperty(r,"ref",{get:t})}function _6(r,e,t){const i={};i.type="file";const o=t.length;for(let c=0;c<o;c++){const h=t[c];i[h.local]=h.xform(i,e[h.server])}return v6(i,r),i}function Ow(r,e,t){const i=jw(e);return i===null?null:_6(r,i,t)}function x6(r,e,t,i){const o=jw(e);if(o===null||!iy(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const h=encodeURIComponent;return c.split(",").map(y=>{const b=r.bucket,T=r.fullPath,E="/b/"+h(b)+"/o/"+h(T),C=oy(E,t,i),A=Nw({alt:"media",token:y});return C+A})[0]}function b6(r,e){const t={},i=e.length;for(let o=0;o<i;o++){const c=e[o];c.writable&&(t[c.server]=r[c.local])}return JSON.stringify(t)}class Mw{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(r){if(!r)throw sy()}function E6(r,e){function t(i,o){const c=Ow(r,o,e);return Pw(c!==null),c}return t}function w6(r,e){function t(i,o){const c=Ow(r,o,e);return Pw(c!==null),x6(c,o,r.host,r._protocol)}return t}function Vw(r){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Pk():o=Mk():t.getStatus()===402?o=Ok(r.bucket):t.getStatus()===403?o=Vk(r.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function T6(r){const e=Vw(r);function t(i,o){let c=e(i,o);return i.getStatus()===404&&(c=kk(r.path)),c.serverResponse=o.serverResponse,c}return t}function A6(r,e,t){const i=e.fullServerUrl(),o=oy(i,r.host,r._protocol),c="GET",h=r.maxOperationRetryTime,p=new Mw(o,c,w6(r,t),h);return p.errorHandler=T6(e),p}function S6(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function N6(r,e,t){const i=Object.assign({},t);return i.fullPath=r.path,i.size=e.size(),i.contentType||(i.contentType=S6(null,e)),i}function R6(r,e,t,i,o){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function p(){let ee="";for(let le=0;le<2;le++)ee=ee+Math.random().toString().slice(2);return ee}const g=p();h["Content-Type"]="multipart/related; boundary="+g;const y=N6(e,i,o),b=b6(y,t),T="--"+g+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+g+`\r
Content-Type: `+y.contentType+`\r
\r
`,E=`\r
--`+g+"--",C=ui.getBlob(T,i,E);if(C===null)throw Hk();const A={name:y.fullPath},z=oy(c,r.host,r._protocol),V="POST",H=r.maxUploadRetryTime,K=new Mw(z,V,E6(r,t),H);return K.urlParams=A,K.headers=h,K.body=C.uploadData(),K.errorHandler=Vw(e),K}class I6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ma.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ma.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ma.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o,c){if(this.sent_)throw rc("cannot .send() more than once");if(Ai(e)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),c!==void 0)for(const h in c)c.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,c[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw rc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw rc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw rc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw rc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class C6 extends I6{initXhr(){this.xhr_.responseType="text"}}function Lw(){return new C6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,t){this._service=e,t instanceof Mn?this._location=t:this._location=Mn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ba(e,t)}get root(){const e=new Mn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Dw(this._location.path)}get storage(){return this._service}get parent(){const e=m6(this._location.path);if(e===null)return null;const t=new Mn(this._location.bucket,e);return new ba(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw $k(e)}}function j6(r,e,t){r._throwIfRoot("uploadBytes");const i=R6(r.storage,r._location,kw(),new ui(e,!0),t);return r.storage.makeRequestWithTokens(i,Lw).then(o=>({metadata:o,ref:r}))}function D6(r){r._throwIfRoot("getDownloadURL");const e=A6(r.storage,r._location,kw());return r.storage.makeRequestWithTokens(e,Lw).then(t=>{if(t===null)throw Fk();return t})}function k6(r,e){const t=p6(r._location.path,e),i=new Mn(r._location.bucket,t);return new ba(r.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(r){return/^[A-Za-z]+:\/\//.test(r)}function M6(r,e){return new ba(r,e)}function Uw(r,e){if(r instanceof ly){const t=r;if(t._bucket==null)throw qk();const i=new ba(t,t._bucket);return e!=null?Uw(i,e):i}else return e!==void 0?k6(r,e):r}function P6(r,e){if(e&&O6(e)){if(r instanceof ly)return M6(r,e);throw Bp("To use ref(service, url), the first argument must be a Storage instance.")}else return Uw(r,e)}function Tb(r,e){const t=e==null?void 0:e[Aw];return t==null?null:Mn.makeFromBucketSpec(t,r)}function V6(r,e,t,i={}){r.host=`${e}:${t}`;const o=Ai(e);o&&(tg(`https://${r.host}/b`),ng("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:c}=i;c&&(r._overrideAuthToken=typeof c=="string"?c:r1(c,r.app.options.projectId))}class ly{constructor(e,t,i,o,c,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=h,this._bucket=null,this._host=Tw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jk,this._maxUploadRetryTime=Dk,this._requests=new Set,o!=null?this._bucket=Mn.makeFromBucketSpec(o,this._host):this._bucket=Tb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Mn.makeFromBucketSpec(this._url,e):this._bucket=Tb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ba(this,e)}_makeRequest(e,t,i,o,c=!0){if(this._deleted)return new Kk(Sw());{const h=s6(e,this._appId,i,o,t,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const Ab="@firebase/storage",Sb="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="storage";function Bw(r,e,t){return r=mt(r),j6(r,e,t)}function qw(r){return r=mt(r),D6(r)}function Hw(r,e){return r=mt(r),P6(r,e)}function Fw(r=ig(),e){r=mt(r);const i=pd(r,zw).getImmediate({identifier:e}),o=e1("storage");return o&&L6(i,...o),i}function L6(r,e,t,i={}){V6(r,e,t,i)}function U6(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),i=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new ly(t,i,o,e,wa)}function z6(){ga(new yi(zw,U6,"PUBLIC").setMultipleInstances(!0)),jr(Ab,Sb,""),jr(Ab,Sb,"esm2017")}z6();const B6={apiKey:"AIzaSyA0ZaV9EJl1z4hT0wd5EL-7RqG2slAE5Kg",authDomain:"comunidade-team-hiit.firebaseapp.com",projectId:"comunidade-team-hiit",storageBucket:"comunidade-team-hiit.firebasestorage.app",messagingSenderId:"106629704358",appId:"1:106629704358:web:7151af4773e2e4c3822267",measurementId:"G-9GDD249KT4"},cy=a1(B6),Jt=kd(cy),q6=Cs(cy),H6=Fw(cy);function F6(){const[r,e]=M.useState("feed"),[t,i]=M.useState(""),[o,c]=M.useState([]),[h,p]=M.useState(!0),[g,y]=M.useState({}),[b,T]=M.useState(null),[E,C]=M.useState({}),[A,z]=M.useState(null),[V,H]=M.useState({}),[K,ee]=M.useState([]),[le,pe]=M.useState(!1),[oe,j]=M.useState([]),[N,R]=M.useState(!1),D=M.useRef(null),P=["👍","❤️","😂","🔥","😢","🙏","💪","🎯","⚡","🏆"],L=Cs();M.useEffect(()=>zo(L,W=>{z(W),W&&Ge(W.uid)}),[L]);const I=(U,W=1200,fe=.8)=>new Promise((ge,me)=>{try{const Ae=document.createElement("canvas"),Ie=Ae.getContext("2d"),Me=new z_;Me.onload=()=>{try{let{width:Ue,height:wt}=Me;Ue>W&&(wt=wt*W/Ue,Ue=W),Ae.width=Ue,Ae.height=wt,Ie.drawImage(Me,0,0,Ue,wt),Ae.toBlob(Pn=>{ge(Pn?{blob:Pn,originalSize:U.size,compressedSize:Pn.size,compressionRatio:Math.round((1-Pn.size/U.size)*100)}:{blob:U,originalSize:U.size,compressedSize:U.size,compressionRatio:0})},"image/jpeg",fe)}catch(Ue){console.warn("Erro na compressão, usando arquivo original:",Ue),ge({blob:U,originalSize:U.size,compressedSize:U.size,compressionRatio:0})}},Me.onerror=()=>{console.warn("Erro ao carregar imagem, usando arquivo original"),ge({blob:U,originalSize:U.size,compressedSize:U.size,compressionRatio:0})},Me.src=URL.createObjectURL(U)}catch(Ae){console.warn("Erro geral na compressão, usando arquivo original:",Ae),ge({blob:U,originalSize:U.size,compressedSize:U.size,compressionRatio:0})}}),Ge=async U=>{try{const W=Ir(Jt,"userInteractions",U,"posts"),fe=await op(W),ge={};fe.docs.forEach(me=>{ge[me.id]=me.data()}),H(ge)}catch(W){console.error("Erro ao buscar interações do usuário:",W)}},Te=async()=>{p(!0);try{const U=Ir(Jt,"posts"),W=Cc(U,jc("timestamp","desc")),fe=await op(W),ge=await Promise.all(fe.docs.map(async me=>{const Ae={id:me.id,...me.data()};let Ie="";if(Ae.authorId){const zr=xn(Jt,"users",Ae.authorId),Mt=await Mo(zr);Mt.exists()&&(Ie=Mt.data().photoURL||"")}const Me=Ir(Jt,"posts",Ae.id,"comments"),Ue=Cc(Me,jc("timestamp","asc")),wt=await op(Ue),Pn=await Promise.all(wt.docs.map(async zr=>{const Mt={id:zr.id,...zr.data()};let Sa="";if(Mt.authorId){const Ri=xn(Jt,"users",Mt.authorId),Br=await Mo(Ri);Br.exists()&&(Sa=Br.data().photoURL||"")}return{...Mt,authorPhotoURL:Sa}}));return{...Ae,authorPhotoURL:Ie,commentsList:Pn}}));c(ge)}catch(U){console.error("Erro ao buscar posts:",U)}p(!1)},Q=(U,W)=>{c(fe=>fe.map(ge=>ge.id===U?{...ge,...W}:ge))};M.useEffect(()=>{Te()},[]);const ue=async U=>{const W=Array.from(U.target.files);if(W.length+K.length>4){alert("Você pode selecionar no máximo 4 imagens por post.");return}R(!0);try{const fe=[],ge=[];for(const me of W){if(me.size>50*1024*1024){alert(`A imagem ${me.name} é muito grande. Máximo 50MB por imagem.`);continue}if(!me.type.startsWith("image/")){alert(`${me.name} não é um arquivo de imagem válido.`);continue}try{const Ae=await I(me);let Ie=Ae;if(Ae.compressedSize>5*1024*1024&&(Ie=await I(me,800,.6),Ie.compressedSize>5*1024*1024&&(Ie=await I(me,600,.5))),Ie.compressedSize>5*1024*1024){alert(`${me.name} não pôde ser comprimida suficientemente. Tente uma imagem menor.`);continue}const Me=new File([Ie.blob],me.name,{type:"image/jpeg",lastModified:Date.now()});fe.push(Me);const Ue=URL.createObjectURL(Ie.blob);ge.push({file:Me,url:Ue,id:Date.now()+Math.random(),originalSize:me.size,compressedSize:Ie.compressedSize,compressionRatio:Ie.compressionRatio})}catch(Ae){if(console.warn(`Erro na compressão de ${me.name}:`,Ae),me.size<=5*1024*1024){fe.push(me);const Ie=URL.createObjectURL(me);ge.push({file:me,url:Ie,id:Date.now()+Math.random(),originalSize:me.size,compressedSize:me.size,compressionRatio:0})}else alert(`${me.name} é muito grande e não pôde ser processada.`)}}ee(me=>[...me,...fe]),j(me=>[...me,...ge])}catch(fe){console.error("Erro ao processar imagens:",fe),alert("Erro ao processar imagens. Tente novamente.")}finally{R(!1)}},se=U=>{var W;(W=oe[U])!=null&&W.url&&URL.revokeObjectURL(oe[U].url),ee(fe=>fe.filter((ge,me)=>me!==U)),j(fe=>fe.filter((ge,me)=>me!==U))},_e=async U=>{const W=U.map(async(fe,ge)=>{const me=Date.now(),Ae=Hw(H6,`community/${A.uid}/${me}_${ge}_${fe.name}`),Ie=await Bw(Ae,fe);return await qw(Ie.ref)});return await Promise.all(W)},k=async()=>{if(t.trim()===""&&K.length===0){alert("Adicione um texto ou pelo menos uma imagem para publicar.");return}if(!A){alert("Você precisa estar logado para fazer uma postagem.");return}pe(!0);try{let U=[];K.length>0&&(U=await _e(K)),await ud(Ir(Jt,"posts"),{content:t,author:A.displayName||A.email,authorId:A.uid,authorPhotoURL:A.photoURL||"",timestamp:To(),likes:0,comments:0,reactions:{},images:U,type:U.length>0?"photo":"text"}),i(""),ee([]),oe.forEach(W=>{W.url&&URL.revokeObjectURL(W.url)}),j([]),Te()}catch(U){console.error("Erro ao adicionar documento: ",U),alert("Erro ao publicar post. Tente novamente.")}pe(!1)},J=async U=>{if(!A){alert("Você precisa estar logado para curtir uma postagem.");return}const W=V[U],fe=W==null?void 0:W.liked;try{const ge=xn(Jt,"posts",U),me=xn(Jt,"userInteractions",A.uid,"posts",U);if(fe){await nc(ge,{likes:fs(-1)}),await bb(me),H(Ie=>{const Me={...Ie};return delete Me[U],Me});const Ae=o.find(Ie=>Ie.id===U);Q(U,{likes:Ae.likes-1})}else{const Ae=W!=null&&W.reaction?0:1;await nc(ge,{likes:fs(Ae),...(W==null?void 0:W.reaction)&&{[`reactions.${W.reaction}`]:fs(-1)}}),await Po(me,{liked:!0,timestamp:To()}),H(Ue=>({...Ue,[U]:{liked:!0,timestamp:new Date}}));const Ie=o.find(Ue=>Ue.id===U),Me={likes:Ie.likes+Ae};W!=null&&W.reaction&&(Me.reactions={...Ie.reactions,[W.reaction]:(Ie.reactions[W.reaction]||1)-1}),Q(U,Me)}}catch(ge){console.error("Erro ao curtir post: ",ge)}},de=async U=>{const W=g[U];if(!(!W||W.trim()==="")){if(!A){alert("Você precisa estar logado para comentar uma postagem.");return}try{const fe=xn(Jt,"posts",U),ge={content:W,author:A.displayName||A.email,authorId:A.uid,authorPhotoURL:A.photoURL||"",timestamp:To()};await ud(Ir(Jt,"posts",U,"comments"),ge),await nc(fe,{comments:fs(1)});const me=o.find(Ie=>Ie.id===U),Ae={...ge,id:Date.now().toString(),timestamp:new Date};Q(U,{comments:me.comments+1,commentsList:[...me.commentsList||[],Ae]}),y(Ie=>({...Ie,[U]:""}))}catch(fe){console.error("Erro ao comentar post: ",fe)}}},he=async(U,W)=>{if(!A){alert("Você precisa estar logado para reagir a uma postagem.");return}const fe=V[U],ge=fe==null?void 0:fe.reaction;try{const me=xn(Jt,"posts",U),Ae=xn(Jt,"userInteractions",A.uid,"posts",U);if(ge===W){await nc(me,{[`reactions.${W}`]:fs(-1),...(fe==null?void 0:fe.liked)&&{likes:fs(-1)}}),await bb(Ae),H(Ue=>{const wt={...Ue};return delete wt[U],wt});const Ie=o.find(Ue=>Ue.id===U),Me={reactions:{...Ie.reactions,[W]:(Ie.reactions[W]||1)-1}};fe!=null&&fe.liked&&(Me.likes=Ie.likes-1),Q(U,Me)}else{const Ie={[`reactions.${W}`]:fs(1)};ge&&(Ie[`reactions.${ge}`]=fs(-1)),fe!=null&&fe.liked&&(Ie.likes=fs(-1)),await nc(me,Ie),await Po(Ae,{reaction:W,timestamp:To()}),H(wt=>({...wt,[U]:{reaction:W,timestamp:new Date}}));const Me=o.find(wt=>wt.id===U),Ue={reactions:{...Me.reactions,[W]:(Me.reactions[W]||0)+1}};ge&&(Ue.reactions[ge]=(Me.reactions[ge]||1)-1),fe!=null&&fe.liked&&(Ue.likes=Me.likes-1),Q(U,Ue)}T(null)}catch(me){console.error("Erro ao reagir ao post: ",me)}},ce=U=>{if(U===0)return"0 Bytes";const W=1024,fe=["Bytes","KB","MB","GB"],ge=Math.floor(Math.log(U)/Math.log(W));return parseFloat((U/Math.pow(W,ge)).toFixed(2))+" "+fe[ge]};return f.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[f.jsx(or,{}),f.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-8 pt-20 max-w-2xl",children:[f.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-8 text-center",children:"Comunidade Team HIIT"}),f.jsxs("div",{className:"flex border-b border-gray-700 mb-8",children:[f.jsx("button",{className:`px-4 md:px-6 py-3 text-sm md:text-lg font-medium ${r==="feed"?"border-b-2 border-red-500 text-red-500":"text-gray-400 hover:text-white"}`,onClick:()=>e("feed"),children:"Feed"}),f.jsx("button",{className:`px-4 md:px-6 py-3 text-sm md:text-lg font-medium ${r==="announcements"?"border-b-2 border-red-500 text-red-500":"text-gray-400 hover:text-white"}`,onClick:()=>e("announcements"),children:"Anúncios"})]}),r==="feed"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-4 md:p-6",children:[f.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[A!=null&&A.photoURL?f.jsx("img",{src:A.photoURL,alt:"Your Avatar",className:"w-10 h-10 rounded-full object-cover"}):f.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center text-gray-400",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),f.jsx("div",{className:"flex-1",children:f.jsx("textarea",{className:"w-full p-3 rounded-lg bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",rows:"3",placeholder:A?"Compartilhe seus resultados, dicas ou motivação...":"Faça login para postar...",value:t,onChange:U=>i(U.target.value),disabled:!A})})]}),oe.length>0&&f.jsxs("div",{className:"mb-4",children:[f.jsx("div",{className:`grid gap-2 ${oe.length===1?"grid-cols-1":(oe.length===2,"grid-cols-2")}`,children:oe.map((U,W)=>f.jsxs("div",{className:"relative group",children:[f.jsx("img",{src:U.url,alt:`Preview ${W+1}`,className:"w-full object-contain rounded-lg bg-gray-900",style:{maxHeight:"300px",height:"auto"}}),f.jsx("button",{onClick:()=>se(W),className:"absolute top-2 right-2 bg-red-600 hover:bg-red-700 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity",children:f.jsx(Jp,{className:"w-4 h-4"})}),U.compressionRatio>0&&f.jsxs("div",{className:"absolute bottom-2 left-2 bg-green-600 bg-opacity-90 text-white text-xs px-2 py-1 rounded flex items-center space-x-1",children:[f.jsx("span",{children:"📉"}),f.jsxs("span",{children:["-",U.compressionRatio,"%"]})]}),f.jsx("div",{className:"absolute bottom-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded",children:ce(U.compressedSize)})]},U.id))}),oe.some(U=>U.compressionRatio>0)&&f.jsxs("div",{className:"mt-3 p-3 bg-green-900 bg-opacity-30 border border-green-600 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-2 text-green-400 text-sm",children:[f.jsx("span",{children:"✅"}),f.jsx("span",{children:"Imagens otimizadas automaticamente!"})]}),f.jsxs("div",{className:"text-xs text-green-300 mt-1",children:["Economia total: ",Math.round(oe.reduce((U,W)=>U+(W.originalSize-W.compressedSize),0)/1024)," KB"]})]})]}),N&&f.jsxs("div",{className:"mb-4 flex items-center justify-center p-4 bg-blue-900 bg-opacity-30 border border-blue-600 rounded-lg",children:[f.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-400 mr-3"}),f.jsxs("div",{className:"text-blue-400",children:[f.jsx("div",{className:"font-medium",children:"Otimizando imagens..."}),f.jsx("div",{className:"text-xs text-blue-300",children:"Reduzindo tamanho para melhor performance"})]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("input",{type:"file",ref:D,onChange:ue,multiple:!0,accept:"image/*",className:"hidden"}),f.jsxs("button",{onClick:()=>{var U;return(U=D.current)==null?void 0:U.click()},disabled:!A||K.length>=4||N,className:`flex items-center space-x-2 px-3 py-2 rounded-lg transition-colors ${A&&K.length<4&&!N?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-600 text-gray-500 cursor-not-allowed"}`,children:[f.jsx(zh,{className:"w-4 h-4"}),f.jsx("span",{className:"text-sm",children:"Foto"})]}),K.length>0&&f.jsxs("span",{className:"text-xs text-gray-400",children:[K.length,"/4 imagens"]})]}),f.jsx("button",{className:`font-bold py-2 px-6 rounded-lg flex items-center space-x-2 transition-colors duration-200 ${A&&!le&&!N?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-600 cursor-not-allowed text-gray-400"}`,onClick:k,disabled:!A||le||N,children:le?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),f.jsx("span",{children:"Publicando..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(xS,{className:"w-4 h-4"}),f.jsx("span",{children:"Publicar"})]})})]})]}),h?f.jsx("div",{className:"space-y-6",children:[...Array(3)].map((U,W)=>f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 animate-pulse",children:[f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full mr-3"}),f.jsxs("div",{children:[f.jsx("div",{className:"h-4 bg-gray-700 rounded w-24 mb-2"}),f.jsx("div",{className:"h-3 bg-gray-700 rounded w-16"})]})]}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-full mb-2"}),f.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4 mb-4"}),f.jsx("div",{className:"h-40 bg-gray-700 rounded mb-4"}),f.jsxs("div",{className:"flex space-x-4",children:[f.jsx("div",{className:"h-8 bg-gray-700 rounded w-16"}),f.jsx("div",{className:"h-8 bg-gray-700 rounded w-16"}),f.jsx("div",{className:"h-8 bg-gray-700 rounded w-16"})]})]},W))}):o.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-800 rounded-full mb-4",children:f.jsx(z_,{className:"w-8 h-8 text-gray-400"})}),f.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhum post ainda"}),f.jsx("p",{className:"text-gray-400 mb-6",children:"Seja o primeiro a compartilhar sua jornada fitness!"}),f.jsx("button",{onClick:()=>{var U;return(U=D.current)==null?void 0:U.click()},disabled:!A,className:`px-6 py-3 rounded-lg font-medium transition-colors ${A?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,children:A?"Compartilhar Foto":"Faça login para postar"})]}):o.map(U=>{const W=V[U.id],fe=W==null?void 0:W.liked,ge=W==null?void 0:W.reaction;return f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[f.jsxs("div",{className:"p-4 md:p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center",children:[U.authorPhotoURL?f.jsx("img",{src:U.authorPhotoURL,alt:"User Avatar",className:"w-10 h-10 rounded-full mr-3 object-cover"}):f.jsx("div",{className:"w-10 h-10 rounded-full mr-3 bg-gray-700 flex items-center justify-center text-gray-400",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-semibold text-white",children:U.author}),f.jsx("p",{className:"text-sm text-gray-400",children:U.timestamp?new Date(U.timestamp.toDate()).toLocaleString():"Carregando..."})]})]}),f.jsx("button",{className:"text-gray-400 hover:text-white",children:f.jsx(SS,{className:"w-5 h-5"})})]}),U.content&&f.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:U.content})]}),U.images&&U.images.length>0&&f.jsx("div",{className:`${U.images.length===1?"":"p-4 md:p-6 pt-0"}`,children:f.jsx("div",{className:`grid gap-1 ${U.images.length===1?"grid-cols-1":(U.images.length===2||U.images.length===3,"grid-cols-2")}`,children:U.images.map((me,Ae)=>f.jsxs("div",{className:`relative ${U.images.length===1?"col-span-1":U.images.length===3&&Ae===0?"col-span-2":"col-span-1"}`,children:[f.jsx("img",{src:me,alt:`Post image ${Ae+1}`,className:`w-full object-contain cursor-pointer hover:opacity-95 transition-opacity bg-gray-900 ${U.images.length===1?"":"rounded-lg"}`,style:{maxHeight:U.images.length===1?"500px":"300px",height:"auto"},onClick:()=>{window.open(me,"_blank")}}),U.images.length>4&&Ae===3&&f.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center rounded-lg",children:f.jsxs("span",{className:"text-white text-xl font-bold",children:["+",U.images.length-4]})})]},Ae))})}),f.jsxs("div",{className:"p-4 md:p-6 pt-0",children:[f.jsxs("div",{className:"flex justify-between items-center text-gray-400 mb-4",children:[f.jsxs("div",{className:"flex space-x-6",children:[f.jsxs("button",{className:`flex items-center space-x-2 transition-colors ${A?fe?"text-red-500 hover:text-red-400":"hover:text-red-500":"cursor-not-allowed text-gray-500"}`,onClick:()=>J(U.id),disabled:!A,children:[f.jsx(IS,{className:`w-5 h-5 ${fe?"fill-current":""}`}),f.jsx("span",{className:"text-sm font-medium",children:U.likes||0})]}),f.jsxs("button",{className:`flex items-center space-x-2 ${A?"hover:text-blue-500":"cursor-not-allowed text-gray-500"}`,onClick:()=>C(me=>({...me,[U.id]:!me[U.id]})),disabled:!A,children:[f.jsx(pp,{className:"w-5 h-5"}),f.jsx("span",{className:"text-sm font-medium",children:U.comments||0})]}),f.jsxs("div",{className:"relative",children:[f.jsx("button",{className:`flex items-center space-x-2 transition-colors ${A?ge?"text-yellow-500 hover:text-yellow-400":"hover:text-yellow-500":"cursor-not-allowed text-gray-500"}`,onClick:()=>T(b===U.id?null:U.id),disabled:!A,children:ge?f.jsx("span",{className:"text-lg",children:ge}):f.jsx(iN,{className:"w-5 h-5"})}),b===U.id&&f.jsx("div",{className:"absolute bottom-full left-0 mb-2 bg-gray-700 p-3 rounded-lg shadow-lg z-10",children:f.jsx("div",{className:"grid grid-cols-5 gap-2",children:P.map(me=>f.jsx("button",{className:`text-xl hover:scale-110 transition-transform p-1 rounded ${ge===me?"bg-gray-600":"hover:bg-gray-600"}`,onClick:()=>he(U.id,me),children:me},me))})})]})]}),f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("button",{className:"hover:text-blue-500 transition-colors",children:f.jsx(Zp,{className:"w-5 h-5"})}),f.jsx("button",{className:"hover:text-yellow-500 transition-colors",children:f.jsx(Fb,{className:"w-5 h-5"})})]})]}),Object.entries(U.reactions||{}).some(([me,Ae])=>Ae>0)&&f.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Object.entries(U.reactions||{}).map(([me,Ae])=>Ae>0&&f.jsxs("span",{className:"text-sm bg-gray-700 px-3 py-1 rounded-full flex items-center space-x-1",children:[f.jsx("span",{children:me}),f.jsx("span",{className:"text-gray-300",children:Ae})]},me))}),f.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[A!=null&&A.photoURL?f.jsx("img",{src:A.photoURL,alt:"Your Avatar",className:"w-8 h-8 rounded-full object-cover"}):f.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center text-gray-400",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),f.jsx("input",{type:"text",className:`flex-grow p-3 rounded-full text-sm ${A?"bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,placeholder:A?"Adicione um comentário...":"Faça login para comentar...",value:g[U.id]||"",onChange:me=>y(Ae=>({...Ae,[U.id]:me.target.value})),disabled:!A,onKeyPress:me=>{me.key==="Enter"&&de(U.id)}}),f.jsx("button",{className:`p-2 rounded-full transition-colors duration-200 ${A?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}`,onClick:()=>de(U.id),disabled:!A,children:f.jsx(Qb,{className:"w-4 h-4"})})]}),E[U.id]&&U.commentsList&&U.commentsList.length>0&&f.jsx("div",{className:"space-y-3",children:U.commentsList.map(me=>f.jsxs("div",{className:"flex items-start space-x-3",children:[me.authorPhotoURL?f.jsx("img",{src:me.authorPhotoURL,alt:"Commenter Avatar",className:"w-8 h-8 rounded-full object-cover"}):f.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center text-gray-400",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),f.jsxs("div",{className:"flex-1 bg-gray-700 rounded-lg p-3",children:[f.jsxs("div",{className:"flex items-center justify-between mb-1",children:[f.jsx("p",{className:"font-semibold text-white text-sm",children:me.author}),f.jsx("p",{className:"text-xs text-gray-400",children:me.timestamp?new Date(me.timestamp.toDate?me.timestamp.toDate():me.timestamp).toLocaleString():"Carregando..."})]}),f.jsx("p",{className:"text-gray-300 text-sm",children:me.content})]})]},me.id))})]})]},U.id)})]}),r==="announcements"&&f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Anúncios Importantes"}),f.jsx("p",{className:"text-gray-300 mb-6",children:"Aqui serão exibidos os anúncios da equipe Team HIIT. Fique ligado para novidades, eventos e promoções!"}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-orange-600 rounded-lg p-4",children:[f.jsx("h3",{className:"text-white font-bold mb-2",children:"🔥 Novo Desafio de 30 Dias!"}),f.jsx("p",{className:"text-red-100",children:"Começando em 01/07! Prepare-se para transformar seu corpo com treinos intensos."})]}),f.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-4",children:[f.jsx("h3",{className:"text-white font-bold mb-2",children:"📺 Live Especial"}),f.jsx("p",{className:"text-blue-100",children:"Live com o Renan Gonçalves na próxima semana. Não perca!"})]}),f.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-teal-600 rounded-lg p-4",children:[f.jsx("h3",{className:"text-white font-bold mb-2",children:"💰 Desconto Exclusivo"}),f.jsx("p",{className:"text-green-100",children:"Membros premium têm desconto especial em produtos selecionados."})]})]})]})]})]})}function G6(){const[r,e]=M.useState(""),[t,i]=M.useState(""),[o,c]=M.useState(""),[h,p]=M.useState(""),[g,y]=M.useState(""),[b,T]=M.useState(!1),[E,C]=M.useState(!1),A=Ns(),z=q6,V=async ee=>{ee.preventDefault(),y("");try{if(r)await sC(z,t,o),A("/community");else{const le=await rC(z,t,o);await j1(le.user,{displayName:h}),await Po(xn(Jt,"users",le.user.uid),{email:le.user.email,displayName:h,createdAt:new Date}),A("/community")}}catch(le){console.error("Erro no handleSubmit:",le),y(le.message)}},H=async ee=>{ee.preventDefault(),y(""),C(!1);try{await nC(z,t),C(!0),y("E-mail de redefinição de senha enviado! Verifique sua caixa de entrada.")}catch(le){console.error("Erro no handlePasswordReset:",le),y(le.message)}},K=async()=>{y("");try{const ee=new ms;console.log("Firebase Auth instance:",z);const le=await NC(z,ee);await Po(xn(Jt,"users",le.user.uid),{email:le.user.email,displayName:le.user.displayName||le.user.email,createdAt:new Date},{merge:!0}),A("/community")}catch(ee){console.error("Erro no handleGoogleSignIn:",ee),y(ee.message)}};return f.jsx("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100 flex items-center justify-center",children:f.jsxs("div",{className:"bg-gray-800 p-8 rounded-lg shadow-lg w-full max-w-md",children:[f.jsx("h2",{className:"text-3xl font-bold text-white mb-6 text-center",children:b?"Redefinir Senha":r?"Entrar":"Criar Conta"}),g&&f.jsx("p",{className:"text-red-500 text-center mb-4",children:g}),b?f.jsxs("form",{onSubmit:H,children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"resetEmail",className:"block text-gray-300 text-sm font-bold mb-2",children:"E-mail para redefinição:"}),f.jsx("input",{type:"email",id:"resetEmail",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:t,onChange:ee=>i(ee.target.value),required:!0})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-200",children:"Enviar E-mail de Redefinição"}),f.jsx("button",{type:"button",onClick:()=>T(!1),className:"inline-block align-baseline font-bold text-sm text-gray-400 hover:text-gray-200",children:"Voltar para o Login"})]}),E&&f.jsx("p",{className:"text-green-500 text-center mt-4",children:"E-mail de redefinição enviado! Verifique sua caixa de entrada."})]}):f.jsxs("form",{onSubmit:V,children:[f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"email",className:"block text-gray-300 text-sm font-bold mb-2",children:"E-mail:"}),f.jsx("input",{type:"email",id:"email",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:t,onChange:ee=>i(ee.target.value),required:!0})]}),!r&&f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"displayName",className:"block text-gray-300 text-sm font-bold mb-2",children:"Nome de Exibição (opcional):"}),f.jsx("input",{type:"text",id:"displayName",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:h,onChange:ee=>p(ee.target.value)})]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{htmlFor:"password",className:"block text-gray-300 text-sm font-bold mb-2",children:"Senha:"}),f.jsx("input",{type:"password",id:"password",className:"shadow appearance-none border rounded w-full py-2 px-3 text-white mb-3 leading-tight focus:outline-none focus:shadow-outline bg-gray-700 border-gray-600",value:o,onChange:ee=>c(ee.target.value),required:!0})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("button",{type:"submit",className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-200",children:r?"Entrar":"Registrar"}),f.jsx("button",{type:"button",onClick:()=>e(!r),className:"inline-block align-baseline font-bold text-sm text-red-500 hover:text-red-800",children:r?"Não tem uma conta? Crie uma!":"Já tem uma conta? Faça login!"})]}),r&&f.jsx("div",{className:"text-center mt-4",children:f.jsx("button",{type:"button",onClick:()=>T(!0),className:"inline-block align-baseline font-bold text-sm text-gray-400 hover:text-gray-200",children:"Esqueceu a senha?"})})]}),!b&&f.jsx("div",{className:"mt-6",children:f.jsxs("button",{type:"button",onClick:K,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline transition-colors duration-200 flex items-center justify-center",children:[f.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google logo",className:"w-5 h-5 mr-2"}),"Entrar com Google"]})})]})})}function $6(){const r=Cs(),e=Fw(),t=Ns(),[i,o]=M.useState(null),[c,h]=M.useState({completedWorkouts:0,completedWeeks:0,achievements:0}),[p,g]=M.useState(!1),[y,b]=M.useState(!0),[T,E]=M.useState(!1),[C,A]=M.useState(!1),[z,V]=M.useState(""),[H,K]=M.useState({displayName:"",email:"",phone:"",photoURL:""}),[ee,le]=M.useState(null);M.useEffect(()=>{const R=r.onAuthStateChanged(async D=>{if(D){o(D),K({displayName:D.displayName||"",email:D.email||"",phone:"",photoURL:D.photoURL||""});try{const P=await Mo(xn(Jt,"users",D.uid));if(P.exists()){const L=P.data();g(L.isSubscriber||!1),K(I=>({...I,phone:L.phone||""})),h({completedWorkouts:L.completedWorkouts||0,completedWeeks:L.completedWeeks||0,achievements:L.achievements||0})}}catch(P){console.error("Erro ao buscar dados do usuário:",P)}}else o(null),t("/login");b(!1)});return()=>R()},[r,t]);const pe=async()=>{try{await D1(r),t("/login")}catch(R){console.error("Erro ao fazer logout:",R)}},oe=R=>{R.target.files[0]&&le(R.target.files[0])},j=async()=>{if(i)try{A(!0),V("Atualizando perfil...");let R=H.photoURL;if(ee){V("Fazendo upload da foto...");const L=Hw(e,`profile_pictures/${i.uid}/${ee.name}`);await Bw(L,ee),R=await qw(L)}await j1(i,{displayName:H.displayName,photoURL:R});const D=xn(Jt,"users",i.uid);(await Mo(D)).exists()?await Po(D,{displayName:H.displayName,photoURL:R,phone:H.phone,updatedAt:new Date},{merge:!0}):await Po(D,{email:i.email,displayName:H.displayName,photoURL:R,phone:H.phone,createdAt:new Date,isSubscriber:!1,completedWorkouts:0,completedWeeks:0,achievements:0}),K(L=>({...L,photoURL:R})),le(null),E(!1),V("Perfil atualizado com sucesso!"),setTimeout(()=>V(""),3e3)}catch(R){console.error("Erro ao atualizar perfil:",R),V(`Erro ao atualizar perfil: ${R.message}`)}finally{A(!1)}},N=R=>{const{name:D,value:P}=R.target;K(L=>({...L,[D]:P}))};return y?f.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[f.jsx(or,{}),f.jsx("div",{className:"flex items-center justify-center h-96",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})})]}):i?f.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[f.jsx(or,{}),f.jsxs("div",{className:"container mx-auto px-6 py-8 pt-20",children:[f.jsx("h1",{className:"text-4xl font-bold text-white mb-8",children:"Meu Perfil"}),f.jsx("div",{className:"bg-gray-800 rounded-xl shadow-lg p-8 mb-6",children:f.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start gap-6",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-32 h-32 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center text-white overflow-hidden",children:H.photoURL?f.jsx("img",{src:H.photoURL,alt:"Foto de perfil",className:"w-32 h-32 rounded-full object-cover"}):f.jsx(Rr,{size:48})}),f.jsxs("label",{className:"absolute -bottom-1 -right-1 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-colors cursor-pointer",children:[f.jsx(zh,{size:16}),f.jsx("input",{type:"file",className:"hidden",onChange:oe,accept:"image/*"})]})]}),f.jsxs("div",{className:"flex-1 text-center md:text-left",children:[f.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-2",children:[f.jsx("h2",{className:"text-2xl font-bold text-white",children:H.displayName||"Usuário"}),p&&f.jsxs("div",{className:"flex items-center gap-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1 rounded-full text-sm font-medium",children:[f.jsx(wo,{size:14}),"Assinante"]})]}),f.jsx("p",{className:"text-gray-400 mb-4",children:H.email}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[f.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[f.jsx("div",{className:"text-2xl font-bold text-red-500",children:c.completedWorkouts}),f.jsx("div",{className:"text-sm text-gray-400",children:"Treinos"})]}),f.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[f.jsx("div",{className:"text-2xl font-bold text-green-500",children:c.completedWeeks}),f.jsx("div",{className:"text-sm text-gray-400",children:"Semanas"})]}),f.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[f.jsx("div",{className:"text-2xl font-bold text-purple-500",children:c.achievements}),f.jsx("div",{className:"text-sm text-gray-400",children:"Conquistas"})]})]})]})]})}),f.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 p-2 rounded-lg",children:f.jsx(qh,{className:"text-white",size:20})}),f.jsx("h3",{className:"text-xl font-semibold text-white",children:"Jornada HIIT"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Bh,{className:"text-red-500",size:20}),f.jsx("span",{className:"text-gray-300",children:"Treinos Concluídos"})]}),f.jsx("span",{className:"font-semibold text-red-500",children:c.completedWorkouts})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(dp,{className:"text-green-500",size:20}),f.jsx("span",{className:"text-gray-300",children:"Semanas Completas"})]}),f.jsx("span",{className:"font-semibold text-green-500",children:c.completedWeeks})]}),f.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Wp,{className:"text-purple-500",size:20}),f.jsx("span",{className:"text-gray-300",children:"Conquistas"})]}),f.jsx("span",{className:"font-semibold text-purple-500",children:c.achievements})]})]}),f.jsx("button",{onClick:()=>t("/jornada-hiit"),className:"w-full mt-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-2 px-4 rounded-lg hover:from-purple-700 hover:to-pink-700 transition-all duration-200 font-medium",children:"Ver Jornada Completa"})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-xl font-semibold text-white",children:"Informações da Conta"}),f.jsxs("button",{onClick:()=>E(!T),className:"flex items-center gap-2 text-red-500 hover:text-red-400 transition-colors",children:[f.jsx($S,{size:16}),T?"Cancelar":"Editar"]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome Completo"}),T?f.jsx("input",{type:"text",name:"displayName",value:H.displayName,onChange:N,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Seu nome completo"}):f.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-700 rounded-lg",children:[f.jsx(Rr,{className:"text-gray-400",size:16}),f.jsx("span",{className:"text-gray-300",children:H.displayName||"Não informado"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),f.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-700 rounded-lg",children:[f.jsx(US,{className:"text-gray-400",size:16}),f.jsx("span",{className:"text-gray-300",children:H.email})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Telefone"}),T?f.jsx("input",{type:"tel",name:"phone",value:H.phone,onChange:N,placeholder:"(11) 99999-9999",className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white focus:ring-2 focus:ring-red-500 focus:border-transparent"}):f.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-700 rounded-lg",children:[f.jsx(QS,{className:"text-gray-400",size:16}),f.jsx("span",{className:"text-gray-300",children:H.phone||"Não informado"})]})]})]}),T&&f.jsx("button",{onClick:j,disabled:C,className:"w-full mt-4 bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:C?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Salvando..."]}):"Salvar Alterações"})]})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mt-6",children:[f.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Gerenciar Assinatura"}),f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:`w-3 h-3 rounded-full ${p?"bg-green-500":"bg-red-500"}`}),f.jsx("span",{className:"font-medium text-white",children:p?"Plano Ativo":"Plano Inativo"})]}),f.jsx("p",{className:"text-gray-400 text-sm",children:p?"Você tem acesso completo a todos os treinos e funcionalidades.":"Assine para ter acesso completo à plataforma."})]}),f.jsx("button",{className:"bg-gradient-to-r from-green-600 to-red-600 text-white py-2 px-6 rounded-lg hover:from-green-700 hover:to-red-700 transition-all duration-200 font-medium",children:p?"Gerenciar Assinatura":"Assinar Agora"})]})]}),z&&f.jsx("div",{className:`mt-4 p-4 rounded-lg text-center ${z.includes("sucesso")?"bg-green-600 text-white":z.includes("Erro")?"bg-red-600 text-white":"bg-blue-600 text-white"}`,children:z}),f.jsx("div",{className:"bg-gray-800 rounded-xl shadow-lg p-6 mt-6",children:f.jsxs("button",{onClick:pe,className:"flex items-center gap-2 text-red-500 hover:text-red-400 transition-colors font-medium",children:[f.jsx(mp,{size:20}),"Sair da Conta"]})})]})]}):f.jsx("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100 flex items-center justify-center",children:"Você precisa estar logado para ver esta página."})}const K6=()=>{const r=Cs(),e=Ns(),[t,i]=M.useState(null),[o,c]=M.useState({completedWorkouts:0,completedWeeks:0,achievements:0,totalMinutes:0,streak:0,level:1,xp:0}),[h,p]=M.useState(!0),g=[{id:"first_workout",title:"Primeiro Passo",description:"Complete seu primeiro treino",icon:f.jsx(Bh,{className:"w-8 h-8"}),requirement:1,type:"workouts",color:"from-blue-500 to-blue-600",unlocked:!1},{id:"week_warrior",title:"Guerreiro Semanal",description:"Complete uma semana inteira",icon:f.jsx(dp,{className:"w-8 h-8"}),requirement:1,type:"weeks",color:"from-green-500 to-green-600",unlocked:!1},{id:"fire_starter",title:"Iniciador de Fogo",description:"Complete 5 treinos",icon:f.jsx(L_,{className:"w-8 h-8"}),requirement:5,type:"workouts",color:"from-orange-500 to-red-500",unlocked:!1},{id:"lightning_bolt",title:"Raio Veloz",description:"Complete 10 treinos",icon:f.jsx(eg,{className:"w-8 h-8"}),requirement:10,type:"workouts",color:"from-yellow-500 to-orange-500",unlocked:!1},{id:"time_master",title:"Mestre do Tempo",description:"Acumule 60 minutos de treino",icon:f.jsx(di,{className:"w-8 h-8"}),requirement:60,type:"minutes",color:"from-purple-500 to-purple-600",unlocked:!1},{id:"streak_master",title:"Sequência Perfeita",description:"Mantenha uma sequência de 7 dias",icon:f.jsx(fd,{className:"w-8 h-8"}),requirement:7,type:"streak",color:"from-pink-500 to-purple-500",unlocked:!1},{id:"month_champion",title:"Campeão Mensal",description:"Complete 4 semanas",icon:f.jsx(BS,{className:"w-8 h-8"}),requirement:4,type:"weeks",color:"from-indigo-500 to-purple-600",unlocked:!1},{id:"hiit_legend",title:"Lenda HIIT",description:"Complete 50 treinos",icon:f.jsx(wo,{className:"w-8 h-8"}),requirement:50,type:"workouts",color:"from-yellow-400 to-yellow-600",unlocked:!1}],y=[{level:1,xpRequired:0,title:"Iniciante"},{level:2,xpRequired:100,title:"Aprendiz"},{level:3,xpRequired:250,title:"Praticante"},{level:4,xpRequired:500,title:"Experiente"},{level:5,xpRequired:1e3,title:"Veterano"},{level:6,xpRequired:2e3,title:"Expert"},{level:7,xpRequired:3500,title:"Mestre"},{level:8,xpRequired:5e3,title:"Lenda"}];M.useEffect(()=>{const A=r.onAuthStateChanged(async z=>{if(z){i(z);try{const V=await Mo(xn(Jt,"users",z.uid));if(V.exists()){const H=V.data(),K={completedWorkouts:H.completedWorkouts||0,completedWeeks:H.completedWeeks||0,achievements:H.achievements||0,totalMinutes:H.totalMinutes||0,streak:H.streak||0,level:H.level||1,xp:H.xp||0};c(K)}}catch(V){console.error("Erro ao buscar dados do usuário:",V)}}else e("/login");p(!1)});return()=>A()},[r,e]);const b=g.map(A=>{let z=!1;switch(A.type){case"workouts":z=o.completedWorkouts>=A.requirement;break;case"weeks":z=o.completedWeeks>=A.requirement;break;case"minutes":z=o.totalMinutes>=A.requirement;break;case"streak":z=o.streak>=A.requirement;break}return{...A,unlocked:z}}),T=y.find(A=>o.xp>=A.xpRequired&&(y[A.level]?o.xp<y[A.level].xpRequired:!0))||y[0],E=y.find(A=>A.level===T.level+1),C=E?(o.xp-T.xpRequired)/(E.xpRequired-T.xpRequired)*100:100;return h?f.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[f.jsx(or,{}),f.jsx("div",{className:"flex items-center justify-center h-96",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})})]}):f.jsxs("div",{className:"min-h-screen bg-[#1a1a1a] text-gray-100",children:[f.jsx(or,{}),f.jsxs("div",{className:"container mx-auto px-6 py-8 pt-20",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[f.jsx("button",{onClick:()=>e("/profile"),className:"text-gray-400 hover:text-white transition-colors",children:f.jsx(Xp,{size:24})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-4xl font-bold text-white",children:"Jornada HIIT"}),f.jsx("p",{className:"text-gray-400",children:"Acompanhe seu progresso e conquistas"})]})]}),f.jsxs("div",{className:"bg-gradient-to-r from-red-600 to-red-700 rounded-xl p-6 mb-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-white",children:["Nível ",T.level]}),f.jsx("p",{className:"text-red-100",children:T.title})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-red-100 text-sm",children:"XP"}),f.jsxs("p",{className:"text-2xl font-bold text-white",children:[o.xp,E&&` / ${E.xpRequired}`]})]})]}),E&&f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between text-sm text-red-100 mb-2",children:[f.jsxs("span",{children:["Progresso para ",E.title]}),f.jsxs("span",{children:[Math.round(C),"%"]})]}),f.jsx("div",{className:"w-full bg-red-800 rounded-full h-3",children:f.jsx("div",{className:"bg-white rounded-full h-3 transition-all duration-500",style:{width:`${C}%`}})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[f.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[f.jsx("div",{className:"bg-blue-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx(Bh,{className:"text-white",size:24})}),f.jsx("div",{className:"text-2xl font-bold text-white",children:o.completedWorkouts}),f.jsx("div",{className:"text-sm text-gray-400",children:"Treinos"})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[f.jsx("div",{className:"bg-green-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx(dp,{className:"text-white",size:24})}),f.jsx("div",{className:"text-2xl font-bold text-white",children:o.completedWeeks}),f.jsx("div",{className:"text-sm text-gray-400",children:"Semanas"})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[f.jsx("div",{className:"bg-purple-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx(cN,{className:"text-white",size:24})}),f.jsx("div",{className:"text-2xl font-bold text-white",children:o.totalMinutes}),f.jsx("div",{className:"text-sm text-gray-400",children:"Minutos"})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 text-center",children:[f.jsx("div",{className:"bg-orange-600 w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-3",children:f.jsx(L_,{className:"text-white",size:24})}),f.jsx("div",{className:"text-2xl font-bold text-white",children:o.streak}),f.jsx("div",{className:"text-sm text-gray-400",children:"Sequência"})]})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx(qh,{className:"text-yellow-500",size:24}),f.jsx("h2",{className:"text-2xl font-bold text-white",children:"Conquistas"}),f.jsxs("span",{className:"bg-gray-700 text-gray-300 px-3 py-1 rounded-full text-sm",children:[b.filter(A=>A.unlocked).length," / ",g.length]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map(A=>f.jsxs("div",{className:`relative p-4 rounded-xl border-2 transition-all duration-300 ${A.unlocked?`bg-gradient-to-br ${A.color} border-transparent shadow-lg`:"bg-gray-700 border-gray-600"}`,children:[!A.unlocked&&f.jsx("div",{className:"absolute inset-0 bg-gray-900 bg-opacity-50 rounded-xl flex items-center justify-center",children:f.jsx(fp,{className:"text-gray-400",size:24})}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 ${A.unlocked?"bg-white bg-opacity-20":"bg-gray-600"}`,children:f.jsx("div",{className:A.unlocked?"text-white":"text-gray-400",children:A.icon})}),f.jsx("h3",{className:`font-bold mb-1 ${A.unlocked?"text-white":"text-gray-400"}`,children:A.title}),f.jsx("p",{className:`text-sm ${A.unlocked?"text-white text-opacity-80":"text-gray-500"}`,children:A.description}),A.unlocked&&f.jsx("div",{className:"mt-2",children:f.jsx($b,{className:"text-white mx-auto",size:20})})]})]},A.id))})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-8",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx(Rh,{className:"text-yellow-500",size:24}),f.jsx("h2",{className:"text-2xl font-bold text-white",children:"Próximos Desafios"})]}),f.jsx("div",{className:"space-y-4",children:b.filter(A=>!A.unlocked).slice(0,3).map(A=>{let z=0,V=0;switch(A.type){case"workouts":V=o.completedWorkouts;break;case"weeks":V=o.completedWeeks;break;case"minutes":V=o.totalMinutes;break;case"streak":V=o.streak;break}return z=V/A.requirement*100,f.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${A.color} flex items-center justify-center`,children:f.jsx("div",{className:"text-white scale-75",children:A.icon})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-white",children:A.title}),f.jsx("p",{className:"text-sm text-gray-400",children:A.description})]})]}),f.jsx(Gb,{className:"text-gray-400",size:20})]}),f.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[f.jsx("span",{children:"Progresso"}),f.jsxs("span",{children:[V," / ",A.requirement]})]}),f.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:f.jsx("div",{className:`bg-gradient-to-r ${A.color} rounded-full h-2 transition-all duration-500`,style:{width:`${Math.min(z,100)}%`}})})]},A.id)})})]}),f.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl p-6 text-center",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Continue Assim!"}),f.jsx("p",{className:"text-purple-100 mb-4",children:o.completedWorkouts===0?"Comece sua jornada HIIT hoje mesmo! Cada treino te deixa mais forte.":o.completedWorkouts<5?"Você está no caminho certo! Continue treinando para desbloquear novas conquistas.":o.completedWorkouts<20?"Incrível progresso! Você está se tornando um verdadeiro atleta HIIT.":"Você é uma inspiração! Continue quebrando seus próprios recordes."}),f.jsx("button",{onClick:()=>e("/dashboard"),className:"bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors",children:"Treinar Agora"})]})]})]})},Q6=()=>{const[r,e]=M.useState("home"),[t,i]=M.useState(null),[o,c]=M.useState(null),[h,p]=M.useState(null),[g,y]=M.useState(!1),[b,T]=M.useState(null),[E,C]=M.useState(150),[A,z]=M.useState(null),[V,H]=M.useState([]),[K,ee]=M.useState({calories:0,protein:0,carbs:0,fat:0}),le=M.useRef(null),pe=M.useRef(null),oe=M.useRef(null),j=Cs(),N=kd();M.useEffect(()=>{const ce=zo(j,U=>{z(U),U&&R(U.uid)});return()=>ce()},[j]);const R=ce=>{const U=new Date;U.setHours(0,0,0,0);const W=Ir(N,"meals"),fe=Cc(W,cd("userId","==",ce),cd("createdAt",">=",U),jc("createdAt","desc"));return ry(fe,me=>{const Ae=me.docs.map(Me=>({id:Me.id,...Me.data()}));H(Ae);const Ie=Ae.reduce((Me,Ue)=>(Ue.nutritionData&&Ue.nutritionData.totals&&(Me.calories+=Ue.nutritionData.totals.calories||0,Me.protein+=Ue.nutritionData.totals.protein||0,Me.carbs+=Ue.nutritionData.totals.carbs||0,Me.fat+=Ue.nutritionData.totals.fat||0),Me),{calories:0,protein:0,carbs:0,fat:0});ee(Ie)})},D=async()=>{try{const ce=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});pe.current&&(pe.current.srcObject=ce),e("camera")}catch(ce){console.error("Erro ao acessar câmera:",ce),T("Não foi possível acessar a câmera. Verifique as permissões.")}},P=()=>{if(pe.current&&oe.current){const ce=oe.current,U=pe.current;ce.width=U.videoWidth,ce.height=U.videoHeight,ce.getContext("2d").drawImage(U,0,0),ce.toBlob(fe=>{i(fe),c(URL.createObjectURL(fe)),L(),e("analysis")},"image/jpeg",.8)}},L=()=>{pe.current&&pe.current.srcObject&&(pe.current.srcObject.getTracks().forEach(U=>U.stop()),pe.current.srcObject=null)},I=ce=>{const U=ce.target.files[0];U&&(i(U),c(URL.createObjectURL(U)),e("analysis"))},Ge=async()=>{if(t){y(!0),T(null);try{if(!window.clarifaiService)throw new Error("Serviço de análise não disponível. Recarregue a página.");const ce=await window.ClarifaiService.imageToBase64(t),U=await window.clarifaiService.analyzeImage(ce,E);if(U.success)p(U),e("result");else throw new Error(U.error||"Erro na análise da imagem")}catch(ce){console.error("Erro na análise:",ce),T(ce.message)}finally{y(!1)}}},Te=async()=>{if(!(!A||!h))try{await ud(Ir(N,"meals"),{userId:A.uid,imageUrl:o,nutritionData:h,estimatedWeight:E,createdAt:To(),mealType:Q()}),alert("Refeição salva com sucesso!"),e("home"),ue()}catch(ce){console.error("Erro ao salvar refeição:",ce),alert("Erro ao salvar refeição. Tente novamente.")}},Q=()=>{const ce=new Date().getHours();return ce<10?"Café da Manhã":ce<14?"Almoço":ce<18?"Lanche":"Jantar"},ue=()=>{i(null),c(null),p(null),T(null),C(150)},se=()=>{navigator.share&&h&&navigator.share({title:"Minha Análise Nutricional - Team HIIT",text:`Acabei de analisar minha refeição: ${h.totals.calories} calorias, ${h.totals.protein}g proteína!`,url:window.location.href})},_e=()=>f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white",children:[f.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 p-6 text-center",children:[f.jsx("h1",{className:"text-3xl font-bold mb-2",children:"🍽️ Calculadora de Calorias"}),f.jsx("p",{className:"text-white/90",children:"Analise suas refeições com Inteligência Artificial"})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6",children:[f.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center",children:[f.jsx(fd,{className:"w-6 h-6 mr-2 text-orange-500"}),"Resumo de Hoje"]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-orange-500",children:Math.round(K.calories)}),f.jsx("div",{className:"text-sm text-gray-400",children:"Calorias"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:[Math.round(K.protein),"g"]}),f.jsx("div",{className:"text-sm text-gray-400",children:"Proteína"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold text-green-500",children:[Math.round(K.carbs),"g"]}),f.jsx("div",{className:"text-sm text-gray-400",children:"Carboidratos"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-2xl font-bold text-yellow-500",children:[Math.round(K.fat),"g"]}),f.jsx("div",{className:"text-sm text-gray-400",children:"Gorduras"})]})]})]}),f.jsxs("div",{className:"space-y-4 mb-6",children:[f.jsxs("button",{onClick:D,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white p-4 rounded-xl font-semibold flex items-center justify-center space-x-3 transition-all transform hover:scale-105",children:[f.jsx(zh,{className:"w-6 h-6"}),f.jsx("span",{children:"Tirar Foto do Prato"})]}),f.jsxs("button",{onClick:()=>{var ce;return(ce=le.current)==null?void 0:ce.click()},className:"w-full bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-xl font-semibold flex items-center justify-center space-x-3 transition-all",children:[f.jsx(gN,{className:"w-6 h-6"}),f.jsx("span",{children:"Escolher da Galeria"})]})]}),V.length>0&&f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center",children:[f.jsx(di,{className:"w-5 h-5 mr-2 text-gray-400"}),"Refeições Recentes"]}),f.jsx("div",{className:"space-y-3",children:V.slice(0,3).map(ce=>{var U,W,fe;return f.jsxs("div",{className:"flex items-center justify-between bg-gray-700 p-3 rounded-lg",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center",children:"🍽️"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold",children:ce.mealType}),f.jsxs("div",{className:"text-sm text-gray-400",children:[((W=(U=ce.nutritionData)==null?void 0:U.totals)==null?void 0:W.calories)||0," cal"]})]})]}),f.jsx("div",{className:"text-sm text-gray-400",children:(fe=ce.createdAt)==null?void 0:fe.toDate().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]},ce.id)})})]})]}),f.jsx("input",{ref:le,type:"file",accept:"image/*",onChange:I,className:"hidden"})]}),k=()=>f.jsxs("div",{className:"min-h-screen bg-black text-white relative",children:[f.jsx("video",{ref:pe,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),f.jsxs("div",{className:"absolute inset-0 flex flex-col justify-between p-6",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-xl font-bold mb-2",children:"Posicione seu prato"}),f.jsx("p",{className:"text-white/80",children:"Centralize o prato na tela para melhor análise"})]}),f.jsx("div",{className:"flex-1 flex items-center justify-center",children:f.jsx("div",{className:"w-80 h-80 border-4 border-white/50 rounded-full border-dashed"})}),f.jsxs("div",{className:"flex justify-center space-x-6",children:[f.jsx("button",{onClick:()=>{L(),e("home")},className:"bg-gray-600 hover:bg-gray-500 text-white p-4 rounded-full transition-colors",children:f.jsx(WS,{className:"w-6 h-6"})}),f.jsx("button",{onClick:P,className:"bg-orange-500 hover:bg-orange-600 text-white p-6 rounded-full transition-all transform hover:scale-105",children:f.jsx(zh,{className:"w-8 h-8"})})]})]}),f.jsx("canvas",{ref:oe,className:"hidden"})]}),J=()=>f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white p-6",children:f.jsxs("div",{className:"max-w-md mx-auto",children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Analisar Refeição"}),o&&f.jsx("div",{className:"mb-6",children:f.jsx("img",{src:o,alt:"Preview",className:"w-full h-64 object-cover rounded-xl"})}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6",children:[f.jsxs("label",{className:"block text-sm font-medium mb-3",children:["Peso estimado da porção: ",E,"g"]}),f.jsx("input",{type:"range",min:"50",max:"500",step:"10",value:E,onChange:ce=>C(parseInt(ce.target.value)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer slider"}),f.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-2",children:[f.jsx("span",{children:"50g"}),f.jsx("span",{children:"500g"})]})]}),b&&f.jsx("div",{className:"bg-red-500/20 border border-red-500 rounded-xl p-4 mb-6",children:f.jsxs("div",{className:"flex items-center",children:[f.jsx(Yb,{className:"w-5 h-5 mr-2 text-red-500"}),f.jsx("span",{className:"text-red-200",children:b})]})}),f.jsxs("div",{className:"space-y-4",children:[f.jsx("button",{onClick:Ge,disabled:g,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 disabled:from-gray-600 disabled:to-gray-600 text-white p-4 rounded-xl font-semibold flex items-center justify-center space-x-3 transition-all",children:g?f.jsxs(f.Fragment,{children:[f.jsx(MS,{className:"w-6 h-6 animate-spin"}),f.jsx("span",{children:"Analisando..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(eg,{className:"w-6 h-6"}),f.jsx("span",{children:"Analisar com IA"})]})}),f.jsx("button",{onClick:()=>{ue(),e("home")},className:"w-full bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-xl font-semibold transition-colors",children:"Cancelar"})]})]})}),de=()=>{if(!h)return null;const{foods:ce,totals:U,insights:W,confidence:fe}=h;return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white p-6",children:f.jsxs("div",{className:"max-w-2xl mx-auto",children:[f.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Resultado da Análise"}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-4 mb-6 text-center",children:[f.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Confiança da IA"}),f.jsxs("div",{className:"text-2xl font-bold text-green-500",children:[fe,"%"]})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6",children:[f.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"Informações Nutricionais"}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-3xl font-bold text-orange-500",children:U.calories}),f.jsx("div",{className:"text-sm text-gray-400",children:"Calorias"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-3xl font-bold text-blue-500",children:[U.protein,"g"]}),f.jsx("div",{className:"text-sm text-gray-400",children:"Proteína"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-3xl font-bold text-green-500",children:[U.carbs,"g"]}),f.jsx("div",{className:"text-sm text-gray-400",children:"Carboidratos"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-3xl font-bold text-yellow-500",children:[U.fat,"g"]}),f.jsx("div",{className:"text-sm text-gray-400",children:"Gorduras"})]})]})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6",children:[f.jsx("h3",{className:"text-lg font-bold mb-4",children:"Alimentos Identificados"}),f.jsx("div",{className:"space-y-3",children:ce.map((ge,me)=>f.jsxs("div",{className:"flex justify-between items-center bg-gray-700 p-3 rounded-lg",children:[f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold capitalize",children:ge.name}),f.jsxs("div",{className:"text-sm text-gray-400",children:["Confiança: ",ge.confidence,"%"]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"font-bold text-orange-500",children:[ge.calories," cal"]}),f.jsx("div",{className:"text-sm text-gray-400",children:ge.portion})]})]},me))})]}),W&&W.length>0&&f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6",children:[f.jsx("h3",{className:"text-lg font-bold mb-4",children:"Insights Nutricionais"}),f.jsx("div",{className:"space-y-3",children:W.map((ge,me)=>f.jsx("div",{className:`p-4 rounded-lg border-l-4 ${ge.type==="success"?"bg-green-500/20 border-green-500":ge.type==="warning"?"bg-yellow-500/20 border-yellow-500":"bg-blue-500/20 border-blue-500"}`,children:f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("span",{className:"text-2xl",children:ge.icon}),f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold",children:ge.title}),f.jsx("div",{className:"text-sm text-gray-300",children:ge.message})]})]})},me))})]}),f.jsxs("div",{className:"space-y-4",children:[A&&f.jsxs("button",{onClick:Te,className:"w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white p-4 rounded-xl font-semibold flex items-center justify-center space-x-3 transition-all",children:[f.jsx(JS,{className:"w-6 h-6"}),f.jsx("span",{children:"Salvar Refeição"})]}),f.jsxs("button",{onClick:se,className:"w-full bg-blue-600 hover:bg-blue-700 text-white p-4 rounded-xl font-semibold flex items-center justify-center space-x-3 transition-all",children:[f.jsx(Zp,{className:"w-6 h-6"}),f.jsx("span",{children:"Compartilhar"})]}),f.jsx("button",{onClick:()=>{ue(),e("home")},className:"w-full bg-gray-700 hover:bg-gray-600 text-white p-4 rounded-xl font-semibold transition-colors",children:"Nova Análise"})]})]})})};return(()=>{switch(r){case"camera":return k();case"analysis":return J();case"result":return de();default:return _e()}})()},Y6=()=>{const r=Ns(),[e,t]=M.useState(null),[i,o]=M.useState([]),[c,h]=M.useState(!0),[p,g]=M.useState("week"),[y,b]=M.useState("all"),[T,E]=M.useState(""),[C,A]=M.useState({}),z=Cs(),V=kd();M.useEffect(()=>{const oe=zo(z,j=>{t(j),j?H(j.uid):h(!1)});return()=>oe()},[z]);const H=oe=>{const j=K(p),N=Ir(V,"meals"),R=Cc(N,cd("userId","==",oe),cd("createdAt",">=",j),jc("createdAt","desc"),Ak(100));return ry(R,P=>{const L=P.docs.map(I=>{var Ge;return{id:I.id,...I.data(),createdAt:((Ge=I.data().createdAt)==null?void 0:Ge.toDate())||new Date}});o(L),ee(L),h(!1)})},K=oe=>{const j=new Date;switch(oe){case"week":return new Date(j.getTime()-7*24*60*60*1e3);case"month":return new Date(j.getTime()-30*24*60*60*1e3);case"year":return new Date(j.getTime()-365*24*60*60*1e3);default:return new Date(j.getTime()-7*24*60*60*1e3)}},ee=oe=>{if(oe.length===0){A({});return}const j=oe.reduce((Te,Q)=>(Q.nutritionData&&Q.nutritionData.totals&&(Te.calories+=Q.nutritionData.totals.calories||0,Te.protein+=Q.nutritionData.totals.protein||0,Te.carbs+=Q.nutritionData.totals.carbs||0,Te.fat+=Q.nutritionData.totals.fat||0,Te.fiber+=Q.nutritionData.totals.fiber||0),Te),{calories:0,protein:0,carbs:0,fat:0,fiber:0}),N=Math.max(1,Math.ceil((new Date-K(p))/(1e3*60*60*24))),R={calories:Math.round(j.calories/N),protein:Math.round(j.protein/N*10)/10,carbs:Math.round(j.carbs/N*10)/10,fat:Math.round(j.fat/N*10)/10,fiber:Math.round(j.fiber/N*10)/10},D=oe.reduce((Te,Q)=>{var se,_e;const ue=Q.mealType||"Outros";return Te[ue]||(Te[ue]={count:0,calories:0}),Te[ue].count++,Te[ue].calories+=((_e=(se=Q.nutritionData)==null?void 0:se.totals)==null?void 0:_e.calories)||0,Te},{}),L=oe.filter(Te=>{const Q=Te.createdAt,ue=K(p),se=new Date(ue.getTime()-(new Date-ue));return Q>=se&&Q<ue}).reduce((Te,Q)=>(Q.nutritionData&&Q.nutritionData.totals&&(Te.calories+=Q.nutritionData.totals.calories||0),Te),{calories:0}),I=j.calories>L.calories?"up":"down",Ge=L.calories>0?Math.round((j.calories-L.calories)/L.calories*100):0;A({totals:j,averages:R,mealTypes:D,trend:I,trendPercentage:Ge,totalMeals:oe.length,days:N})},le=i.filter(oe=>{var R,D;const j=y==="all"||oe.mealType===y,N=T===""||((D=(R=oe.nutritionData)==null?void 0:R.foods)==null?void 0:D.some(P=>P.name.toLowerCase().includes(T.toLowerCase())));return j&&N}),pe=()=>{const oe=le.map(P=>{var L,I,Ge,Te,Q,ue,se,_e,k,J;return{Data:P.createdAt.toLocaleDateString("pt-BR"),Hora:P.createdAt.toLocaleTimeString("pt-BR"),Tipo:P.mealType,Calorias:((I=(L=P.nutritionData)==null?void 0:L.totals)==null?void 0:I.calories)||0,Proteína:((Te=(Ge=P.nutritionData)==null?void 0:Ge.totals)==null?void 0:Te.protein)||0,Carboidratos:((ue=(Q=P.nutritionData)==null?void 0:Q.totals)==null?void 0:ue.carbs)||0,Gordura:((_e=(se=P.nutritionData)==null?void 0:se.totals)==null?void 0:_e.fat)||0,Fibra:((J=(k=P.nutritionData)==null?void 0:k.totals)==null?void 0:J.fiber)||0}}),j=[Object.keys(oe[0]).join(","),...oe.map(P=>Object.values(P).join(","))].join(`
`),N=new Blob([j],{type:"text/csv"}),R=URL.createObjectURL(N),D=document.createElement("a");D.href=R,D.download=`historico-nutricional-${p}.csv`,D.click()};return c?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white flex items-center justify-center pt-20",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Carregando histórico..."})]})}):e?f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white pt-20",children:[f.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 p-6",children:f.jsxs("div",{className:"flex items-center mb-4",children:[f.jsx("button",{onClick:()=>r("/nutrition"),className:"mr-4 p-2 rounded-lg bg-white/20 hover:bg-white/30 transition-colors",children:f.jsx(Xp,{className:"w-5 h-5"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:"📊 Histórico Nutricional"}),f.jsx("p",{className:"text-white/90",children:"Acompanhe sua evolução alimentar"})]})]})}),f.jsxs("div",{className:"p-6",children:[f.jsx("div",{className:"bg-gray-800 rounded-xl p-6 mb-6",children:f.jsxs("div",{className:"flex flex-wrap gap-4 items-center justify-between",children:[f.jsxs("div",{className:"flex flex-wrap gap-4",children:[f.jsxs("select",{value:p,onChange:oe=>g(oe.target.value),className:"bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 focus:ring-2 focus:ring-orange-500",children:[f.jsx("option",{value:"week",children:"Última Semana"}),f.jsx("option",{value:"month",children:"Último Mês"}),f.jsx("option",{value:"year",children:"Último Ano"})]}),f.jsxs("select",{value:y,onChange:oe=>b(oe.target.value),className:"bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 focus:ring-2 focus:ring-orange-500",children:[f.jsx("option",{value:"all",children:"Todas as Refeições"}),f.jsx("option",{value:"Café da Manhã",children:"Café da Manhã"}),f.jsx("option",{value:"Almoço",children:"Almoço"}),f.jsx("option",{value:"Lanche",children:"Lanche"}),f.jsx("option",{value:"Jantar",children:"Jantar"})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Kb,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),f.jsx("input",{type:"text",placeholder:"Buscar alimento...",value:T,onChange:oe=>E(oe.target.value),className:"bg-gray-700 text-white pl-10 pr-4 py-2 rounded-lg border border-gray-600 focus:ring-2 focus:ring-orange-500"})]})]}),le.length>0&&f.jsxs("button",{onClick:pe,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[f.jsx(TS,{className:"w-5 h-5"}),f.jsx("span",{children:"Exportar"})]})]})}),C.totals&&f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Calorias/Dia"}),C.trend==="up"?f.jsx(fd,{className:"w-6 h-6 text-green-500"}):f.jsx(hN,{className:"w-6 h-6 text-red-500"})]}),f.jsx("div",{className:"text-3xl font-bold text-orange-500 mb-2",children:C.averages.calories}),f.jsxs("div",{className:`text-sm ${C.trend==="up"?"text-green-400":"text-red-400"}`,children:[C.trendPercentage>0?"+":"",C.trendPercentage,"% vs período anterior"]})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Proteína/Dia"}),f.jsx(Bh,{className:"w-6 h-6 text-blue-500"})]}),f.jsxs("div",{className:"text-3xl font-bold text-blue-500 mb-2",children:[C.averages.protein,"g"]}),f.jsx("div",{className:"text-sm text-gray-400",children:"Meta: 1.6g/kg peso corporal"})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Refeições"}),f.jsx(lS,{className:"w-6 h-6 text-green-500"})]}),f.jsx("div",{className:"text-3xl font-bold text-green-500 mb-2",children:C.totalMeals}),f.jsxs("div",{className:"text-sm text-gray-400",children:[Math.round(C.totalMeals/C.days*10)/10," por dia"]})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Fibra/Dia"}),f.jsx(Wp,{className:"w-6 h-6 text-yellow-500"})]}),f.jsxs("div",{className:"text-3xl font-bold text-yellow-500 mb-2",children:[C.averages.fiber,"g"]}),f.jsx("div",{className:"text-sm text-gray-400",children:"Meta: 25-35g por dia"})]})]}),C.mealTypes&&Object.keys(C.mealTypes).length>0&&f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6 mb-6",children:[f.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[f.jsx(uS,{className:"w-6 h-6 mr-2 text-orange-500"}),"Distribuição por Tipo de Refeição"]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(C.mealTypes).map(([oe,j])=>f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"text-2xl font-bold text-orange-500",children:j.count}),f.jsx("div",{className:"text-sm text-gray-400 mb-1",children:oe}),f.jsxs("div",{className:"text-xs text-gray-500",children:[Math.round(j.calories/j.count)," cal/média"]})]},oe))})]}),f.jsxs("div",{className:"bg-gray-800 rounded-xl p-6",children:[f.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center",children:[f.jsx(di,{className:"w-6 h-6 mr-2 text-gray-400"}),"Histórico de Refeições (",le.length,")"]}),le.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx("p",{className:"text-gray-400 mb-4",children:"Nenhuma refeição encontrada para os filtros selecionados."}),f.jsx("p",{className:"text-sm text-gray-500",children:"Tente ajustar os filtros ou adicionar novas refeições."}),f.jsx("button",{onClick:()=>r("/nutrition"),className:"mt-4 bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"Adicionar Refeição"})]}):f.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:le.map(oe=>{var j,N,R,D,P,L,I,Ge,Te,Q,ue,se;return f.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center space-x-3",children:[f.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-lg flex items-center justify-center",children:"🍽️"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-semibold",children:oe.mealType||"Refeição"}),f.jsxs("div",{className:"text-sm text-gray-400",children:[oe.createdAt.toLocaleDateString("pt-BR")," às ",oe.createdAt.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-lg font-bold text-orange-500",children:[((N=(j=oe.nutritionData)==null?void 0:j.totals)==null?void 0:N.calories)||0," cal"]}),f.jsxs("div",{className:"text-sm text-gray-400",children:[((R=oe.nutritionData)==null?void 0:R.confidence)||0,"% confiança"]})]})]}),f.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-3",children:[f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-sm font-semibold text-blue-400",children:[((P=(D=oe.nutritionData)==null?void 0:D.totals)==null?void 0:P.protein)||0,"g"]}),f.jsx("div",{className:"text-xs text-gray-500",children:"Proteína"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-sm font-semibold text-green-400",children:[((I=(L=oe.nutritionData)==null?void 0:L.totals)==null?void 0:I.carbs)||0,"g"]}),f.jsx("div",{className:"text-xs text-gray-500",children:"Carboidratos"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-sm font-semibold text-yellow-400",children:[((Te=(Ge=oe.nutritionData)==null?void 0:Ge.totals)==null?void 0:Te.fat)||0,"g"]}),f.jsx("div",{className:"text-xs text-gray-500",children:"Gordura"})]}),f.jsxs("div",{className:"text-center",children:[f.jsxs("div",{className:"text-sm font-semibold text-purple-400",children:[((ue=(Q=oe.nutritionData)==null?void 0:Q.totals)==null?void 0:ue.fiber)||0,"g"]}),f.jsx("div",{className:"text-xs text-gray-500",children:"Fibra"})]})]}),((se=oe.nutritionData)==null?void 0:se.foods)&&oe.nutritionData.foods.length>0&&f.jsxs("div",{className:"border-t border-gray-600 pt-3",children:[f.jsx("div",{className:"text-sm text-gray-400 mb-2",children:"Alimentos identificados:"}),f.jsxs("div",{className:"flex flex-wrap gap-2",children:[oe.nutritionData.foods.slice(0,4).map((_e,k)=>f.jsxs("span",{className:"bg-gray-600 text-xs px-2 py-1 rounded-full capitalize",children:[_e.name," (",_e.confidence,"%)"]},k)),oe.nutritionData.foods.length>4&&f.jsxs("span",{className:"text-xs text-gray-400",children:["+",oe.nutritionData.foods.length-4," mais"]})]})]})]},oe.id)})})]})]})]}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white flex items-center justify-center pt-20",children:f.jsxs("div",{className:"text-center",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Acesso Restrito"}),f.jsx("p",{className:"text-gray-400",children:"Faça login para ver seu histórico nutricional."})]})})},X6=({children:r,onLoadComplete:e})=>{const[t,i]=M.useState(0),[o,c]=M.useState(0),[h,p]=M.useState(!0),[g,y]=M.useState(0),b=()=>{const E=[];return E.push("/BANNER PRINCIPAL/TREINOS-GRATIS.png"),window.trainingsData&&window.trainingsData.sections&&window.trainingsData.sections.forEach(C=>{C.trainings.forEach(A=>{A.imageUrl&&E.push(`/${A.imageUrl}`)})}),[...new Set(E)]},T=async()=>{const E=b();c(E.length);let C=0;const A=E.map(z=>new Promise((V,H)=>{const K=new Image;K.onload=()=>{C++,i(C),y(Math.round(C/E.length*100)),V(z)},K.onerror=()=>{console.warn(`Falha ao carregar imagem: ${z}`),C++,i(C),y(Math.round(C/E.length*100)),V(z)},K.src=z}));try{await Promise.all(A),setTimeout(()=>{p(!1),e&&e()},500)}catch(z){console.error("Erro no preload de imagens:",z),p(!1),e&&e()}};return M.useEffect(()=>{const E=()=>{window.trainingsData?T():setTimeout(E,100)};E()},[]),h?f.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-gray-900 via-black to-gray-800 flex items-center justify-center z-50",children:f.jsxs("div",{className:"text-center space-y-8 px-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white tracking-tight",children:["Team",f.jsx("span",{className:"text-orange-500",children:"HIIT"})]}),f.jsx("p",{className:"text-gray-300 text-lg",children:"Preparando sua experiência de treino..."})]}),f.jsxs("div",{className:"w-full max-w-md mx-auto space-y-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 overflow-hidden",children:f.jsx("div",{className:"h-full bg-gradient-to-r from-orange-500 to-red-500 rounded-full transition-all duration-300 ease-out",style:{width:`${g}%`}})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse rounded-full"})]}),f.jsxs("div",{className:"flex justify-between text-sm text-gray-400",children:[f.jsx("span",{children:"Carregando imagens..."}),f.jsxs("span",{children:[t,"/",o]})]}),f.jsx("div",{className:"text-center",children:f.jsxs("span",{className:"text-2xl font-bold text-orange-500",children:[g,"%"]})})]}),f.jsxs("div",{className:"flex justify-center space-x-2",children:[f.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),f.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),f.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),f.jsx("div",{className:"text-center text-gray-400 text-sm max-w-sm mx-auto",children:f.jsx("p",{children:"💪 Prepare-se para transformar seu corpo com os melhores treinos HIIT!"})})]})}):r};function sc({children:r}){const[e,t]=M.useState(null),[i,o]=M.useState(!0),c=Cs();return M.useEffect(()=>zo(c,p=>{t(p),o(!1)}),[c]),i?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),f.jsx("p",{className:"text-gray-400",children:"Carregando..."})]})}):e?r:f.jsx(Pb,{to:"/auth",replace:!0})}function W6(){const{ToastContainer:r}=G1(),[e,t]=M.useState(!1),i=()=>{t(!0)};return f.jsxs(f.Fragment,{children:[f.jsx(X6,{onLoadComplete:i,children:f.jsxs(zA,{children:[f.jsx(or,{}),f.jsxs(gA,{children:[f.jsx(kn,{path:"/dashboard",element:f.jsx(E4,{})}),f.jsx(kn,{path:"/trainings/:id",element:f.jsx(wh,{})}),f.jsx(kn,{path:"/video/:moduleId/:videoId",element:f.jsx(wh,{})}),f.jsx(kn,{path:"/video/:moduleId",element:f.jsx(wh,{})}),f.jsx(kn,{path:"/player",element:f.jsx(wh,{})}),f.jsx(kn,{path:"/auth",element:f.jsx(G6,{})}),f.jsx(kn,{path:"/community",element:f.jsx(sc,{children:f.jsx(F6,{})})}),f.jsx(kn,{path:"/profile",element:f.jsx(sc,{children:f.jsx($6,{})})}),f.jsx(kn,{path:"/jornada-hiit",element:f.jsx(sc,{children:f.jsx(K6,{})})}),f.jsx(kn,{path:"/nutrition",element:f.jsx(sc,{children:f.jsx(Q6,{})})}),f.jsx(kn,{path:"/nutrition/history",element:f.jsx(sc,{children:f.jsx(Y6,{})})}),f.jsx(kn,{path:"/",element:f.jsx(Pb,{to:"/dashboard",replace:!0})})]})]})}),f.jsx(r,{})]})}function Z6(){return f.jsx(W6,{})}T2.createRoot(document.getElementById("root")).render(f.jsx(M.StrictMode,{children:f.jsx(_4,{children:f.jsx(Z6,{})})}));
